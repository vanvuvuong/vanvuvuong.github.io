<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=vi><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu - Kaizen - tốt hơn mỗi ngày</title><meta name=author content="Kaizen Teams"><meta name=description content="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><meta name=keywords content='ai generated post'><meta itemprop=name content="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><meta itemprop=description content="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><meta itemprop=datePublished content="2025-12-10T13:17:23+07:00"><meta itemprop=dateModified content="2025-12-11T05:02:01+07:00"><meta itemprop=wordCount content="8072"><meta itemprop=keywords content="Ai Generated Post"><meta property="og:url" content="https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/"><meta property="og:site_name" content="Kaizen - tốt hơn mỗi ngày"><meta property="og:title" content="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><meta property="og:description" content="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><meta property="og:locale" content="vi"><meta property="og:type" content="article"><meta property="article:section" content="bai-viet"><meta property="article:published_time" content="2025-12-10T13:17:23+07:00"><meta property="article:modified_time" content="2025-12-11T05:02:01+07:00"><meta property="article:tag" content="Ai Generated Post"><meta name=twitter:card content="summary"><meta name=twitter:title content="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><meta name=twitter:description content="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><meta name=application-name content="Kaizen - tốt hơn mỗi ngày"><meta name=apple-mobile-web-app-title content="Kaizen - tốt hơn mỗi ngày"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#2d89ef"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#FF7359><link rel=manifest href=/site.webmanifest><link rel=canonical type=text/html href=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/ title="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu - Kaizen - tốt hơn mỗi ngày"><link rel=prev type=text/html href=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ title="Linux Network Commands - Hướng Dẫn Chuyên Sâu"><link rel=next type=text/html href=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ title="Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer"><link rel=stylesheet href=/css/config.min.css><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Process Management, Systemd \u0026 Logging - Hướng Dẫn Chuyên Sâu","inLanguage":"vi","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/vanvuvuong.github.io\/bai-viet\/khoa-hoc-may-tinh\/linux-cli\/process-service-log\/"},"image":[{"@type":"ImageObject","url":"https:\/\/vanvuvuong.github.io\/images\/avatar.jpeg","width":330,"height":330}],"genre":"posts","keywords":"ai generated post","wordcount":8072,"url":"https:\/\/vanvuvuong.github.io\/bai-viet\/khoa-hoc-may-tinh\/linux-cli\/process-service-log\/","datePublished":"2025-12-10T13:17:23+07:00","dateModified":"2025-12-11T05:02:01+07:00","publisher":{"@type":"Organization","name":"Kaizen","logo":{"@type":"ImageObject","url":"https:\/\/vanvuvuong.github.io\/images\/avatar.jpeg","width":330,"height":330}},"author":{"@type":"Person","name":"Kaizen Teams"},"description":"Process Management, Systemd \u0026 Logging - Hướng Dẫn Chuyên Sâu"}</script><script src=/js/head/color-scheme.min.js></script></head><body data-instant-intensity=viewport data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Kaizen - tốt hơn mỗi ngày"><img class=logo src=/images/kaizen-logo.png alt="Kaizen - tốt hơn mỗi ngày" height=32 width=32><span class=header-title-text>Kaizen</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/gioi-thieu><i class="fa-solid fa-comments fa-fw fa-sm" aria-hidden=true></i> Giới thiệu</a></li><li class="menu-item has-children"><a class=menu-link href=/bai-viet><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Bài viết</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/bai-viet/khoa-hoc-may-tinh><i class="fa-solid fa-laptop fa-fw fa-sm" aria-hidden=true></i> Khoa học máy tính</a></li><li class=menu-item><a class=menu-link href=/bai-viet/cuoc-song><i class="fa-solid fa-life-ring fa-fw fa-sm" aria-hidden=true></i> Cuộc sống</a></li><li class=menu-item><a class=menu-link href=/bai-viet/hoc-vien-luat-tu-nhien><i class="fa-solid fa-dragon fa-fw fa-sm" aria-hidden=true></i> Học viện luật tự nhiên</a></li><li class=menu-item><a class=menu-link href=/collections><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden=true></i> Bộ sưu tập</a></li><li class=menu-item><a class=menu-link href=/tags><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=/sach-hay><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Sách hay</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Tìm tiêu đề hoặc nội dung..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title="Tìm kiếm"><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Xoá><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Đổi chủ đề"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Kaizen - tốt hơn mỗi ngày"><img class=logo src=/images/kaizen-logo.png alt="Kaizen - tốt hơn mỗi ngày" height=26 width=26><span class=header-title-text>Kaizen</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Tìm tiêu đề hoặc nội dung..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title="Tìm kiếm"><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Xoá><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Huỷ</a></li><li class=menu-item><a class=menu-link href=/gioi-thieu><i class="fa-solid fa-comments fa-fw fa-sm" aria-hidden=true></i> Giới thiệu</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/bai-viet><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Bài viết</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/bai-viet/khoa-hoc-may-tinh><i class="fa-solid fa-laptop fa-fw fa-sm" aria-hidden=true></i> Khoa học máy tính</a></li><li class=menu-item><a class=menu-link href=/bai-viet/cuoc-song><i class="fa-solid fa-life-ring fa-fw fa-sm" aria-hidden=true></i> Cuộc sống</a></li><li class=menu-item><a class=menu-link href=/bai-viet/hoc-vien-luat-tu-nhien><i class="fa-solid fa-dragon fa-fw fa-sm" aria-hidden=true></i> Học viện luật tự nhiên</a></li><li class=menu-item><a class=menu-link href=/collections><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden=true></i> Bộ sưu tập</a></li><li class=menu-item><a class=menu-link href=/tags><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=/sach-hay><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Sách hay</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Đổi chủ đề"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=fi-container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="Bộ sưu tập"><div class="details collection-details open"><div class="details-summary collection-summary"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i>
<span class=collection-name title="Bộ sưu tập">Linux Cli</span>
<span class=collection-count>11</span><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class="details-content collection-content"><nav><ul class=collection-list><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/shell-co-ban/ title="Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux">Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/grep-diff-sort/ title="Grep, Sort, Diff - Hướng Dẫn Chuyên Sâu">Grep, Sort, Diff - Hướng Dẫn Chuyên Sâu</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ title="Linux Network Commands - Hướng Dẫn Chuyên Sâu">Linux Network Commands - Hướng Dẫn Chuyên Sâu</a></li><li class=collection-item><span class=active title="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu">Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu</span></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ title="Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer">Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/storage/ title="Disk, Storage & Filesystem - Hướng Dẫn Chuyên Sâu">Disk, Storage & Filesystem - Hướng Dẫn Chuyên Sâu</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/user-group/ title="Linux User & Group Management - Hướng Dẫn Chuyên Sâu">Linux User & Group Management - Hướng Dẫn Chuyên Sâu</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ title="Linux Cryptography & Security Tools - Hướng Dẫn Chuyên Sâu">Linux Cryptography & Security Tools - Hướng Dẫn Chuyên Sâu</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/package-manager/ title="Linux Package Management - Hướng Dẫn Chuyên Sâu">Linux Package Management - Hướng Dẫn Chuyên Sâu</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/selinux/ title="Selinux & Apparmor - Kiểm Soát Truy Cập Bắt Buộc">Selinux & Apparmor - Kiểm Soát Truy Cập Bắt Buộc</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/file-and-folder/ title="Find, Ln, Lsof, Tar, Chmod - Hướng Dẫn Chuyên Sâu">Find, Ln, Lsof, Tar, Chmod - Hướng Dẫn Chuyên Sâu</a></li></ul><div class=collection-nav-simple><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ class=collection-nav-item rel=prev title="Linux Network Commands - Hướng Dẫn Chuyên Sâu"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i></a><span class=text-secondary>4/11</span><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ class=collection-nav-item rel=next title="Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer"><i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></nav></div></div><div class="details related-details open"><div class="details-summary related-summary"><i class="fa-solid fa-fire fa-fade text-danger fa-fw" aria-hidden=true></i>
<span class=related-title>Nội dung liên quan</span><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class="details-content related-content"><ul class=related-list><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ title="Linux Network Commands - Hướng Dẫn Chuyên Sâu">Linux Network Commands - Hướng Dẫn Chuyên Sâu</a></li><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/grep-diff-sort/ title="Grep, Sort, Diff - Hướng Dẫn Chuyên Sâu">Grep, Sort, Diff - Hướng Dẫn Chuyên Sâu</a></li><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/shell-co-ban/ title="Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux">Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux</a></li></ul></div></div></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://vanvuvuong.github.io title="Tác giả" target=_blank rel="external nofollow noopener noreferrer author" class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
Kaizen Teams</a></span><span class=post-included-in>&nbsp;trong <a href=/collections/linux-cli/ class=post-collection title="Bộ sưu tập - Linux Cli"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i> Linux Cli</a></span></div><div class=post-meta-line><span title="đăng ngày 2025-12-10 13:17:23"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2025-12-10>2025-12-10</time></span>&nbsp;<span title="Cập nhật ngày 2025-12-11 05:02:01"><i class="fa-regular fa-calendar-check fa-fw me-1" aria-hidden=true></i><time datetime=2025-12-11>2025-12-11</time></span>&nbsp;<span title="8072 từ"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>Khoảng 8100 từ</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>38 phút</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Nội dung</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#phần-1-process-fundamentals>PHẦN 1: PROCESS FUNDAMENTALS</a><ul><li><a href=#11-process-là-gì>1.1 Process Là Gì?</a></li><li><a href=#12-process-states>1.2 Process States</a></li><li><a href=#13-process-tree--relationships>1.3 Process Tree & Relationships</a></li><li><a href=#14-proc-filesystem---process-information-source>1.4 /proc Filesystem - Process Information Source</a></li></ul></li><li><a href=#phần-2-ps---process-status>PHẦN 2: PS - PROCESS STATUS</a><ul><li><a href=#21-hai-style-syntax>2.1 Hai Style Syntax</a></li><li><a href=#22-các-lệnh-hay-dùng>2.2 Các Lệnh Hay Dùng</a></li><li><a href=#23-real-time-top-và-htop>2.3 Real-time: top và htop</a></li></ul></li><li><a href=#phần-3-signals--process-control>PHẦN 3: SIGNALS & PROCESS CONTROL</a><ul><li><a href=#31-signal-là-gì>3.1 Signal Là Gì?</a></li><li><a href=#32-common-signals>3.2 Common Signals</a></li><li><a href=#33-kill-pkill-killall>3.3 kill, pkill, killall</a></li><li><a href=#34-graceful-shutdown-pattern>3.4 Graceful Shutdown Pattern</a></li><li><a href=#35-job-control-bg-fg-jobs-nohup>3.5 Job Control (bg, fg, jobs, nohup)</a></li></ul></li><li><a href=#phần-4-process-scheduling--priority>PHẦN 4: PROCESS SCHEDULING & PRIORITY</a><ul><li><a href=#41-linux-cfs-scheduler>4.1 Linux CFS Scheduler</a></li><li><a href=#42-nice-value-vs-priority>4.2 Nice Value vs Priority</a></li><li><a href=#43-nice-và-renice>4.3 nice và renice</a></li></ul></li><li><a href=#phần-5-systemd---init-system>PHẦN 5: SYSTEMD - INIT SYSTEM</a><ul><li><a href=#51-systemd-architecture>5.1 Systemd Architecture</a></li><li><a href=#52-dependency-graph>5.2 Dependency Graph</a></li><li><a href=#53-systemctl---service-management>5.3 systemctl - Service Management</a></li><li><a href=#54-service-unit-file>5.4 Service Unit File</a></li><li><a href=#55-service-sysvinit-compatibility>5.5 service (SysVinit compatibility)</a></li></ul></li><li><a href=#phần-6-scheduling---crontab--at>PHẦN 6: SCHEDULING - CRONTAB & AT</a><ul><li><a href=#61-cron-architecture>6.1 Cron Architecture</a></li><li><a href=#62-crontab-syntax>6.2 Crontab Syntax</a></li><li><a href=#63-crontab-management>6.3 Crontab Management</a></li><li><a href=#64-at---one-time-scheduling>6.4 at - One-time Scheduling</a></li><li><a href=#65-systemd-timers-modern-alternative-to-cron>6.5 Systemd Timers (Modern Alternative to Cron)</a></li></ul></li><li><a href=#phần-7-memory--system-monitoring>PHẦN 7: MEMORY & SYSTEM MONITORING</a><ul><li><a href=#71-virtual-memory-concepts>7.1 Virtual Memory Concepts</a></li><li><a href=#72-free---memory-usage>7.2 free - Memory Usage</a></li><li><a href=#73-vmstat---virtual-memory-statistics>7.3 vmstat - Virtual Memory Statistics</a></li><li><a href=#74-sar---system-activity-reporter>7.4 sar - System Activity Reporter</a></li><li><a href=#75-dmesg---kernel-ring-buffer>7.5 dmesg - Kernel Ring Buffer</a></li><li><a href=#76-uptime--w>7.6 uptime & w</a></li></ul></li><li><a href=#phần-8-logging---journalctl--friends>PHẦN 8: LOGGING - JOURNALCTL & FRIENDS</a><ul><li><a href=#81-systemd-journal-architecture>8.1 Systemd Journal Architecture</a></li><li><a href=#82-journalctl---query-journal>8.2 journalctl - Query Journal</a></li><li><a href=#83-filtering-journal>8.3 Filtering Journal</a></li><li><a href=#84-journal-maintenance>8.4 Journal Maintenance</a></li><li><a href=#85-traditional-logging>8.5 Traditional Logging</a></li><li><a href=#86-logger---write-to-syslog>8.6 logger - Write to Syslog</a></li><li><a href=#87-logrotate---log-rotation>8.7 logrotate - Log Rotation</a></li><li><a href=#88-last-lastb-lastlog---login-history>8.8 last, lastb, lastlog - Login History</a></li></ul></li><li><a href=#phần-9-system-information>PHẦN 9: SYSTEM INFORMATION</a><ul><li><a href=#91-uname---kernel-info>9.1 uname - Kernel Info</a></li><li><a href=#92-hostnamectl-timedatectl-localectl>9.2 hostnamectl, timedatectl, localectl</a></li></ul></li><li><a href=#tóm-tắt-nhanh>TÓM TẮT NHANH</a><ul><li><a href=#process-viewing>Process Viewing</a></li><li><a href=#process-control>Process Control</a></li><li><a href=#job-control>Job Control</a></li><li><a href=#scheduling>Scheduling</a></li><li><a href=#systemd>Systemd</a></li><li><a href=#memorysystem>Memory/System</a></li><li><a href=#logging>Logging</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h2 class=heading-element id=phần-1-process-fundamentals><span>PHẦN 1: PROCESS FUNDAMENTALS</span>
<a href=#ph%e1%ba%a7n-1-process-fundamentals class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=11-process-là-gì><span>1.1 Process Là Gì?</span>
<a href=#11-process-l%c3%a0-g%c3%ac class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>PROCESS</span> <span class=n>vs</span> <span class=n>PROGRAM</span>                       <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Program</span> <span class=o>=</span> <span class=ne>File</span> <span class=n>thực</span> <span class=n>thi</span> <span class=n>trên</span> <span class=n>disk</span> <span class=p>(</span><span class=k>static</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Process</span> <span class=o>=</span> <span class=n>Program</span> <span class=err>đ</span><span class=n>ang</span> <span class=n>chạy</span> <span class=n>trong</span> <span class=n>memory</span> <span class=p>(</span><span class=n>dynamic</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span> <span class=n>Program</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>tạo</span> <span class=n>nhiều</span> <span class=n>Process</span> <span class=p>(</span><span class=n>nhiều</span> <span class=n>instance</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>VD</span><span class=p>:</span> <span class=n>Mở</span> <span class=mi>3</span> <span class=n>terminal</span> <span class=err>→</span> <span class=mi>3</span> <span class=n>process</span> <span class=n>bash</span> <span class=n>từ</span> <span class=mi>1</span> <span class=n>program</span> <span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>bash</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>PROCESS</span> <span class=n>MEMORY</span> <span class=n>LAYOUT</span>                    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>High</span> <span class=n>Address</span>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>     <span class=n>Stack</span>       <span class=err>│</span> <span class=err>←</span> <span class=n>Local</span> <span class=n>variables</span><span class=p>,</span> <span class=n>function</span> <span class=n>calls</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>↓</span>         <span class=err>│</span>   <span class=n>Grows</span> <span class=n>downward</span>
</span></span><span class=line><span class=cl><span class=err>├─────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                 <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=p>(</span><span class=n>free</span> <span class=n>space</span><span class=p>)</span>  <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                 <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>├─────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>↑</span>         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>     <span class=n>Heap</span>        <span class=err>│</span> <span class=err>←</span> <span class=n>Dynamic</span> <span class=n>allocation</span> <span class=p>(</span><span class=n>malloc</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                 <span class=err>│</span>   <span class=n>Grows</span> <span class=n>upward</span>
</span></span><span class=line><span class=cl><span class=err>├─────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span>      <span class=n>BSS</span>        <span class=err>│</span> <span class=err>←</span> <span class=n>Uninitialized</span> <span class=n>global</span> <span class=n>variables</span>
</span></span><span class=line><span class=cl><span class=err>├─────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span>     <span class=n>Data</span>        <span class=err>│</span> <span class=err>←</span> <span class=n>Initialized</span> <span class=n>global</span> <span class=n>variables</span>
</span></span><span class=line><span class=cl><span class=err>├─────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span>     <span class=n>Text</span>        <span class=err>│</span> <span class=err>←</span> <span class=n>Program</span> <span class=n>code</span> <span class=p>(</span><span class=n>read</span><span class=o>-</span><span class=n>only</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────┘</span>
</span></span><span class=line><span class=cl><span class=n>Low</span> <span class=n>Address</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Mỗi</span> <span class=n>process</span> <span class=n>có</span> <span class=n>address</span> <span class=n>space</span> <span class=n>RIÊNG</span> <span class=p>(</span><span class=n>virtual</span> <span class=n>memory</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err>→</span> <span class=n>Process</span> <span class=n>A</span> <span class=n>không</span> <span class=n>thể</span> <span class=err>đọ</span><span class=n>c</span> <span class=n>memory</span> <span class=n>của</span> <span class=n>Process</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=err>→</span> <span class=n>Isolation</span> <span class=o>&amp;</span> <span class=n>Security</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=12-process-states><span>1.2 Process States</span>
<a href=#12-process-states class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=n>PROCESS</span> <span class=n>STATE</span> <span class=n>MACHINE</span>                          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=err>┌──────────────────┐</span>
</span></span><span class=line><span class=cl>         <span class=n>fork</span><span class=p>()</span>     <span class=err>│</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl>        <span class=err>────────────►</span>    <span class=n>CREATED</span>       <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>   <span class=p>(</span><span class=n>New</span><span class=p>)</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>└────────┬─────────┘</span>
</span></span><span class=line><span class=cl>                             <span class=err>│</span> <span class=n>admitted</span>
</span></span><span class=line><span class=cl>                             <span class=err>▼</span>
</span></span><span class=line><span class=cl>                    <span class=err>┌──────────────────┐</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>                  <span class=err>│◄─────────────────┐</span>
</span></span><span class=line><span class=cl>              <span class=err>┌─────│</span>     <span class=n>READY</span>        <span class=err>│</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl>              <span class=err>│</span>     <span class=err>│</span>   <span class=p>(</span><span class=n>Runnable</span><span class=p>)</span>     <span class=err>│─────┐</span>            <span class=err>│</span>
</span></span><span class=line><span class=cl>              <span class=err>│</span>     <span class=err>└──────────────────┘</span>     <span class=err>│</span>            <span class=err>│</span>
</span></span><span class=line><span class=cl>              <span class=err>│</span>              <span class=err>▲</span>               <span class=err>│</span>            <span class=err>│</span>
</span></span><span class=line><span class=cl>   <span class=n>I</span><span class=o>/</span><span class=n>O</span> <span class=n>done</span>   <span class=err>│</span>              <span class=err>│</span> <span class=n>preempted</span>     <span class=err>│</span> <span class=n>scheduler</span>  <span class=err>│</span> <span class=n>I</span><span class=o>/</span><span class=n>O</span> <span class=n>wait</span>
</span></span><span class=line><span class=cl>   <span class=n>event</span>      <span class=err>│</span>              <span class=err>│</span>               <span class=err>│</span> <span class=n>dispatch</span>   <span class=err>│</span> <span class=n>sleep</span>
</span></span><span class=line><span class=cl>              <span class=err>│</span>              <span class=err>│</span>               <span class=err>▼</span>            <span class=err>│</span>
</span></span><span class=line><span class=cl>              <span class=err>│</span>     <span class=err>┌──────────────────┐</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl>              <span class=err>│</span>     <span class=err>│</span>                  <span class=err>│</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl>              <span class=err>└─────│</span>    <span class=n>RUNNING</span>       <span class=err>│──────────────────┘</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>└────────┬─────────┘</span>
</span></span><span class=line><span class=cl>                             <span class=err>│</span> <span class=n>exit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                             <span class=err>▼</span>
</span></span><span class=line><span class=cl>                    <span class=err>┌──────────────────┐</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>    <span class=n>ZOMBIE</span>        <span class=err>│</span> <span class=err>←</span> <span class=n>Exited</span> <span class=n>nhưng</span> <span class=n>parent</span> <span class=n>chưa</span> <span class=n>wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>   <span class=p>(</span><span class=n>Terminated</span><span class=p>)</span>   <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>└────────┬─────────┘</span>
</span></span><span class=line><span class=cl>                             <span class=err>│</span> <span class=n>parent</span> <span class=n>calls</span> <span class=n>wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                             <span class=err>▼</span>
</span></span><span class=line><span class=cl>                    <span class=err>┌──────────────────┐</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>    <span class=n>REMOVED</span>       <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>  <span class=p>(</span><span class=n>từ</span> <span class=n>process</span>     <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>│</span>     <span class=n>table</span><span class=p>)</span>       <span class=err>│</span>
</span></span><span class=line><span class=cl>                    <span class=err>└──────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Linux</span> <span class=n>Process</span> <span class=n>States</span> <span class=p>(</span><span class=n>trong</span> <span class=n>ps</span> <span class=n>output</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=err>┌───────┬─────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Code</span>  <span class=err>│</span> <span class=n>Meaning</span>                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>├───────┼─────────────────────────────────────────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>R</span>     <span class=err>│</span> <span class=n>Running</span> <span class=ow>or</span> <span class=n>Runnable</span> <span class=p>(</span><span class=ow>in</span> <span class=n>run</span> <span class=n>queue</span><span class=p>)</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>S</span>     <span class=err>│</span> <span class=n>Interruptible</span> <span class=n>Sleep</span> <span class=p>(</span><span class=n>waiting</span> <span class=k>for</span> <span class=n>event</span><span class=p>)</span>             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>D</span>     <span class=err>│</span> <span class=n>Uninterruptible</span> <span class=n>Sleep</span> <span class=p>(</span><span class=n>usually</span> <span class=n>I</span><span class=o>/</span><span class=n>O</span><span class=p>)</span> <span class=o>-</span> <span class=n>KHÔNG</span> <span class=n>kill</span> <span class=err>đ</span><span class=n>c</span> <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>T</span>     <span class=err>│</span> <span class=n>Stopped</span> <span class=p>(</span><span class=n>by</span> <span class=k>signal</span> <span class=ow>or</span> <span class=n>debugger</span><span class=p>)</span>                     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Z</span>     <span class=err>│</span> <span class=n>Zombie</span> <span class=p>(</span><span class=n>terminated</span> <span class=n>but</span> <span class=ow>not</span> <span class=n>reaped</span> <span class=n>by</span> <span class=n>parent</span><span class=p>)</span>        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>I</span>     <span class=err>│</span> <span class=n>Idle</span> <span class=p>(</span><span class=n>kernel</span> <span class=n>thread</span><span class=p>)</span>                                <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└───────┴─────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Additional</span> <span class=n>characters</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span> <span class=o>=</span> <span class=n>high</span> <span class=n>priority</span> <span class=p>(</span><span class=n>nice</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>N</span> <span class=o>=</span> <span class=n>low</span> <span class=n>priority</span> <span class=p>(</span><span class=n>nice</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>L</span> <span class=o>=</span> <span class=n>has</span> <span class=n>pages</span> <span class=n>locked</span> <span class=ow>in</span> <span class=n>memory</span>
</span></span><span class=line><span class=cl><span class=n>s</span> <span class=o>=</span> <span class=n>session</span> <span class=n>leader</span>
</span></span><span class=line><span class=cl><span class=n>l</span> <span class=o>=</span> <span class=n>multi</span><span class=o>-</span><span class=n>threaded</span>
</span></span><span class=line><span class=cl><span class=o>+</span> <span class=o>=</span> <span class=n>foreground</span> <span class=n>process</span> <span class=n>group</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=13-process-tree--relationships><span>1.3 Process Tree & Relationships</span>
<a href=#13-process-tree--relationships class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    PROCESS HIERARCHY                        │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Linux process = TREE structure (rooted at init/systemd)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            systemd (PID 1)
</span></span><span class=line><span class=cl>           /       |        \
</span></span><span class=line><span class=cl>      sshd      nginx      cron
</span></span><span class=line><span class=cl>       |        / | \        |
</span></span><span class=line><span class=cl>    sshd     worker worker  bash
</span></span><span class=line><span class=cl>      |       processes      |
</span></span><span class=line><span class=cl>    bash                   script.sh
</span></span><span class=line><span class=cl>      |
</span></span><span class=line><span class=cl>     vim
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Relationships:
</span></span><span class=line><span class=cl>- Parent Process: Process tạo ra process khác (fork)
</span></span><span class=line><span class=cl>- Child Process: Process được tạo ra
</span></span><span class=line><span class=cl>- Orphan Process: Parent chết trước → được adopt bởi PID 1
</span></span><span class=line><span class=cl>- Zombie Process: Child chết nhưng parent chưa gọi wait()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PPID = Parent Process ID
</span></span><span class=line><span class=cl>PID = Process ID
</span></span><span class=line><span class=cl>PGID = Process Group ID (job control)
</span></span><span class=line><span class=cl>SID = Session ID (terminal session)</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Xem process tree</span>
</span></span><span class=line><span class=cl>pstree
</span></span><span class=line><span class=cl>pstree -p                    <span class=c1># Hiện PID</span>
</span></span><span class=line><span class=cl>pstree -p -s <span class=nv>$$</span>              <span class=c1># Ancestors của current shell</span>
</span></span><span class=line><span class=cl>pstree -p -c                 <span class=c1># Không gộp identical branches</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output:</span>
</span></span><span class=line><span class=cl><span class=c1># systemd(1)───sshd(1234)───sshd(5678)───bash(9012)───pstree(9999)</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=14-proc-filesystem---process-information-source><span>1.4 /proc Filesystem - Process Information Source</span>
<a href=#14-proc-filesystem---process-information-source class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=o>/</span><span class=n>proc</span> <span class=o>-</span> <span class=n>VIRTUAL</span> <span class=n>FILESYSTEM</span>                     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/</span><span class=n>proc</span> <span class=n>không</span> <span class=n>phải</span> <span class=n>disk</span> <span class=o>-</span> <span class=n>Kernel</span> <span class=n>expose</span> <span class=n>info</span> <span class=n>qua</span> <span class=n>filesystem</span> <span class=n>interface</span>
</span></span><span class=line><span class=cl><span class=n>ps</span><span class=p>,</span> <span class=n>top</span><span class=p>,</span> <span class=n>htop</span><span class=o>...</span> <span class=err>đề</span><span class=n>u</span> <span class=err>đọ</span><span class=n>c</span> <span class=n>từ</span> <span class=o>/</span><span class=n>proc</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/</span><span class=n>proc</span><span class=o>/</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=mi>1</span><span class=o>/</span>                      <span class=c1># PID 1 (systemd)</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>cmdline</span>             <span class=c1># Command line arguments</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>cwd</span> <span class=o>-&gt;</span> <span class=o>/</span>            <span class=c1># Current working directory (symlink)</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>environ</span>             <span class=c1># Environment variables</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>exe</span> <span class=o>-&gt;</span> <span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>lib</span><span class=o>/...</span> <span class=c1># Executable (symlink)</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>fd</span><span class=o>/</span>                 <span class=c1># File descriptors</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>│</span>   <span class=err>├──</span> <span class=mi>0</span> <span class=o>-&gt;</span> <span class=o>/</span><span class=n>dev</span><span class=o>/</span><span class=n>null</span>  <span class=c1># stdin</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>│</span>   <span class=err>├──</span> <span class=mi>1</span> <span class=o>-&gt;</span> <span class=o>/</span><span class=n>dev</span><span class=o>/</span><span class=n>null</span>  <span class=c1># stdout</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>│</span>   <span class=err>└──</span> <span class=mi>2</span> <span class=o>-&gt;</span> <span class=o>/</span><span class=n>dev</span><span class=o>/</span><span class=n>null</span>  <span class=c1># stderr</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>maps</span>                <span class=c1># Memory mappings</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>stat</span>                <span class=c1># Process status (raw)</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>status</span>              <span class=c1># Process status (human-readable)</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>io</span>                  <span class=c1># I/O statistics</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>└──</span> <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=mi>1234</span><span class=o>/</span>                   <span class=c1># PID 1234</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=mi>5678</span><span class=o>/</span>                   <span class=c1># PID 5678</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>cpuinfo</span>                 <span class=c1># CPU information</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>meminfo</span>                 <span class=c1># Memory information</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>loadavg</span>                 <span class=c1># Load average</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>uptime</span>                  <span class=c1># System uptime</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>version</span>                 <span class=c1># Kernel version</span>
</span></span><span class=line><span class=cl><span class=err>└──</span> <span class=o>...</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Đọc trực tiếp từ /proc</span>
</span></span><span class=line><span class=cl>cat /proc/1234/cmdline <span class=p>|</span> tr <span class=s1>&#39;\0&#39;</span> <span class=s1>&#39; &#39;</span>    <span class=c1># Command của PID 1234</span>
</span></span><span class=line><span class=cl>cat /proc/1234/status                    <span class=c1># Status chi tiết</span>
</span></span><span class=line><span class=cl>ls -l /proc/1234/fd                      <span class=c1># File descriptors</span>
</span></span><span class=line><span class=cl>cat /proc/1234/environ <span class=p>|</span> tr <span class=s1>&#39;\0&#39;</span> <span class=s1>&#39;\n&#39;</span>   <span class=c1># Environment variables</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># System-wide</span>
</span></span><span class=line><span class=cl>cat /proc/loadavg          <span class=c1># Load average</span>
</span></span><span class=line><span class=cl>cat /proc/meminfo          <span class=c1># Memory info</span>
</span></span><span class=line><span class=cl>cat /proc/cpuinfo          <span class=c1># CPU info</span>
</span></span><span class=line><span class=cl>cat /proc/uptime           <span class=c1># Uptime in seconds</span></span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-2-ps---process-status><span>PHẦN 2: PS - PROCESS STATUS</span>
<a href=#ph%e1%ba%a7n-2-ps---process-status class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=21-hai-style-syntax><span>2.1 Hai Style Syntax</span>
<a href=#21-hai-style-syntax class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ps có 2 style syntax (lịch sử Unix wars):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># BSD style (không có dash)</span>
</span></span><span class=line><span class=cl>ps aux
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># UNIX/POSIX style (có dash)</span>
</span></span><span class=line><span class=cl>ps -ef
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># GNU long options (có double dash)</span>
</span></span><span class=line><span class=cl>ps --forest</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=22-các-lệnh-hay-dùng><span>2.2 Các Lệnh Hay Dùng</span>
<a href=#22-c%c3%a1c-l%e1%bb%87nh-hay-d%c3%b9ng class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Liệt kê tất cả processes</span>
</span></span><span class=line><span class=cl>ps aux                      <span class=c1># BSD style - đầy đủ nhất</span>
</span></span><span class=line><span class=cl>ps -ef                      <span class=c1># UNIX style</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output của ps aux:</span>
</span></span><span class=line><span class=cl><span class=c1># USER  PID %CPU %MEM   VSZ   RSS TTY  STAT START   TIME COMMAND</span>
</span></span><span class=line><span class=cl><span class=c1># root    1  0.0  0.1 16789  1234 ?    Ss   Dec01   0:05 /sbin/init</span>
</span></span><span class=line><span class=cl><span class=c1># nginx 123  0.5  1.2 45678 12345 ?    S    10:00   1:23 nginx: worker</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giải thích columns:</span>
</span></span><span class=line><span class=cl><span class=c1># USER:    Owner</span>
</span></span><span class=line><span class=cl><span class=c1># PID:     Process ID</span>
</span></span><span class=line><span class=cl><span class=c1># %CPU:    CPU usage (%)</span>
</span></span><span class=line><span class=cl><span class=c1># %MEM:    Memory usage (%)</span>
</span></span><span class=line><span class=cl><span class=c1># VSZ:     Virtual memory size (KB) - toàn bộ address space</span>
</span></span><span class=line><span class=cl><span class=c1># RSS:     Resident Set Size (KB) - physical memory thực dùng</span>
</span></span><span class=line><span class=cl><span class=c1># TTY:     Terminal (? = no terminal, daemon)</span>
</span></span><span class=line><span class=cl><span class=c1># STAT:    State (R/S/D/T/Z + modifiers)</span>
</span></span><span class=line><span class=cl><span class=c1># START:   Start time</span>
</span></span><span class=line><span class=cl><span class=c1># TIME:    Cumulative CPU time</span>
</span></span><span class=line><span class=cl><span class=c1># COMMAND: Command line</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Process của user cụ thể</span>
</span></span><span class=line><span class=cl>ps -u nginx
</span></span><span class=line><span class=cl>ps -U root                  <span class=c1># Real user (không phải effective)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Process theo tên</span>
</span></span><span class=line><span class=cl>ps -C nginx                 <span class=c1># Tên command</span>
</span></span><span class=line><span class=cl>ps aux <span class=p>|</span> grep nginx         <span class=c1># Cách phổ biến nhưng include grep process</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hiện process tree</span>
</span></span><span class=line><span class=cl>ps auxf                     <span class=c1># BSD + forest</span>
</span></span><span class=line><span class=cl>ps -ejH                     <span class=c1># UNIX + hierarchy</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Custom output format</span>
</span></span><span class=line><span class=cl>ps -eo pid,ppid,user,%cpu,%mem,stat,cmd
</span></span><span class=line><span class=cl>ps -eo pid,ppid,ni,pri,comm --sort<span class=o>=</span>-%cpu <span class=p>|</span> head   <span class=c1># Sort by CPU</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xem threads</span>
</span></span><span class=line><span class=cl>ps -eLf                     <span class=c1># List threads</span>
</span></span><span class=line><span class=cl>ps -T -p <span class=m>1234</span>               <span class=c1># Threads của PID 1234</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=23-real-time-top-và-htop><span>2.3 Real-time: top và htop</span>
<a href=#23-real-time-top-v%c3%a0-htop class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                        <span class=n>TOP</span> <span class=n>OUTPUT</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>top</span> <span class=o>-</span> <span class=mi>14</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>45</span> <span class=n>up</span> <span class=mi>10</span> <span class=n>days</span><span class=p>,</span> <span class=mi>2</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span> <span class=mi>3</span> <span class=n>users</span><span class=p>,</span> <span class=nb>load</span> <span class=n>average</span><span class=p>:</span> <span class=mf>0.52</span><span class=p>,</span> <span class=mf>0.58</span><span class=p>,</span> <span class=mf>0.59</span>
</span></span><span class=line><span class=cl>      <span class=err>│</span>              <span class=err>│</span>           <span class=err>│</span>                      <span class=err>└──</span> <span class=mi>15</span> <span class=nb>min</span> <span class=n>avg</span>
</span></span><span class=line><span class=cl>      <span class=err>│</span>              <span class=err>│</span>           <span class=err>│</span>                 <span class=err>└───────</span> <span class=mi>5</span> <span class=nb>min</span> <span class=n>avg</span>
</span></span><span class=line><span class=cl>      <span class=err>│</span>              <span class=err>│</span>           <span class=err>└──────────────────────────</span> <span class=mi>1</span> <span class=nb>min</span> <span class=n>avg</span>
</span></span><span class=line><span class=cl>      <span class=err>│</span>              <span class=err>└──────</span> <span class=n>Logged</span> <span class=ow>in</span> <span class=n>users</span>
</span></span><span class=line><span class=cl>      <span class=err>└─────────────</span> <span class=n>Uptime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Tasks</span><span class=p>:</span> <span class=mi>256</span> <span class=n>total</span><span class=p>,</span>   <span class=mi>1</span> <span class=n>running</span><span class=p>,</span> <span class=mi>255</span> <span class=n>sleeping</span><span class=p>,</span>   <span class=mi>0</span> <span class=n>stopped</span><span class=p>,</span>   <span class=mi>0</span> <span class=n>zombie</span>
</span></span><span class=line><span class=cl>       <span class=err>│</span>            <span class=err>│</span>          <span class=err>│</span>               <span class=err>│</span>            <span class=err>└──</span> <span class=n>Zombie</span>
</span></span><span class=line><span class=cl>       <span class=err>│</span>            <span class=err>│</span>          <span class=err>│</span>               <span class=err>└──</span> <span class=n>Stopped</span> <span class=p>(</span><span class=n>Ctrl</span><span class=o>+</span><span class=n>Z</span><span class=p>,</span> <span class=n>debugger</span><span class=p>)</span>
</span></span><span class=line><span class=cl>       <span class=err>│</span>            <span class=err>│</span>          <span class=err>└──</span> <span class=n>Sleeping</span> <span class=p>(</span><span class=n>waiting</span> <span class=n>I</span><span class=o>/</span><span class=n>O</span><span class=p>,</span> <span class=n>timer</span><span class=o>...</span><span class=p>)</span>
</span></span><span class=line><span class=cl>       <span class=err>│</span>            <span class=err>└──</span> <span class=n>Actually</span> <span class=n>running</span> <span class=n>on</span> <span class=n>CPU</span>
</span></span><span class=line><span class=cl>       <span class=err>└──</span> <span class=n>Total</span> <span class=n>processes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>%</span><span class=n>Cpu</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>  <span class=mf>5.2</span> <span class=n>us</span><span class=p>,</span>  <span class=mf>2.1</span> <span class=n>sy</span><span class=p>,</span>  <span class=mf>0.0</span> <span class=n>ni</span><span class=p>,</span> <span class=mf>92.1</span> <span class=n>id</span><span class=p>,</span>  <span class=mf>0.3</span> <span class=n>wa</span><span class=p>,</span>  <span class=mf>0.0</span> <span class=n>hi</span><span class=p>,</span>  <span class=mf>0.3</span> <span class=n>si</span><span class=p>,</span>  <span class=mf>0.0</span> <span class=n>st</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>        <span class=err>│</span>        <span class=err>│</span>       <span class=err>│</span>         <span class=err>│</span>        <span class=err>│</span>        <span class=err>│</span>        <span class=err>└──</span> <span class=n>Steal</span> <span class=p>(</span><span class=n>VM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>        <span class=err>│</span>        <span class=err>│</span>       <span class=err>│</span>         <span class=err>│</span>        <span class=err>│</span>        <span class=err>└──</span> <span class=n>Software</span> <span class=n>interrupt</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>        <span class=err>│</span>        <span class=err>│</span>       <span class=err>│</span>         <span class=err>│</span>        <span class=err>└──</span> <span class=n>Hardware</span> <span class=n>interrupt</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>        <span class=err>│</span>        <span class=err>│</span>       <span class=err>│</span>         <span class=err>└──</span> <span class=n>I</span><span class=o>/</span><span class=n>O</span> <span class=n>wait</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>        <span class=err>│</span>        <span class=err>│</span>       <span class=err>└──</span> <span class=n>Idle</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>        <span class=err>│</span>        <span class=err>└──</span> <span class=n>Nice</span> <span class=p>(</span><span class=n>low</span> <span class=n>priority</span> <span class=n>user</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>        <span class=err>└──</span> <span class=n>System</span> <span class=p>(</span><span class=n>kernel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=err>└──</span> <span class=n>User</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>MiB</span> <span class=n>Mem</span><span class=p>:</span>  <span class=mf>16000.0</span> <span class=n>total</span><span class=p>,</span>   <span class=mf>2000.0</span> <span class=n>free</span><span class=p>,</span>   <span class=mf>8000.0</span> <span class=n>used</span><span class=p>,</span>   <span class=mf>6000.0</span> <span class=n>buff</span><span class=o>/</span><span class=n>cache</span>
</span></span><span class=line><span class=cl><span class=n>MiB</span> <span class=n>Swap</span><span class=p>:</span>  <span class=mf>4000.0</span> <span class=n>total</span><span class=p>,</span>   <span class=mf>4000.0</span> <span class=n>free</span><span class=p>,</span>      <span class=mf>0.0</span> <span class=n>used</span><span class=o>.</span>   <span class=mf>7500.0</span> <span class=n>avail</span> <span class=n>Mem</span>
</span></span><span class=line><span class=cl>                                                         <span class=err>└──</span> <span class=n>Available</span> <span class=k>for</span> <span class=n>new</span> <span class=n>processes</span>
</span></span><span class=line><span class=cl>                                                             <span class=p>(</span><span class=n>free</span> <span class=o>+</span> <span class=n>reclaimable</span> <span class=n>cache</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>PID</span> <span class=n>USER</span>      <span class=n>PR</span>  <span class=n>NI</span>    <span class=n>VIRT</span>    <span class=n>RES</span>    <span class=n>SHR</span> <span class=n>S</span>  <span class=o>%</span><span class=n>CPU</span>  <span class=o>%</span><span class=n>MEM</span>     <span class=n>TIME</span><span class=o>+</span> <span class=n>COMMAND</span>
</span></span><span class=line><span class=cl> <span class=mi>1234</span> <span class=n>nginx</span>     <span class=mi>20</span>   <span class=mi>0</span>  <span class=mi>456789</span>  <span class=mi>12345</span>   <span class=mi>6789</span> <span class=n>S</span>   <span class=mf>5.2</span>   <span class=mf>1.2</span>   <span class=mi>1</span><span class=p>:</span><span class=mf>23.45</span> <span class=n>nginx</span></span></span></code></pre></td></tr></table></div></div><p><strong>Load Average giải thích:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>LOAD</span> <span class=n>AVERAGE</span>                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Load</span> <span class=o>=</span> <span class=n>Số</span> <span class=n>processes</span> <span class=n>trong</span> <span class=n>RUNNABLE</span> <span class=o>+</span> <span class=n>UNINTERRUPTIBLE</span> <span class=n>state</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=err>Đ</span><span class=n>ang</span> <span class=n>chạy</span> <span class=o>+</span> <span class=err>Đ</span><span class=n>ang</span> <span class=n>chờ</span> <span class=n>CPU</span> <span class=o>+</span> <span class=err>Đ</span><span class=n>ang</span> <span class=n>chờ</span> <span class=n>I</span><span class=o>/</span><span class=n>O</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>load</span> <span class=n>average</span><span class=p>:</span> <span class=mf>0.52</span><span class=p>,</span> <span class=mf>0.58</span><span class=p>,</span> <span class=mf>0.59</span>
</span></span><span class=line><span class=cl>              <span class=mi>1</span><span class=nb>min</span>  <span class=mi>5</span><span class=nb>min</span>  <span class=mi>15</span><span class=nb>min</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Interpretation</span> <span class=p>(</span><span class=n>với</span> <span class=n>N</span> <span class=o>=</span> <span class=n>số</span> <span class=n>CPU</span> <span class=n>cores</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Load</span> <span class=o>&lt;</span> <span class=n>N</span><span class=p>:</span>     <span class=n>Hệ</span> <span class=n>thống</span> <span class=n>idle</span><span class=p>,</span> <span class=n>có</span> <span class=n>headroom</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Load</span> <span class=o>=</span> <span class=n>N</span><span class=p>:</span>     <span class=n>Hệ</span> <span class=n>thống</span> <span class=n>fully</span> <span class=n>utilized</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Load</span> <span class=o>&gt;</span> <span class=n>N</span><span class=p>:</span>     <span class=n>Overloaded</span><span class=p>,</span> <span class=n>processes</span> <span class=n>phải</span> <span class=n>chờ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Ví</span> <span class=n>dụ</span> <span class=n>máy</span> <span class=mi>4</span> <span class=n>cores</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Load</span> <span class=mf>0.5</span><span class=p>:</span>  <span class=mf>12.5</span><span class=o>%</span> <span class=n>utilized</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Load</span> <span class=mf>2.0</span><span class=p>:</span>  <span class=mi>50</span><span class=o>%</span> <span class=n>utilized</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Load</span> <span class=mf>4.0</span><span class=p>:</span>  <span class=mi>100</span><span class=o>%</span> <span class=n>utilized</span> <span class=p>(</span><span class=n>optimal</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Load</span> <span class=mf>8.0</span><span class=p>:</span>  <span class=mi>200</span><span class=o>%</span> <span class=o>-</span> <span class=n>Quá</span> <span class=n>tải</span><span class=p>,</span> <span class=n>processes</span> <span class=n>queue</span> <span class=n>up</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Check</span> <span class=n>số</span> <span class=n>cores</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=n>nproc</span>
</span></span><span class=line><span class=cl><span class=n>grep</span> <span class=o>-</span><span class=n>c</span> <span class=n>processor</span> <span class=o>/</span><span class=n>proc</span><span class=o>/</span><span class=n>cpuinfo</span></span></span></code></pre></td></tr></table></div></div><p><strong>Các phím tắt trong top:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Trong top:</span>
</span></span><span class=line><span class=cl>h           <span class=c1># Help</span>
</span></span><span class=line><span class=cl>q           <span class=c1># Quit</span>
</span></span><span class=line><span class=cl>Space       <span class=c1># Refresh ngay</span>
</span></span><span class=line><span class=cl>d           <span class=c1># Change delay (refresh interval)</span>
</span></span><span class=line><span class=cl>k           <span class=c1># Kill process (nhập PID)</span>
</span></span><span class=line><span class=cl>r           <span class=c1># Renice process</span>
</span></span><span class=line><span class=cl>u           <span class=c1># Filter by user</span>
</span></span><span class=line><span class=cl>M           <span class=c1># Sort by memory</span>
</span></span><span class=line><span class=cl>P           <span class=c1># Sort by CPU</span>
</span></span><span class=line><span class=cl>T           <span class=c1># Sort by time</span>
</span></span><span class=line><span class=cl>c           <span class=c1># Toggle full command path</span>
</span></span><span class=line><span class=cl>V           <span class=c1># Forest view (tree)</span>
</span></span><span class=line><span class=cl><span class=m>1</span>           <span class=c1># Toggle per-CPU stats</span>
</span></span><span class=line><span class=cl>f           <span class=c1># Select fields to display</span>
</span></span><span class=line><span class=cl>W           <span class=c1># Write config to ~/.toprc</span></span></span></code></pre></td></tr></table></div></div><p><strong>htop - top on steroids:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>htop
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ưu điểm so với top:</span>
</span></span><span class=line><span class=cl><span class=c1># - Color-coded, visual meters</span>
</span></span><span class=line><span class=cl><span class=c1># - Mouse support</span>
</span></span><span class=line><span class=cl><span class=c1># - Scroll ngang/dọc</span>
</span></span><span class=line><span class=cl><span class=c1># - Tree view mặc định</span>
</span></span><span class=line><span class=cl><span class=c1># - Kill nhiều process cùng lúc</span>
</span></span><span class=line><span class=cl><span class=c1># - Search, filter dễ hơn</span>
</span></span><span class=line><span class=cl><span class=c1># - Không cần nhớ phím tắt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Phím tắt htop:</span>
</span></span><span class=line><span class=cl>F1          <span class=c1># Help</span>
</span></span><span class=line><span class=cl>F2          <span class=c1># Setup</span>
</span></span><span class=line><span class=cl>F3          <span class=c1># Search</span>
</span></span><span class=line><span class=cl>F4          <span class=c1># Filter</span>
</span></span><span class=line><span class=cl>F5          <span class=c1># Tree view</span>
</span></span><span class=line><span class=cl>F6          <span class=c1># Sort by</span>
</span></span><span class=line><span class=cl>F7/F8       <span class=c1># Nice -/+</span>
</span></span><span class=line><span class=cl>F9          <span class=c1># Kill</span>
</span></span><span class=line><span class=cl>F10         <span class=c1># Quit</span></span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-3-signals--process-control><span>PHẦN 3: SIGNALS & PROCESS CONTROL</span>
<a href=#ph%e1%ba%a7n-3-signals--process-control class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=31-signal-là-gì><span>3.1 Signal Là Gì?</span>
<a href=#31-signal-l%c3%a0-g%c3%ac class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=n>INTER</span><span class=o>-</span><span class=n>PROCESS</span> <span class=n>COMMUNICATION</span><span class=p>:</span> <span class=n>SIGNALS</span>           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Signal</span> <span class=o>=</span> <span class=n>Software</span> <span class=n>interrupt</span> <span class=n>gửi</span> <span class=err>đế</span><span class=n>n</span> <span class=n>process</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Asynchronous</span> <span class=n>notification</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Process</span> <span class=n>có</span> <span class=n>thể</span><span class=p>:</span> <span class=n>catch</span><span class=p>,</span> <span class=n>ignore</span><span class=p>,</span> <span class=n>hoặc</span> <span class=err>để</span> <span class=n>default</span> <span class=n>action</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Khi</span> <span class=n>process</span> <span class=n>nhận</span> <span class=k>signal</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=mf>1.</span> <span class=n>Kernel</span> <span class=n>interrupt</span> <span class=n>process</span> <span class=n>execution</span>
</span></span><span class=line><span class=cl><span class=mf>2.</span> <span class=n>Kernel</span> <span class=n>check</span> <span class=k>signal</span> <span class=n>handler</span>
</span></span><span class=line><span class=cl><span class=mf>3.</span> <span class=n>Execute</span> <span class=n>handler</span> <span class=p>(</span><span class=n>hoặc</span> <span class=n>default</span> <span class=n>action</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mf>4.</span> <span class=n>Resume</span> <span class=p>(</span><span class=n>hoặc</span> <span class=n>terminate</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=err>┌─────────────────┐</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>    <span class=n>Process</span> <span class=n>A</span>    <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>   <span class=p>(</span><span class=n>sender</span><span class=p>)</span>      <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>└────────┬────────┘</span>
</span></span><span class=line><span class=cl>                   <span class=err>│</span> <span class=n>kill</span><span class=p>(</span><span class=n>pid</span><span class=p>,</span> <span class=n>SIGTERM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                   <span class=err>▼</span>
</span></span><span class=line><span class=cl>          <span class=err>┌─────────────────┐</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>     <span class=n>Kernel</span>      <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>  <span class=n>Signal</span> <span class=n>Queue</span>   <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>└────────┬────────┘</span>
</span></span><span class=line><span class=cl>                   <span class=err>│</span> <span class=n>deliver</span> <span class=k>signal</span>
</span></span><span class=line><span class=cl>                   <span class=err>▼</span>
</span></span><span class=line><span class=cl>          <span class=err>┌─────────────────┐</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>    <span class=n>Process</span> <span class=n>B</span>    <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>   <span class=p>(</span><span class=n>receiver</span><span class=p>)</span>    <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>                 <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>  <span class=err>→</span> <span class=n>Check</span> <span class=n>handler</span><span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>│</span>  <span class=err>→</span> <span class=n>Execute</span>      <span class=err>│</span>
</span></span><span class=line><span class=cl>          <span class=err>└─────────────────┘</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=32-common-signals><span>3.2 Common Signals</span>
<a href=#32-common-signals class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────┬────────┬────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Signal</span>  <span class=err>│</span> <span class=n>Number</span> <span class=err>│</span> <span class=n>Description</span>                                <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>├─────────┼────────┼────────────────────────────────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGHUP</span>  <span class=err>│</span> <span class=mi>1</span>      <span class=err>│</span> <span class=n>Hangup</span> <span class=o>-</span> <span class=n>Terminal</span> <span class=err>đó</span><span class=n>ng</span><span class=p>,</span> <span class=n>reload</span> <span class=n>config</span>      <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGINT</span>  <span class=err>│</span> <span class=mi>2</span>      <span class=err>│</span> <span class=n>Interrupt</span> <span class=o>-</span> <span class=n>Ctrl</span><span class=o>+</span><span class=n>C</span>                         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGQUIT</span> <span class=err>│</span> <span class=mi>3</span>      <span class=err>│</span> <span class=n>Quit</span> <span class=o>-</span> <span class=n>Ctrl</span><span class=o>+</span>\ <span class=p>(</span><span class=n>core</span> <span class=n>dump</span><span class=p>)</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGKILL</span> <span class=err>│</span> <span class=mi>9</span>      <span class=err>│</span> <span class=n>Kill</span> <span class=o>-</span> <span class=n>KHÔNG</span> <span class=n>THỂ</span> <span class=n>catch</span><span class=o>/</span><span class=n>ignore</span><span class=p>,</span> <span class=n>force</span> <span class=n>kill</span>  <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGTERM</span> <span class=err>│</span> <span class=mi>15</span>     <span class=err>│</span> <span class=n>Terminate</span> <span class=o>-</span> <span class=n>Graceful</span> <span class=n>shutdown</span> <span class=p>(</span><span class=n>default</span><span class=p>)</span>    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGSTOP</span> <span class=err>│</span> <span class=mi>19</span>     <span class=err>│</span> <span class=n>Stop</span> <span class=o>-</span> <span class=n>KHÔNG</span> <span class=n>THỂ</span> <span class=n>catch</span><span class=o>/</span><span class=n>ignore</span><span class=p>,</span> <span class=n>pause</span>       <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGTSTP</span> <span class=err>│</span> <span class=mi>20</span>     <span class=err>│</span> <span class=n>Terminal</span> <span class=n>Stop</span> <span class=o>-</span> <span class=n>Ctrl</span><span class=o>+</span><span class=n>Z</span>                     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGCONT</span> <span class=err>│</span> <span class=mi>18</span>     <span class=err>│</span> <span class=n>Continue</span> <span class=o>-</span> <span class=n>Resume</span> <span class=n>stopped</span> <span class=n>process</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGUSR1</span> <span class=err>│</span> <span class=mi>10</span>     <span class=err>│</span> <span class=n>User</span><span class=o>-</span><span class=n>defined</span> <span class=mi>1</span>                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGUSR2</span> <span class=err>│</span> <span class=mi>12</span>     <span class=err>│</span> <span class=n>User</span><span class=o>-</span><span class=n>defined</span> <span class=mi>2</span>                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGCHLD</span> <span class=err>│</span> <span class=mi>17</span>     <span class=err>│</span> <span class=n>Child</span> <span class=n>terminated</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGPIPE</span> <span class=err>│</span> <span class=mi>13</span>     <span class=err>│</span> <span class=n>Broken</span> <span class=n>pipe</span>                                <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGALRM</span> <span class=err>│</span> <span class=mi>14</span>     <span class=err>│</span> <span class=n>Alarm</span> <span class=n>clock</span> <span class=p>(</span><span class=n>timer</span><span class=p>)</span>                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>SIGSEGV</span> <span class=err>│</span> <span class=mi>11</span>     <span class=err>│</span> <span class=n>Segmentation</span> <span class=n>fault</span> <span class=p>(</span><span class=n>invalid</span> <span class=n>memory</span> <span class=n>access</span><span class=p>)</span> <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────┴────────┴────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>QUAN</span> <span class=n>TRỌNG</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>SIGTERM</span> <span class=p>(</span><span class=mi>15</span><span class=p>):</span> <span class=n>Polite</span> <span class=n>request</span><span class=p>,</span> <span class=n>process</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>cleanup</span> <span class=n>rồi</span> <span class=n>exit</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>SIGKILL</span> <span class=p>(</span><span class=mi>9</span><span class=p>):</span>  <span class=n>Force</span> <span class=n>kill</span><span class=p>,</span> <span class=n>process</span> <span class=n>KHÔNG</span> <span class=n>THỂ</span> <span class=n>catch</span><span class=p>,</span> <span class=n>data</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>corrupt</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>SIGSTOP</span> <span class=p>(</span><span class=mi>19</span><span class=p>):</span> <span class=n>Pause</span> <span class=n>process</span><span class=p>,</span> <span class=n>KHÔNG</span> <span class=n>THỂ</span> <span class=n>catch</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>SIGCONT</span> <span class=p>(</span><span class=mi>18</span><span class=p>):</span> <span class=n>Resume</span> <span class=n>process</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Best</span> <span class=n>practice</span><span class=p>:</span> <span class=n>SIGTERM</span> <span class=n>trước</span><span class=p>,</span> <span class=err>đợ</span><span class=n>i</span><span class=p>,</span> <span class=n>SIGKILL</span> <span class=n>nếu</span> <span class=n>cần</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=33-kill-pkill-killall><span>3.3 kill, pkill, killall</span>
<a href=#33-kill-pkill-killall class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># kill - gửi signal theo PID</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> PID                    <span class=c1># Mặc định SIGTERM (15)</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -15 PID                <span class=c1># Explicit SIGTERM</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -TERM PID              <span class=c1># Tên signal</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -SIGTERM PID           <span class=c1># Full name</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -9 PID                 <span class=c1># SIGKILL - force kill</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -KILL PID
</span></span><span class=line><span class=cl><span class=nb>kill</span> -0 PID                 <span class=c1># Không gửi signal, chỉ check process tồn tại</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kill nhiều process</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> <span class=m>1234</span> <span class=m>5678</span> <span class=m>9012</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List signals</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># pkill - kill theo tên/pattern</span>
</span></span><span class=line><span class=cl>pkill nginx                 <span class=c1># Kill processes tên &#34;nginx&#34;</span>
</span></span><span class=line><span class=cl>pkill -9 nginx              <span class=c1># Force kill</span>
</span></span><span class=line><span class=cl>pkill -u nginx              <span class=c1># Kill processes của user nginx</span>
</span></span><span class=line><span class=cl>pkill -t pts/0              <span class=c1># Kill processes trên terminal pts/0</span>
</span></span><span class=line><span class=cl>pkill -P <span class=m>1234</span>               <span class=c1># Kill children của PPID 1234</span>
</span></span><span class=line><span class=cl>pkill -f <span class=s2>&#34;python script.py&#34;</span> <span class=c1># Match full command line</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># killall - kill theo tên chính xác</span>
</span></span><span class=line><span class=cl>killall nginx               <span class=c1># Phải match tên chính xác</span>
</span></span><span class=line><span class=cl>killall -9 nginx            <span class=c1># Force kill</span>
</span></span><span class=line><span class=cl>killall -u root nginx       <span class=c1># Của user root</span>
</span></span><span class=line><span class=cl>killall -i nginx            <span class=c1># Interactive (confirm từng process)</span>
</span></span><span class=line><span class=cl>killall -w nginx            <span class=c1># Wait cho đến khi tất cả chết</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># pgrep - tìm PID theo tên (không kill)</span>
</span></span><span class=line><span class=cl>pgrep nginx                 <span class=c1># List PIDs</span>
</span></span><span class=line><span class=cl>pgrep -l nginx              <span class=c1># PID + name</span>
</span></span><span class=line><span class=cl>pgrep -a nginx              <span class=c1># PID + full command</span>
</span></span><span class=line><span class=cl>pgrep -u root               <span class=c1># Của user root</span>
</span></span><span class=line><span class=cl>pgrep -c nginx              <span class=c1># Count processes</span>
</span></span><span class=line><span class=cl>pgrep -n nginx              <span class=c1># Newest process</span>
</span></span><span class=line><span class=cl>pgrep -o nginx              <span class=c1># Oldest process</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=34-graceful-shutdown-pattern><span>3.4 Graceful Shutdown Pattern</span>
<a href=#34-graceful-shutdown-pattern class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># Graceful kill với timeout</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>PID</span><span class=o>=</span><span class=nv>$1</span>
</span></span><span class=line><span class=cl><span class=nv>TIMEOUT</span><span class=o>=</span><span class=m>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gửi SIGTERM</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -TERM <span class=nv>$PID</span> 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Đợi process exit</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=k>$(</span>seq <span class=m>1</span> <span class=nv>$TIMEOUT</span><span class=k>)</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> ! <span class=nb>kill</span> -0 <span class=nv>$PID</span> 2&gt;/dev/null<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Process </span><span class=nv>$PID</span><span class=s2> terminated gracefully&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>exit</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    sleep <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nếu còn sống, force kill</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Process </span><span class=nv>$PID</span><span class=s2> did not terminate, sending SIGKILL&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -9 <span class=nv>$PID</span> 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Verify</span>
</span></span><span class=line><span class=cl>sleep <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nb>kill</span> -0 <span class=nv>$PID</span> 2&gt;/dev/null<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;ERROR: Process </span><span class=nv>$PID</span><span class=s2> still alive (zombie or kernel issue)&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=35-job-control-bg-fg-jobs-nohup><span>3.5 Job Control (bg, fg, jobs, nohup)</span>
<a href=#35-job-control-bg-fg-jobs-nohup class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Chạy command ở background</span>
</span></span><span class=line><span class=cl>sleep <span class=m>100</span> <span class=p>&amp;</span>                 <span class=c1># &amp; = background</span>
</span></span><span class=line><span class=cl><span class=o>[</span>1<span class=o>]</span> <span class=m>12345</span>                   <span class=c1># Job number + PID</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê jobs</span>
</span></span><span class=line><span class=cl><span class=nb>jobs</span>
</span></span><span class=line><span class=cl><span class=nb>jobs</span> -l                     <span class=c1># Kèm PID</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ctrl+Z = Suspend foreground process</span>
</span></span><span class=line><span class=cl><span class=c1># Process chuyển sang STOPPED state</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># fg = Bring to foreground</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span>                          <span class=c1># Job gần nhất</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span> %1                       <span class=c1># Job number 1</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span> %sleep                   <span class=c1># Job bắt đầu bằng &#34;sleep&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># bg = Resume ở background</span>
</span></span><span class=line><span class=cl><span class=nb>bg</span> %1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kill job</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> %1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Disown - Tách job khỏi shell (không bị kill khi shell exit)</span>
</span></span><span class=line><span class=cl><span class=nb>disown</span> %1
</span></span><span class=line><span class=cl><span class=nb>disown</span> -a                   <span class=c1># Tất cả jobs</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># nohup - Immune to SIGHUP (terminal close)</span>
</span></span><span class=line><span class=cl>nohup long_running_command <span class=p>&amp;</span>
</span></span><span class=line><span class=cl><span class=c1># Output ghi vào nohup.out</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kết hợp nohup + redirect</span>
</span></span><span class=line><span class=cl>nohup ./script.sh &gt; output.log 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>&amp;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tốt hơn: dùng screen hoặc tmux</span>
</span></span><span class=line><span class=cl>screen -dmS session_name ./script.sh
</span></span><span class=line><span class=cl>tmux new-session -d -s session_name ./script.sh</span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-4-process-scheduling--priority><span>PHẦN 4: PROCESS SCHEDULING & PRIORITY</span>
<a href=#ph%e1%ba%a7n-4-process-scheduling--priority class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=41-linux-cfs-scheduler><span>4.1 Linux CFS Scheduler</span>
<a href=#41-linux-cfs-scheduler class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│          CFS - COMPLETELY FAIR SCHEDULER                    │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CFS = Default Linux scheduler từ kernel 2.6.23
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Ý tưởng: Mỗi process có &#34;virtual runtime&#34; (vruntime)
</span></span><span class=line><span class=cl>- Process chạy → vruntime tăng
</span></span><span class=line><span class=cl>- Scheduler luôn chọn process có vruntime NHỎ NHẤT
</span></span><span class=line><span class=cl>- Đảm bảo &#34;fair&#34; - mọi process được CPU time công bằng
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Data structure: RED-BLACK TREE (self-balancing BST)
</span></span><span class=line><span class=cl>- Key = vruntime
</span></span><span class=line><span class=cl>- Insert: O(log n)
</span></span><span class=line><span class=cl>- Delete: O(log n)
</span></span><span class=line><span class=cl>- Find minimum: O(1) - cached leftmost node
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    RED-BLACK TREE                           │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│                         50 (B)                              │
</span></span><span class=line><span class=cl>│                        /      \                             │
</span></span><span class=line><span class=cl>│                    30 (R)     70 (R)                        │
</span></span><span class=line><span class=cl>│                    /    \     /    \                        │
</span></span><span class=line><span class=cl>│                 20(B)  40(B) 60(B) 80(B)                    │
</span></span><span class=line><span class=cl>│                 ↑                                           │
</span></span><span class=line><span class=cl>│            Leftmost = smallest vruntime                     │
</span></span><span class=line><span class=cl>│            = next process to run                            │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nice value ảnh hưởng đến tốc độ tăng vruntime:
</span></span><span class=line><span class=cl>- Nice cao (low priority) → vruntime tăng NHANH → ít được chạy
</span></span><span class=line><span class=cl>- Nice thấp (high priority) → vruntime tăng CHẬM → được chạy nhiều</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=42-nice-value-vs-priority><span>4.2 Nice Value vs Priority</span>
<a href=#42-nice-value-vs-priority class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│              NICE VALUE &amp; PRIORITY                          │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nice value: -20 đến +19
</span></span><span class=line><span class=cl>- -20 = Highest priority (ít &#34;nice&#34; với processes khác)
</span></span><span class=line><span class=cl>- 0   = Default
</span></span><span class=line><span class=cl>- +19 = Lowest priority (rất &#34;nice&#34;, nhường CPU)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Priority (PR trong top): 0 đến 139
</span></span><span class=line><span class=cl>- 0-99:   Real-time priorities
</span></span><span class=line><span class=cl>- 100-139: Normal priorities
</span></span><span class=line><span class=cl>- PR = 20 + nice (cho normal processes)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Ví dụ:
</span></span><span class=line><span class=cl>nice = -20 → PR = 0  (highest normal priority)
</span></span><span class=line><span class=cl>nice = 0   → PR = 20 (default)
</span></span><span class=line><span class=cl>nice = 19  → PR = 39 (lowest normal priority)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Ai có thể thay đổi:
</span></span><span class=line><span class=cl>- Tăng nice (giảm priority): Bất kỳ user nào
</span></span><span class=line><span class=cl>- Giảm nice (tăng priority): Chỉ root</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=43-nice-và-renice><span>4.3 nice và renice</span>
<a href=#43-nice-v%c3%a0-renice class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># nice - Chạy command với nice value</span>
</span></span><span class=line><span class=cl>nice <span class=nb>command</span>                      <span class=c1># Default nice = 10</span>
</span></span><span class=line><span class=cl>nice -n <span class=m>10</span> <span class=nb>command</span>                <span class=c1># Nice = 10 (lower priority)</span>
</span></span><span class=line><span class=cl>nice -n -5 <span class=nb>command</span>                <span class=c1># Nice = -5 (higher priority, cần root)</span>
</span></span><span class=line><span class=cl>nice -n <span class=m>19</span> ./background_task.sh   <span class=c1># Lowest priority</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ví dụ: Compress file mà không ảnh hưởng system</span>
</span></span><span class=line><span class=cl>nice -n <span class=m>19</span> gzip large_file.log
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># renice - Thay đổi nice của process đang chạy</span>
</span></span><span class=line><span class=cl>renice <span class=m>10</span> -p <span class=m>1234</span>                 <span class=c1># Set nice = 10 cho PID 1234</span>
</span></span><span class=line><span class=cl>renice -n <span class=m>10</span> -p <span class=m>1234</span>              <span class=c1># Tương tự</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>renice <span class=m>5</span> -u nginx                 <span class=c1># Tất cả processes của user nginx</span>
</span></span><span class=line><span class=cl>renice -5 -g developers          <span class=c1># Tất cả processes của group (cần root)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Trong top/htop</span>
</span></span><span class=line><span class=cl><span class=c1># top: nhấn &#39;r&#39;, nhập PID, nhập nice value</span>
</span></span><span class=line><span class=cl><span class=c1># htop: F7 (giảm nice), F8 (tăng nice)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xem nice value</span>
</span></span><span class=line><span class=cl>ps -eo pid,ni,comm
</span></span><span class=line><span class=cl>ps -eo pid,ni,pri,comm            <span class=c1># Kèm priority</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ionice - I/O scheduling priority (tương tự nice cho disk I/O)</span>
</span></span><span class=line><span class=cl>ionice -c <span class=m>3</span> <span class=nb>command</span>               <span class=c1># Idle - chỉ dùng I/O khi không ai cần</span>
</span></span><span class=line><span class=cl>ionice -c <span class=m>2</span> -n <span class=m>7</span> <span class=nb>command</span>          <span class=c1># Best-effort, low priority</span>
</span></span><span class=line><span class=cl>ionice -c <span class=m>1</span> -n <span class=m>0</span> <span class=nb>command</span>          <span class=c1># Real-time, highest (cần root)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ví dụ: Backup mà không ảnh hưởng disk performance</span>
</span></span><span class=line><span class=cl>nice -n <span class=m>19</span> ionice -c <span class=m>3</span> rsync -av /data /backup</span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-5-systemd---init-system><span>PHẦN 5: SYSTEMD - INIT SYSTEM</span>
<a href=#ph%e1%ba%a7n-5-systemd---init-system class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=51-systemd-architecture><span>5.1 Systemd Architecture</span>
<a href=#51-systemd-architecture class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    SYSTEMD ARCHITECTURE                     │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Systemd = Init system + Service manager + More
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PID 1 = systemd (thay thế SysVinit)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                        systemd                              │
</span></span><span class=line><span class=cl>├─────────────────────────────────────────────────────────────┤
</span></span><span class=line><span class=cl>│ Service Manager │ Init System │ Device Manager │ ...        │
</span></span><span class=line><span class=cl>├─────────────────────────────────────────────────────────────┤
</span></span><span class=line><span class=cl>│                         Units                               │
</span></span><span class=line><span class=cl>│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐            │
</span></span><span class=line><span class=cl>│  │ .service│ │ .socket │ │ .timer  │ │ .mount  │ ...        │
</span></span><span class=line><span class=cl>│  └─────────┘ └─────────┘ └─────────┘ └─────────┘            │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Unit Types:
</span></span><span class=line><span class=cl>┌────────────┬────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│ Type       │ Description                                    │
</span></span><span class=line><span class=cl>├────────────┼────────────────────────────────────────────────┤
</span></span><span class=line><span class=cl>│ .service   │ Daemon/service (nginx, sshd, mysql...)         │
</span></span><span class=line><span class=cl>│ .socket    │ Socket-based activation                        │
</span></span><span class=line><span class=cl>│ .timer     │ Timer-based activation (thay cron)             │
</span></span><span class=line><span class=cl>│ .mount     │ Mount point                                    │
</span></span><span class=line><span class=cl>│ .automount │ Automount point                                │
</span></span><span class=line><span class=cl>│ .target    │ Group of units (như runlevel)                  │
</span></span><span class=line><span class=cl>│ .path      │ Path-based activation                          │
</span></span><span class=line><span class=cl>│ .slice     │ Resource management (cgroups)                  │
</span></span><span class=line><span class=cl>│ .scope     │ Externally created processes                   │
</span></span><span class=line><span class=cl>│ .device    │ Device unit                                    │
</span></span><span class=line><span class=cl>└────────────┴────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Unit file locations (theo priority):
</span></span><span class=line><span class=cl>/etc/systemd/system/          # Admin (highest priority)
</span></span><span class=line><span class=cl>/run/systemd/system/          # Runtime
</span></span><span class=line><span class=cl>/usr/lib/systemd/system/      # Packages (lowest priority)</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=52-dependency-graph><span>5.2 Dependency Graph</span>
<a href=#52-dependency-graph class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│          SYSTEMD DEPENDENCY RESOLUTION                      │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Systemd xây dựng dependency graph và resolve bằng:
</span></span><span class=line><span class=cl>TOPOLOGICAL SORT (Kahn&#39;s algorithm hoặc DFS-based)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Dependency types:
</span></span><span class=line><span class=cl>- Requires: Phụ thuộc cứng, fail nếu dependency fail
</span></span><span class=line><span class=cl>- Wants: Phụ thuộc mềm, không fail nếu dependency fail
</span></span><span class=line><span class=cl>- After/Before: Ordering (không phải dependency)
</span></span><span class=line><span class=cl>- Conflicts: Không thể chạy cùng lúc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Ví dụ:
</span></span><span class=line><span class=cl>┌──────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                                                              │
</span></span><span class=line><span class=cl>│   network.target ◄─── nginx.service ◄─── myapp.service       │
</span></span><span class=line><span class=cl>│        ▲                    ▲                                │
</span></span><span class=line><span class=cl>│        │                    │                                │
</span></span><span class=line><span class=cl>│   network-online.target     │                                │
</span></span><span class=line><span class=cl>│        ▲                    │                                │
</span></span><span class=line><span class=cl>│        └────────────────────┘                                │
</span></span><span class=line><span class=cl>│                                                              │
</span></span><span class=line><span class=cl>│   nginx.service:                                             │
</span></span><span class=line><span class=cl>│     Requires=network-online.target                           │
</span></span><span class=line><span class=cl>│     After=network.target network-online.target               │
</span></span><span class=line><span class=cl>│                                                              │
</span></span><span class=line><span class=cl>│   myapp.service:                                             │
</span></span><span class=line><span class=cl>│     Requires=nginx.service                                   │
</span></span><span class=line><span class=cl>│     After=nginx.service                                      │
</span></span><span class=line><span class=cl>│                                                              │
</span></span><span class=line><span class=cl>└──────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Topological Sort đảm bảo:
</span></span><span class=line><span class=cl>- Không có circular dependency
</span></span><span class=line><span class=cl>- Services start theo đúng thứ tự
</span></span><span class=line><span class=cl>- Parallel start khi có thể (không có dependency)</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=53-systemctl---service-management><span>5.3 systemctl - Service Management</span>
<a href=#53-systemctl---service-management class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Quản lý service</span>
</span></span><span class=line><span class=cl>systemctl start nginx           <span class=c1># Start service</span>
</span></span><span class=line><span class=cl>systemctl stop nginx            <span class=c1># Stop service</span>
</span></span><span class=line><span class=cl>systemctl restart nginx         <span class=c1># Restart</span>
</span></span><span class=line><span class=cl>systemctl reload nginx          <span class=c1># Reload config (không restart)</span>
</span></span><span class=line><span class=cl>systemctl reload-or-restart nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Status</span>
</span></span><span class=line><span class=cl>systemctl status nginx          <span class=c1># Chi tiết status</span>
</span></span><span class=line><span class=cl>systemctl is-active nginx       <span class=c1># active/inactive</span>
</span></span><span class=line><span class=cl>systemctl is-enabled nginx      <span class=c1># enabled/disabled</span>
</span></span><span class=line><span class=cl>systemctl is-failed nginx       <span class=c1># failed/not-failed</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Enable/Disable (auto-start on boot)</span>
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> nginx          <span class=c1># Enable</span>
</span></span><span class=line><span class=cl>systemctl disable nginx         <span class=c1># Disable</span>
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> --now nginx    <span class=c1># Enable + Start ngay</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List units</span>
</span></span><span class=line><span class=cl>systemctl list-units            <span class=c1># Tất cả loaded units</span>
</span></span><span class=line><span class=cl>systemctl list-units --type<span class=o>=</span>service
</span></span><span class=line><span class=cl>systemctl list-units --state<span class=o>=</span>failed
</span></span><span class=line><span class=cl>systemctl list-unit-files       <span class=c1># Tất cả unit files</span>
</span></span><span class=line><span class=cl>systemctl list-unit-files --state<span class=o>=</span>enabled
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dependencies</span>
</span></span><span class=line><span class=cl>systemctl list-dependencies nginx
</span></span><span class=line><span class=cl>systemctl list-dependencies --reverse nginx   <span class=c1># Ai depend vào nginx</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Logs (xem phần journalctl)</span>
</span></span><span class=line><span class=cl>systemctl status nginx          <span class=c1># Có recent logs</span>
</span></span><span class=line><span class=cl>journalctl -u nginx             <span class=c1># Full logs</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Reload systemd (sau khi edit unit file)</span>
</span></span><span class=line><span class=cl>systemctl daemon-reload
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># System state</span>
</span></span><span class=line><span class=cl>systemctl get-default           <span class=c1># Default target (runlevel)</span>
</span></span><span class=line><span class=cl>systemctl set-default multi-user.target
</span></span><span class=line><span class=cl>systemctl isolate multi-user.target   <span class=c1># Switch target</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Targets (tương đương runlevel)</span>
</span></span><span class=line><span class=cl><span class=c1># poweroff.target   = runlevel 0</span>
</span></span><span class=line><span class=cl><span class=c1># rescue.target     = runlevel 1</span>
</span></span><span class=line><span class=cl><span class=c1># multi-user.target = runlevel 3 (no GUI)</span>
</span></span><span class=line><span class=cl><span class=c1># graphical.target  = runlevel 5 (GUI)</span>
</span></span><span class=line><span class=cl><span class=c1># reboot.target     = runlevel 6</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Power management</span>
</span></span><span class=line><span class=cl>systemctl reboot
</span></span><span class=line><span class=cl>systemctl poweroff
</span></span><span class=line><span class=cl>systemctl <span class=nb>suspend</span>
</span></span><span class=line><span class=cl>systemctl hibernate</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=54-service-unit-file><span>5.4 Service Unit File</span>
<a href=#54-service-unit-file class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1># /etc/systemd/system/myapp.service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Unit]</span>
</span></span><span class=line><span class=cl><span class=na>Description</span><span class=o>=</span><span class=s>My Application Service</span>
</span></span><span class=line><span class=cl><span class=na>Documentation</span><span class=o>=</span><span class=s>https://example.com/docs</span>
</span></span><span class=line><span class=cl><span class=na>After</span><span class=o>=</span><span class=s>network.target postgresql.service</span>
</span></span><span class=line><span class=cl><span class=na>Requires</span><span class=o>=</span><span class=s>postgresql.service</span>
</span></span><span class=line><span class=cl><span class=na>Wants</span><span class=o>=</span><span class=s>redis.service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Service]</span>
</span></span><span class=line><span class=cl><span class=na>Type</span><span class=o>=</span><span class=s>simple</span>
</span></span><span class=line><span class=cl><span class=na>User</span><span class=o>=</span><span class=s>myapp</span>
</span></span><span class=line><span class=cl><span class=na>Group</span><span class=o>=</span><span class=s>myapp</span>
</span></span><span class=line><span class=cl><span class=na>WorkingDirectory</span><span class=o>=</span><span class=s>/opt/myapp</span>
</span></span><span class=line><span class=cl><span class=na>Environment</span><span class=o>=</span><span class=s>NODE_ENV=production</span>
</span></span><span class=line><span class=cl><span class=na>EnvironmentFile</span><span class=o>=</span><span class=s>/etc/myapp/env</span>
</span></span><span class=line><span class=cl><span class=na>ExecStartPre</span><span class=o>=</span><span class=s>/opt/myapp/pre-start.sh</span>
</span></span><span class=line><span class=cl><span class=na>ExecStart</span><span class=o>=</span><span class=s>/opt/myapp/bin/start</span>
</span></span><span class=line><span class=cl><span class=na>ExecStartPost</span><span class=o>=</span><span class=s>/opt/myapp/post-start.sh</span>
</span></span><span class=line><span class=cl><span class=na>ExecReload</span><span class=o>=</span><span class=s>/bin/kill -HUP $MAINPID</span>
</span></span><span class=line><span class=cl><span class=na>ExecStop</span><span class=o>=</span><span class=s>/opt/myapp/bin/stop</span>
</span></span><span class=line><span class=cl><span class=na>Restart</span><span class=o>=</span><span class=s>on-failure</span>
</span></span><span class=line><span class=cl><span class=na>RestartSec</span><span class=o>=</span><span class=s>5</span>
</span></span><span class=line><span class=cl><span class=na>TimeoutStartSec</span><span class=o>=</span><span class=s>30</span>
</span></span><span class=line><span class=cl><span class=na>TimeoutStopSec</span><span class=o>=</span><span class=s>30</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Resource limits</span>
</span></span><span class=line><span class=cl><span class=na>LimitNOFILE</span><span class=o>=</span><span class=s>65535</span>
</span></span><span class=line><span class=cl><span class=na>LimitNPROC</span><span class=o>=</span><span class=s>4096</span>
</span></span><span class=line><span class=cl><span class=na>MemoryLimit</span><span class=o>=</span><span class=s>2G</span>
</span></span><span class=line><span class=cl><span class=na>CPUQuota</span><span class=o>=</span><span class=s>50%</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Security</span>
</span></span><span class=line><span class=cl><span class=na>NoNewPrivileges</span><span class=o>=</span><span class=s>yes</span>
</span></span><span class=line><span class=cl><span class=na>ProtectSystem</span><span class=o>=</span><span class=s>strict</span>
</span></span><span class=line><span class=cl><span class=na>ProtectHome</span><span class=o>=</span><span class=s>yes</span>
</span></span><span class=line><span class=cl><span class=na>PrivateTmp</span><span class=o>=</span><span class=s>yes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Install]</span>
</span></span><span class=line><span class=cl><span class=na>WantedBy</span><span class=o>=</span><span class=s>multi-user.target</span></span></span></code></pre></td></tr></table></div></div><p><strong>Service Types:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────┬───────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│ Type    │ Description                                       │
</span></span><span class=line><span class=cl>├─────────┼───────────────────────────────────────────────────┤
</span></span><span class=line><span class=cl>│ simple  │ ExecStart là main process (default)               │
</span></span><span class=line><span class=cl>│ forking │ ExecStart fork rồi exit, cần PIDFile              │
</span></span><span class=line><span class=cl>│ oneshot │ Chạy 1 lần rồi exit (scripts)                     │
</span></span><span class=line><span class=cl>│ notify  │ Như simple, nhưng gửi notification khi ready      │
</span></span><span class=line><span class=cl>│ dbus    │ Ready khi xuất hiện trên D-Bus                    │
</span></span><span class=line><span class=cl>│ idle    │ Như simple, nhưng delay đến khi không còn jobs    │
</span></span><span class=line><span class=cl>└─────────┴───────────────────────────────────────────────────┘</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=55-service-sysvinit-compatibility><span>5.5 service (SysVinit compatibility)</span>
<a href=#55-service-sysvinit-compatibility class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># service = wrapper cho systemctl hoặc /etc/init.d/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>service nginx start
</span></span><span class=line><span class=cl>service nginx stop
</span></span><span class=line><span class=cl>service nginx restart
</span></span><span class=line><span class=cl>service nginx status
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tương đương với:</span>
</span></span><span class=line><span class=cl>systemctl start nginx
</span></span><span class=line><span class=cl>systemctl stop nginx
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List services</span>
</span></span><span class=line><span class=cl>service --status-all</span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-6-scheduling---crontab--at><span>PHẦN 6: SCHEDULING - CRONTAB & AT</span>
<a href=#ph%e1%ba%a7n-6-scheduling---crontab--at class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=61-cron-architecture><span>6.1 Cron Architecture</span>
<a href=#61-cron-architecture class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>CRON</span> <span class=n>DAEMON</span> <span class=n>ARCHITECTURE</span>                 <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>crond</span> <span class=n>daemon</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=mf>1.</span> <span class=err>Đọ</span><span class=n>c</span> <span class=n>crontabs</span> <span class=p>(</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>spool</span><span class=o>/</span><span class=n>cron</span><span class=o>/*</span><span class=p>,</span> <span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>crontab</span><span class=p>,</span> <span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>cron</span><span class=o>.</span><span class=n>d</span><span class=o>/*</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mf>2.</span> <span class=n>Tính</span> <span class=n>next</span> <span class=n>execution</span> <span class=n>time</span> <span class=n>cho</span> <span class=n>mỗi</span> <span class=n>job</span>
</span></span><span class=line><span class=cl><span class=mf>3.</span> <span class=n>Sleep</span> <span class=err>đế</span><span class=n>n</span> <span class=n>earliest</span> <span class=n>job</span>
</span></span><span class=line><span class=cl><span class=mf>4.</span> <span class=n>Wake</span> <span class=n>up</span><span class=p>,</span> <span class=n>execute</span> <span class=n>job</span><span class=p>(</span><span class=n>s</span><span class=p>),</span> <span class=n>repeat</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Data</span> <span class=n>structure</span><span class=p>:</span> <span class=n>MIN</span><span class=o>-</span><span class=n>HEAP</span> <span class=p>(</span><span class=n>Priority</span> <span class=n>Queue</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Key</span> <span class=o>=</span> <span class=n>next</span> <span class=n>execution</span> <span class=n>timestamp</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Extract</span><span class=o>-</span><span class=nb>min</span><span class=p>:</span> <span class=n>O</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Insert</span><span class=p>:</span> <span class=n>O</span><span class=p>(</span><span class=nb>log</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Update</span><span class=p>:</span> <span class=n>O</span><span class=p>(</span><span class=nb>log</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                     <span class=n>MIN</span><span class=o>-</span><span class=n>HEAP</span>                                <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=err>┌───┐</span>                                    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=err>│</span> <span class=mi>5</span> <span class=err>│</span>  <span class=err>←</span> <span class=n>Next</span> <span class=n>job</span> <span class=n>to</span> <span class=n>run</span> <span class=p>(</span><span class=n>smallest</span> <span class=n>time</span><span class=p>)</span> <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=err>└─┬─┘</span>                                    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                   <span class=o>/</span>     \                                   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>               <span class=err>┌───┐</span>     <span class=err>┌───┐</span>                               <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>               <span class=err>│</span> <span class=mi>10</span><span class=err>│</span>     <span class=err>│</span> <span class=mi>15</span><span class=err>│</span>                               <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>               <span class=err>└─┬─┘</span>     <span class=err>└─┬─┘</span>                               <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=o>/</span>    \    <span class=o>/</span>    \                               <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>          <span class=err>┌───┐</span> <span class=err>┌───┐┌───┐┌───┐</span>                              <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>          <span class=err>│</span> <span class=mi>20</span><span class=err>│</span> <span class=err>│</span> <span class=mi>25</span><span class=err>││</span> <span class=mi>30</span><span class=err>││</span> <span class=mi>35</span><span class=err>│</span>                              <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>          <span class=err>└───┘</span> <span class=err>└───┘└───┘└───┘</span>                              <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=n>crond</span> <span class=n>sleep</span> <span class=n>cho</span> <span class=err>đế</span><span class=n>n</span> <span class=n>timestamp</span> <span class=mi>5</span><span class=p>,</span> <span class=n>execute</span><span class=p>,</span> <span class=n>remove</span><span class=p>,</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=n>add</span> <span class=n>lại</span> <span class=n>với</span> <span class=n>next</span> <span class=n>occurrence</span><span class=p>,</span> <span class=n>heapify</span>                       <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=62-crontab-syntax><span>6.2 Crontab Syntax</span>
<a href=#62-crontab-syntax class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    CRONTAB FORMAT                           │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>┌───────────── minute (0 - 59)
</span></span><span class=line><span class=cl>│ ┌───────────── hour (0 - 23)
</span></span><span class=line><span class=cl>│ │ ┌───────────── day of month (1 - 31)
</span></span><span class=line><span class=cl>│ │ │ ┌───────────── month (1 - 12)
</span></span><span class=line><span class=cl>│ │ │ │ ┌───────────── day of week (0 - 7, 0 và 7 = Sunday)
</span></span><span class=line><span class=cl>│ │ │ │ │
</span></span><span class=line><span class=cl>│ │ │ │ │
</span></span><span class=line><span class=cl>* * * * * command to execute
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Special characters:
</span></span><span class=line><span class=cl>*       Any value
</span></span><span class=line><span class=cl>,       Value list separator (1,3,5)
</span></span><span class=line><span class=cl>-       Range of values (1-5)
</span></span><span class=line><span class=cl>/       Step values (*/5 = every 5)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Examples:
</span></span><span class=line><span class=cl>30 4 * * *        # 4:30 AM mỗi ngày
</span></span><span class=line><span class=cl>0 */2 * * *       # Mỗi 2 giờ
</span></span><span class=line><span class=cl>0 9-17 * * 1-5    # Mỗi giờ từ 9-17h, Mon-Fri
</span></span><span class=line><span class=cl>*/15 * * * *      # Mỗi 15 phút
</span></span><span class=line><span class=cl>0 0 1 * *         # 00:00 ngày 1 mỗi tháng
</span></span><span class=line><span class=cl>0 0 * * 0         # 00:00 mỗi Chủ Nhật
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Special strings:
</span></span><span class=line><span class=cl>@reboot           # Run once at startup
</span></span><span class=line><span class=cl>@yearly           # 0 0 1 1 *
</span></span><span class=line><span class=cl>@monthly          # 0 0 1 * *
</span></span><span class=line><span class=cl>@weekly           # 0 0 * * 0
</span></span><span class=line><span class=cl>@daily            # 0 0 * * *
</span></span><span class=line><span class=cl>@hourly           # 0 * * * *</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=63-crontab-management><span>6.3 Crontab Management</span>
<a href=#63-crontab-management class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Edit crontab của current user</span>
</span></span><span class=line><span class=cl>crontab -e
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List crontab</span>
</span></span><span class=line><span class=cl>crontab -l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Remove crontab</span>
</span></span><span class=line><span class=cl>crontab -r
</span></span><span class=line><span class=cl>crontab -ri                 <span class=c1># Interactive (confirm)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Edit crontab của user khác (root only)</span>
</span></span><span class=line><span class=cl>crontab -u nginx -e
</span></span><span class=line><span class=cl>crontab -u nginx -l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># System crontabs (khác user crontab - có thêm user field)</span>
</span></span><span class=line><span class=cl>/etc/crontab                <span class=c1># System crontab</span>
</span></span><span class=line><span class=cl>/etc/cron.d/*               <span class=c1># Drop-in crontabs</span>
</span></span><span class=line><span class=cl>/etc/cron.daily/            <span class=c1># Scripts chạy daily</span>
</span></span><span class=line><span class=cl>/etc/cron.hourly/           <span class=c1># Scripts chạy hourly</span>
</span></span><span class=line><span class=cl>/etc/cron.weekly/           <span class=c1># Scripts chạy weekly</span>
</span></span><span class=line><span class=cl>/etc/cron.monthly/          <span class=c1># Scripts chạy monthly</span></span></span></code></pre></td></tr></table></div></div><p><strong>Ví dụ crontab:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Crontab của user</span>
</span></span><span class=line><span class=cl><span class=nv>SHELL</span><span class=o>=</span>/bin/bash
</span></span><span class=line><span class=cl><span class=nv>PATH</span><span class=o>=</span>/usr/local/bin:/usr/bin:/bin
</span></span><span class=line><span class=cl><span class=nv>MAILTO</span><span class=o>=</span>admin@example.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Backup database mỗi ngày lúc 2:00 AM</span>
</span></span><span class=line><span class=cl><span class=m>0</span> <span class=m>2</span> * * * /opt/scripts/backup_db.sh &gt;&gt; /var/log/backup.log 2&gt;<span class=p>&amp;</span><span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Rotate logs mỗi tuần</span>
</span></span><span class=line><span class=cl><span class=m>0</span> <span class=m>0</span> * * <span class=m>0</span> /usr/sbin/logrotate /etc/logrotate.conf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check disk space mỗi 6 giờ</span>
</span></span><span class=line><span class=cl><span class=m>0</span> */6 * * * /opt/scripts/check_disk.sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cleanup temp files mỗi ngày lúc 3:00 AM</span>
</span></span><span class=line><span class=cl><span class=m>0</span> <span class=m>3</span> * * * find /tmp -type f -mtime +7 -delete
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sync data mỗi 5 phút (business hours only)</span>
</span></span><span class=line><span class=cl>*/5 9-18 * * 1-5 /opt/scripts/sync_data.sh</span></span></code></pre></td></tr></table></div></div><p><strong>System crontab format (/etc/crontab, /etc/cron.d/*):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Thêm user field</span>
</span></span><span class=line><span class=cl><span class=nv>SHELL</span><span class=o>=</span>/bin/bash
</span></span><span class=line><span class=cl><span class=nv>PATH</span><span class=o>=</span>/sbin:/bin:/usr/sbin:/usr/bin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># minute hour day month weekday user command</span>
</span></span><span class=line><span class=cl><span class=m>0</span> <span class=m>4</span> * * * root /opt/scripts/backup.sh
</span></span><span class=line><span class=cl>*/10 * * * * nginx /opt/nginx/scripts/reload_config.sh</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=64-at---one-time-scheduling><span>6.4 at - One-time Scheduling</span>
<a href=#64-at---one-time-scheduling class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># at = schedule job chạy MỘT LẦN</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Schedule job</span>
</span></span><span class=line><span class=cl>at 10:00                    <span class=c1># Hôm nay 10:00</span>
</span></span><span class=line><span class=cl>at 10:00 PM                 <span class=c1># Hôm nay 10:00 PM</span>
</span></span><span class=line><span class=cl>at now + <span class=m>1</span> hour             <span class=c1># 1 giờ sau</span>
</span></span><span class=line><span class=cl>at now + <span class=m>30</span> minutes
</span></span><span class=line><span class=cl>at now + <span class=m>2</span> days
</span></span><span class=line><span class=cl>at midnight                 <span class=c1># 00:00</span>
</span></span><span class=line><span class=cl>at noon                     <span class=c1># 12:00</span>
</span></span><span class=line><span class=cl>at teatime                  <span class=c1># 16:00</span>
</span></span><span class=line><span class=cl>at tomorrow                 <span class=c1># Ngày mai, cùng giờ</span>
</span></span><span class=line><span class=cl>at 4pm + <span class=m>3</span> days             <span class=c1># 4:00 PM, 3 ngày sau</span>
</span></span><span class=line><span class=cl>at 10:00 Jul <span class=m>31</span>             <span class=c1># 10:00 ngày 31/7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sau khi gõ at, nhập commands, Ctrl+D để kết thúc</span>
</span></span><span class=line><span class=cl>at now + <span class=m>1</span> hour
</span></span><span class=line><span class=cl>&gt; /opt/scripts/task.sh
</span></span><span class=line><span class=cl>&gt; <span class=nb>echo</span> <span class=s2>&#34;Task completed&#34;</span> <span class=p>|</span> mail -s <span class=s2>&#34;Done&#34;</span> admin@example.com
</span></span><span class=line><span class=cl>&gt; &lt;Ctrl+D&gt;
</span></span><span class=line><span class=cl>job <span class=m>5</span> at Tue Dec <span class=m>10</span> 15:30:00 <span class=m>2024</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hoặc dùng heredoc</span>
</span></span><span class=line><span class=cl>at now + <span class=m>1</span> hour <span class=s>&lt;&lt; &#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>/opt/scripts/task.sh
</span></span></span><span class=line><span class=cl><span class=s>echo &#34;Done&#34;
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hoặc từ file</span>
</span></span><span class=line><span class=cl>at now + <span class=m>1</span> hour -f /opt/scripts/commands.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List scheduled jobs</span>
</span></span><span class=line><span class=cl>atq
</span></span><span class=line><span class=cl>at -l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xem nội dung job</span>
</span></span><span class=line><span class=cl>at -c JOB_NUMBER
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Remove job</span>
</span></span><span class=line><span class=cl>atrm JOB_NUMBER
</span></span><span class=line><span class=cl>at -d JOB_NUMBER
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># batch - chạy khi load average thấp</span>
</span></span><span class=line><span class=cl>batch <span class=s>&lt;&lt; &#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>/opt/scripts/heavy_task.sh
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl><span class=c1># Chỉ chạy khi load &lt; 1.5 (configurable)</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=65-systemd-timers-modern-alternative-to-cron><span>6.5 Systemd Timers (Modern Alternative to Cron)</span>
<a href=#65-systemd-timers-modern-alternative-to-cron class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1># /etc/systemd/system/backup.timer</span>
</span></span><span class=line><span class=cl><span class=k>[Unit]</span>
</span></span><span class=line><span class=cl><span class=na>Description</span><span class=o>=</span><span class=s>Daily Backup Timer</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Timer]</span>
</span></span><span class=line><span class=cl><span class=na>OnCalendar</span><span class=o>=</span><span class=s>*-*-* 02:00:00</span>
</span></span><span class=line><span class=cl><span class=c1># Hoặc: daily, weekly, monthly</span>
</span></span><span class=line><span class=cl><span class=c1># Hoặc: OnBootSec=10min, OnUnitActiveSec=1h</span>
</span></span><span class=line><span class=cl><span class=na>Persistent</span><span class=o>=</span><span class=s>true</span>
</span></span><span class=line><span class=cl><span class=c1># Nếu miss schedule (machine off), chạy ngay khi boot</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Install]</span>
</span></span><span class=line><span class=cl><span class=na>WantedBy</span><span class=o>=</span><span class=s>timers.target</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1># /etc/systemd/system/backup.service</span>
</span></span><span class=line><span class=cl><span class=k>[Unit]</span>
</span></span><span class=line><span class=cl><span class=na>Description</span><span class=o>=</span><span class=s>Backup Service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Service]</span>
</span></span><span class=line><span class=cl><span class=na>Type</span><span class=o>=</span><span class=s>oneshot</span>
</span></span><span class=line><span class=cl><span class=na>ExecStart</span><span class=o>=</span><span class=s>/opt/scripts/backup.sh</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Enable và start timer</span>
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> backup.timer
</span></span><span class=line><span class=cl>systemctl start backup.timer
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List timers</span>
</span></span><span class=line><span class=cl>systemctl list-timers
</span></span><span class=line><span class=cl>systemctl list-timers --all
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Status</span>
</span></span><span class=line><span class=cl>systemctl status backup.timer
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Logs</span>
</span></span><span class=line><span class=cl>journalctl -u backup.service</span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-7-memory--system-monitoring><span>PHẦN 7: MEMORY & SYSTEM MONITORING</span>
<a href=#ph%e1%ba%a7n-7-memory--system-monitoring class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=71-virtual-memory-concepts><span>7.1 Virtual Memory Concepts</span>
<a href=#71-virtual-memory-concepts class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>VIRTUAL</span> <span class=n>MEMORY</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Mỗi</span> <span class=n>process</span> <span class=n>có</span> <span class=n>address</span> <span class=n>space</span> <span class=n>riêng</span> <span class=p>(</span><span class=n>virtual</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>MMU</span> <span class=p>(</span><span class=n>Memory</span> <span class=n>Management</span> <span class=n>Unit</span><span class=p>)</span> <span class=n>translate</span> <span class=n>virtual</span> <span class=err>→</span> <span class=n>physical</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=n>Process</span> <span class=n>A</span>            <span class=n>Physical</span>           <span class=n>Process</span> <span class=n>B</span>         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=n>Virtual</span> <span class=n>Mem</span>          <span class=n>Memory</span>             <span class=n>Virtual</span> <span class=n>Mem</span>       <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>┌───────┐</span>           <span class=err>┌───────┐</span>          <span class=err>┌───────┐</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>│</span> <span class=mh>0x1000</span><span class=err>│──────────►│</span> <span class=mh>0x5000</span><span class=err>│◄─────────│</span> <span class=mh>0x1000</span><span class=err>│</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├───────┤</span>           <span class=err>├───────┤</span>          <span class=err>├───────┤</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>│</span> <span class=mh>0x2000</span><span class=err>│──────┐</span>    <span class=err>│</span> <span class=mh>0x6000</span><span class=err>│</span>    <span class=err>┌─────│</span> <span class=mh>0x2000</span><span class=err>│</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├───────┤</span>      <span class=err>│</span>    <span class=err>├───────┤</span>    <span class=err>│</span>     <span class=err>├───────┤</span>          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>│</span> <span class=mh>0x3000</span><span class=err>│</span>      <span class=err>└───►│</span> <span class=mh>0x7000</span><span class=err>│◄───┘</span>     <span class=err>│</span> <span class=mh>0x3000</span><span class=err>│──────┐</span>   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>└───────┘</span>           <span class=err>├───────┤</span>          <span class=err>└───────┘</span>      <span class=err>│</span>   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                       <span class=err>│</span> <span class=mh>0x8000</span><span class=err>│◄────────────────────────┘</span>   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                       <span class=err>└───────┘</span>                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=n>Cả</span> <span class=n>A</span> <span class=n>và</span> <span class=n>B</span> <span class=err>đề</span><span class=n>u</span> <span class=n>thấy</span> <span class=n>address</span> <span class=mh>0x1000</span> <span class=n>nhưng</span> <span class=n>map</span> <span class=err>đế</span><span class=n>n</span>           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=n>physical</span> <span class=n>memory</span> <span class=n>khác</span> <span class=n>nhau</span> <span class=err>→</span> <span class=n>Isolation</span>                     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Page</span> <span class=o>=</span> <span class=err>Đơ</span><span class=n>n</span> <span class=n>vị</span> <span class=n>quản</span> <span class=n>lý</span> <span class=n>memory</span> <span class=p>(</span><span class=n>thường</span> <span class=mi>4</span><span class=n>KB</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Page</span> <span class=n>Table</span> <span class=o>=</span> <span class=n>Map</span> <span class=n>virtual</span> <span class=n>page</span> <span class=err>→</span> <span class=n>physical</span> <span class=n>frame</span>
</span></span><span class=line><span class=cl><span class=n>Page</span> <span class=n>Fault</span> <span class=o>=</span> <span class=n>Access</span> <span class=n>page</span> <span class=n>chưa</span> <span class=n>có</span> <span class=n>trong</span> <span class=n>physical</span> <span class=n>memory</span>
</span></span><span class=line><span class=cl>           <span class=err>→</span> <span class=n>Kernel</span> <span class=nb>load</span> <span class=n>từ</span> <span class=n>disk</span> <span class=p>(</span><span class=n>swap</span><span class=p>)</span> <span class=n>hoặc</span> <span class=n>allocate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Page</span> <span class=n>Replacement</span> <span class=n>Algorithms</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>LRU</span> <span class=p>(</span><span class=n>Least</span> <span class=n>Recently</span> <span class=n>Used</span><span class=p>):</span> <span class=n>Evict</span> <span class=n>page</span> <span class=n>lâu</span> <span class=n>không</span> <span class=n>dùng</span> <span class=n>nhất</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Clock</span><span class=o>/</span><span class=n>Second</span><span class=o>-</span><span class=n>Chance</span><span class=p>:</span> <span class=n>Approximation</span> <span class=n>of</span> <span class=n>LRU</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Linux</span> <span class=n>dùng</span> <span class=n>variant</span> <span class=n>của</span> <span class=n>LRU</span> <span class=n>với</span> <span class=n>active</span><span class=o>/</span><span class=n>inactive</span> <span class=n>lists</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=72-free---memory-usage><span>7.2 free - Memory Usage</span>
<a href=#72-free---memory-usage class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>free
</span></span><span class=line><span class=cl>free -h                     <span class=c1># Human readable</span>
</span></span><span class=line><span class=cl>free -h -s <span class=m>1</span>                <span class=c1># Repeat every 1 second</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output:</span>
</span></span><span class=line><span class=cl>              total        used        free      shared  buff/cache   available
</span></span><span class=line><span class=cl>Mem:           15Gi       8.0Gi       1.0Gi       500Mi       6.0Gi       6.5Gi
</span></span><span class=line><span class=cl>Swap:         4.0Gi          0B       4.0Gi
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giải thích:</span>
</span></span><span class=line><span class=cl><span class=c1># total:      Tổng RAM</span>
</span></span><span class=line><span class=cl><span class=c1># used:       Đang dùng</span>
</span></span><span class=line><span class=cl><span class=c1># free:       Hoàn toàn free (KHÔNG = available)</span>
</span></span><span class=line><span class=cl><span class=c1># shared:     Shared memory (tmpfs, etc.)</span>
</span></span><span class=line><span class=cl><span class=c1># buff/cache: Buffer + cache (có thể reclaim)</span>
</span></span><span class=line><span class=cl><span class=c1># available:  Ước tính memory có thể dùng cho app mới</span>
</span></span><span class=line><span class=cl><span class=c1>#            = free + reclaimable cache</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># QUAN TRỌNG: Đừng panic khi free thấp!</span>
</span></span><span class=line><span class=cl><span class=c1># Linux dùng free memory làm cache → Performance</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;Available&#34; mới là số quan trọng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Buffer vs Cache:</span>
</span></span><span class=line><span class=cl><span class=c1># Buffer: Disk block buffer (metadata, directory...)</span>
</span></span><span class=line><span class=cl><span class=c1># Cache: Page cache (file content)</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=73-vmstat---virtual-memory-statistics><span>7.3 vmstat - Virtual Memory Statistics</span>
<a href=#73-vmstat---virtual-memory-statistics class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vmstat
</span></span><span class=line><span class=cl>vmstat <span class=m>1</span>                    <span class=c1># Update every 1 second</span>
</span></span><span class=line><span class=cl>vmstat <span class=m>1</span> <span class=m>10</span>                 <span class=c1># 1 second interval, 10 times</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output:</span>
</span></span><span class=line><span class=cl>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
</span></span><span class=line><span class=cl> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
</span></span><span class=line><span class=cl> <span class=m>1</span>  <span class=m>0</span>      <span class=m>0</span> <span class=m>1024000</span> <span class=m>128000</span> <span class=m>6000000</span>  <span class=m>0</span>    <span class=m>0</span>    <span class=m>10</span>    <span class=m>50</span>  <span class=m>200</span>  <span class=m>400</span>  <span class=m>5</span>  <span class=m>2</span> <span class=m>92</span>  <span class=m>1</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># procs:</span>
</span></span><span class=line><span class=cl><span class=c1># r: Processes waiting for CPU (run queue)</span>
</span></span><span class=line><span class=cl><span class=c1># b: Processes in uninterruptible sleep (blocked on I/O)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># memory:</span>
</span></span><span class=line><span class=cl><span class=c1># swpd: Virtual memory used (swap)</span>
</span></span><span class=line><span class=cl><span class=c1># free: Idle memory</span>
</span></span><span class=line><span class=cl><span class=c1># buff: Memory used as buffers</span>
</span></span><span class=line><span class=cl><span class=c1># cache: Memory used as cache</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># swap:</span>
</span></span><span class=line><span class=cl><span class=c1># si: Memory swapped IN from disk (KB/s)</span>
</span></span><span class=line><span class=cl><span class=c1># so: Memory swapped OUT to disk (KB/s)</span>
</span></span><span class=line><span class=cl><span class=c1># → Nếu si/so &gt; 0 liên tục → Memory pressure!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># io:</span>
</span></span><span class=line><span class=cl><span class=c1># bi: Blocks received from block device (KB/s)</span>
</span></span><span class=line><span class=cl><span class=c1># bo: Blocks sent to block device (KB/s)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># system:</span>
</span></span><span class=line><span class=cl><span class=c1># in: Interrupts per second</span>
</span></span><span class=line><span class=cl><span class=c1># cs: Context switches per second</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># cpu (percentage):</span>
</span></span><span class=line><span class=cl><span class=c1># us: User time</span>
</span></span><span class=line><span class=cl><span class=c1># sy: System (kernel) time</span>
</span></span><span class=line><span class=cl><span class=c1># id: Idle time</span>
</span></span><span class=line><span class=cl><span class=c1># wa: Wait for I/O</span>
</span></span><span class=line><span class=cl><span class=c1># st: Stolen (virtualization)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Red flags:</span>
</span></span><span class=line><span class=cl><span class=c1># - r &gt;&gt; số CPU cores → CPU overloaded</span>
</span></span><span class=line><span class=cl><span class=c1># - b &gt; 0 sustained → I/O bottleneck</span>
</span></span><span class=line><span class=cl><span class=c1># - si/so &gt; 0 sustained → Memory pressure, swapping</span>
</span></span><span class=line><span class=cl><span class=c1># - wa &gt; 10% → I/O bottleneck</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=74-sar---system-activity-reporter><span>7.4 sar - System Activity Reporter</span>
<a href=#74-sar---system-activity-reporter class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># sar = Comprehensive system statistics (từ sysstat package)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># CPU usage</span>
</span></span><span class=line><span class=cl>sar -u <span class=m>1</span> <span class=m>5</span>                  <span class=c1># CPU, 1 second interval, 5 times</span>
</span></span><span class=line><span class=cl>sar -u ALL <span class=m>1</span> <span class=m>5</span>              <span class=c1># Detailed CPU</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Memory</span>
</span></span><span class=line><span class=cl>sar -r <span class=m>1</span> <span class=m>5</span>                  <span class=c1># Memory utilization</span>
</span></span><span class=line><span class=cl>sar -R <span class=m>1</span> <span class=m>5</span>                  <span class=c1># Memory statistics</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Swap</span>
</span></span><span class=line><span class=cl>sar -S <span class=m>1</span> <span class=m>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># I/O</span>
</span></span><span class=line><span class=cl>sar -b <span class=m>1</span> <span class=m>5</span>                  <span class=c1># I/O transfer rates</span>
</span></span><span class=line><span class=cl>sar -d <span class=m>1</span> <span class=m>5</span>                  <span class=c1># Block device activity</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Network</span>
</span></span><span class=line><span class=cl>sar -n DEV <span class=m>1</span> <span class=m>5</span>              <span class=c1># Network interface</span>
</span></span><span class=line><span class=cl>sar -n SOCK <span class=m>1</span> <span class=m>5</span>             <span class=c1># Socket statistics</span>
</span></span><span class=line><span class=cl>sar -n TCP <span class=m>1</span> <span class=m>5</span>              <span class=c1># TCP statistics</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Load average</span>
</span></span><span class=line><span class=cl>sar -q <span class=m>1</span> <span class=m>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Context switches</span>
</span></span><span class=line><span class=cl>sar -w <span class=m>1</span> <span class=m>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Historical data (nếu sysstat đang collect)</span>
</span></span><span class=line><span class=cl>sar -u -f /var/log/sa/sa10  <span class=c1># CPU data từ ngày 10</span>
</span></span><span class=line><span class=cl>sar -r -s 09:00 -e 17:00    <span class=c1># Memory từ 9:00 đến 17:00</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output tất cả metrics</span>
</span></span><span class=line><span class=cl>sar -A</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=75-dmesg---kernel-ring-buffer><span>7.5 dmesg - Kernel Ring Buffer</span>
<a href=#75-dmesg---kernel-ring-buffer class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># dmesg = Kernel messages (boot, hardware, errors...)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>dmesg
</span></span><span class=line><span class=cl>dmesg <span class=p>|</span> tail -50            <span class=c1># Recent messages</span>
</span></span><span class=line><span class=cl>dmesg -H                    <span class=c1># Human readable (pager + timestamps)</span>
</span></span><span class=line><span class=cl>dmesg -T                    <span class=c1># Human readable timestamps</span>
</span></span><span class=line><span class=cl>dmesg -w                    <span class=c1># Follow (like tail -f)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Filter by level</span>
</span></span><span class=line><span class=cl>dmesg -l err                <span class=c1># Only errors</span>
</span></span><span class=line><span class=cl>dmesg -l warn               <span class=c1># Only warnings</span>
</span></span><span class=line><span class=cl>dmesg -l err,warn           <span class=c1># Errors + warnings</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Filter by facility</span>
</span></span><span class=line><span class=cl>dmesg -f kern               <span class=c1># Kernel messages</span>
</span></span><span class=line><span class=cl>dmesg -f daemon             <span class=c1># Daemon messages</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Clear buffer (root only)</span>
</span></span><span class=line><span class=cl>dmesg -c                    <span class=c1># Print and clear</span>
</span></span><span class=line><span class=cl>dmesg -C                    <span class=c1># Just clear</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Common things to look for:</span>
</span></span><span class=line><span class=cl>dmesg <span class=p>|</span> grep -i error
</span></span><span class=line><span class=cl>dmesg <span class=p>|</span> grep -i fail
</span></span><span class=line><span class=cl>dmesg <span class=p>|</span> grep -i oom         <span class=c1># Out of memory</span>
</span></span><span class=line><span class=cl>dmesg <span class=p>|</span> grep -i usb         <span class=c1># USB events</span>
</span></span><span class=line><span class=cl>dmesg <span class=p>|</span> grep -i eth         <span class=c1># Network interface</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=76-uptime--w><span>7.6 uptime & w</span>
<a href=#76-uptime--w class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># uptime</span>
</span></span><span class=line><span class=cl>uptime
</span></span><span class=line><span class=cl><span class=c1># 14:30:45 up 10 days, 2:15,  3 users,  load average: 0.52, 0.58, 0.59</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># w - who + what doing</span>
</span></span><span class=line><span class=cl>w
</span></span><span class=line><span class=cl><span class=c1># 14:30:45 up 10 days, 2:15,  3 users,  load average: 0.52, 0.58, 0.59</span>
</span></span><span class=line><span class=cl><span class=c1># USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span>
</span></span><span class=line><span class=cl><span class=c1># root     pts/0    192.168.1.100    10:00    0.00s  0.10s  0.00s w</span>
</span></span><span class=line><span class=cl><span class=c1># nginx    pts/1    192.168.1.101    09:00   30:00   0.05s  0.00s vim config</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># who - simpler</span>
</span></span><span class=line><span class=cl>who
</span></span><span class=line><span class=cl>who -a                      <span class=c1># All information</span></span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-8-logging---journalctl--friends><span>PHẦN 8: LOGGING - JOURNALCTL & FRIENDS</span>
<a href=#ph%e1%ba%a7n-8-logging---journalctl--friends class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=81-systemd-journal-architecture><span>8.1 Systemd Journal Architecture</span>
<a href=#81-systemd-journal-architecture class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                <span class=n>SYSTEMD</span> <span class=n>JOURNAL</span> <span class=n>ARCHITECTURE</span>                 <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                      <span class=n>Applications</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>┌──────────┐</span>  <span class=err>┌──────────┐</span>  <span class=err>┌──────────┐</span>  <span class=err>┌──────────┐</span>     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span>  <span class=n>nginx</span>   <span class=err>│</span>  <span class=err>│</span>   <span class=n>sshd</span>   <span class=err>│</span>  <span class=err>│</span>  <span class=n>myapp</span>   <span class=err>│</span>  <span class=err>│</span>  <span class=n>kernel</span>  <span class=err>│</span>     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>└────┬─────┘</span>  <span class=err>└────┬─────┘</span>  <span class=err>└────┬─────┘</span>  <span class=err>└────┬─────┘</span>     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>│</span>             <span class=err>│</span>             <span class=err>│</span>             <span class=err>│</span>           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>│</span>  <span class=n>stdout</span><span class=o>/</span>    <span class=err>│</span>   <span class=n>syslog</span>    <span class=err>│</span>  <span class=n>systemd</span>    <span class=err>│</span>  <span class=n>kmsg</span>     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>│</span>  <span class=n>stderr</span>     <span class=err>│</span>   <span class=n>API</span>       <span class=err>│</span>  <span class=n>API</span>        <span class=err>│</span>           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>│</span>             <span class=err>│</span>             <span class=err>│</span>             <span class=err>│</span>           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└───────┼─────────────┼─────────────┼─────────────┼───────────┘</span>
</span></span><span class=line><span class=cl>        <span class=err>│</span>             <span class=err>│</span>             <span class=err>│</span>             <span class=err>│</span>
</span></span><span class=line><span class=cl>        <span class=err>▼</span>             <span class=err>▼</span>             <span class=err>▼</span>             <span class=err>▼</span>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>systemd</span><span class=o>-</span><span class=n>journald</span>                         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=n>Collect</span> <span class=err>→</span> <span class=n>Index</span> <span class=err>→</span> <span class=n>Store</span> <span class=err>→</span> <span class=n>Query</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=n>Storage</span><span class=p>:</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=nb>log</span><span class=o>/</span><span class=n>journal</span><span class=o>/</span> <span class=p>(</span><span class=n>binary</span><span class=p>,</span> <span class=n>indexed</span><span class=p>)</span>              <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=o>-</span> <span class=n>Structured</span> <span class=n>data</span> <span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=n>value</span><span class=p>)</span>                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=o>-</span> <span class=n>Indexed</span> <span class=k>for</span> <span class=n>fast</span> <span class=n>queries</span>                                <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=o>-</span> <span class=n>Automatic</span> <span class=n>rotation</span>                                      <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=o>-</span> <span class=n>Forward</span> <span class=n>to</span> <span class=n>syslog</span> <span class=k>if</span> <span class=n>configured</span>                         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Journal</span> <span class=n>vs</span> <span class=n>Traditional</span> <span class=n>Syslog</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>┌──────────────┬────────────────────┬────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Feature</span>      <span class=err>│</span> <span class=n>Journal</span>            <span class=err>│</span> <span class=n>Syslog</span> <span class=p>(</span><span class=n>rsyslog</span><span class=p>)</span>       <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>├──────────────┼────────────────────┼────────────────────────┤</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Format</span>       <span class=err>│</span> <span class=n>Binary</span><span class=p>,</span> <span class=n>indexed</span>    <span class=err>│</span> <span class=n>Plain</span> <span class=n>text</span>             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Query</span>        <span class=err>│</span> <span class=n>Fast</span><span class=p>,</span> <span class=n>structured</span>   <span class=err>│</span> <span class=n>grep</span><span class=p>,</span> <span class=n>slow</span>             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Metadata</span>     <span class=err>│</span> <span class=n>Rich</span> <span class=p>(</span><span class=n>PID</span><span class=p>,</span> <span class=n>UID</span><span class=o>...</span><span class=p>)</span> <span class=err>│</span> <span class=n>Basic</span>                  <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Rotation</span>     <span class=err>│</span> <span class=n>Automatic</span>          <span class=err>│</span> <span class=n>logrotate</span>              <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Boot</span> <span class=n>logs</span>    <span class=err>│</span> <span class=n>Preserved</span>          <span class=err>│</span> <span class=n>May</span> <span class=n>lose</span>               <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>Remote</span>       <span class=err>│</span> <span class=n>systemd</span><span class=o>-</span><span class=n>journal</span><span class=o>-</span>   <span class=err>│</span> <span class=n>Native</span>                 <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=err>│</span> <span class=n>remote</span>             <span class=err>│</span>                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└──────────────┴────────────────────┴────────────────────────┘</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=82-journalctl---query-journal><span>8.2 journalctl - Query Journal</span>
<a href=#82-journalctl---query-journal class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Xem tất cả logs</span>
</span></span><span class=line><span class=cl>journalctl
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Phím điều hướng (less):</span>
</span></span><span class=line><span class=cl><span class=c1># Space/Page Down: Next page</span>
</span></span><span class=line><span class=cl><span class=c1># b/Page Up: Previous page</span>
</span></span><span class=line><span class=cl><span class=c1># g: Go to beginning</span>
</span></span><span class=line><span class=cl><span class=c1># G: Go to end</span>
</span></span><span class=line><span class=cl><span class=c1># /pattern: Search</span>
</span></span><span class=line><span class=cl><span class=c1># n: Next match</span>
</span></span><span class=line><span class=cl><span class=c1># q: Quit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Follow (như tail -f)</span>
</span></span><span class=line><span class=cl>journalctl -f
</span></span><span class=line><span class=cl>journalctl -f -u nginx      <span class=c1># Follow nginx logs</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Reverse order (newest first)</span>
</span></span><span class=line><span class=cl>journalctl -r
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output formats</span>
</span></span><span class=line><span class=cl>journalctl -o short         <span class=c1># Default</span>
</span></span><span class=line><span class=cl>journalctl -o short-precise <span class=c1># Microseconds</span>
</span></span><span class=line><span class=cl>journalctl -o verbose       <span class=c1># All fields</span>
</span></span><span class=line><span class=cl>journalctl -o json          <span class=c1># JSON</span>
</span></span><span class=line><span class=cl>journalctl -o json-pretty   <span class=c1># JSON formatted</span>
</span></span><span class=line><span class=cl>journalctl -o cat           <span class=c1># Message only (no metadata)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Số dòng</span>
</span></span><span class=line><span class=cl>journalctl -n <span class=m>50</span>            <span class=c1># Last 50 lines</span>
</span></span><span class=line><span class=cl>journalctl -n <span class=m>50</span> -f         <span class=c1># Last 50 + follow</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=83-filtering-journal><span>8.3 Filtering Journal</span>
<a href=#83-filtering-journal class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># By unit (service)</span>
</span></span><span class=line><span class=cl>journalctl -u nginx
</span></span><span class=line><span class=cl>journalctl -u nginx -u php-fpm    <span class=c1># Multiple units</span>
</span></span><span class=line><span class=cl>journalctl -u nginx --since today
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># By priority</span>
</span></span><span class=line><span class=cl>journalctl -p err                  <span class=c1># Error and above</span>
</span></span><span class=line><span class=cl>journalctl -p warning              <span class=c1># Warning and above</span>
</span></span><span class=line><span class=cl>journalctl -p 0..3                 <span class=c1># emerg(0) to err(3)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Priority levels:</span>
</span></span><span class=line><span class=cl><span class=c1># 0: emerg</span>
</span></span><span class=line><span class=cl><span class=c1># 1: alert</span>
</span></span><span class=line><span class=cl><span class=c1># 2: crit</span>
</span></span><span class=line><span class=cl><span class=c1># 3: err</span>
</span></span><span class=line><span class=cl><span class=c1># 4: warning</span>
</span></span><span class=line><span class=cl><span class=c1># 5: notice</span>
</span></span><span class=line><span class=cl><span class=c1># 6: info</span>
</span></span><span class=line><span class=cl><span class=c1># 7: debug</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># By time</span>
</span></span><span class=line><span class=cl>journalctl --since <span class=s2>&#34;2024-01-01&#34;</span>
</span></span><span class=line><span class=cl>journalctl --since <span class=s2>&#34;2024-01-01 10:00:00&#34;</span>
</span></span><span class=line><span class=cl>journalctl --since <span class=s2>&#34;1 hour ago&#34;</span>
</span></span><span class=line><span class=cl>journalctl --since <span class=s2>&#34;yesterday&#34;</span>
</span></span><span class=line><span class=cl>journalctl --since today
</span></span><span class=line><span class=cl>journalctl --since <span class=s2>&#34;2024-01-01&#34;</span> --until <span class=s2>&#34;2024-01-02&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># By boot</span>
</span></span><span class=line><span class=cl>journalctl -b                      <span class=c1># Current boot</span>
</span></span><span class=line><span class=cl>journalctl -b -1                   <span class=c1># Previous boot</span>
</span></span><span class=line><span class=cl>journalctl -b -2                   <span class=c1># 2 boots ago</span>
</span></span><span class=line><span class=cl>journalctl --list-boots            <span class=c1># List all boots</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># By PID/UID/GID</span>
</span></span><span class=line><span class=cl>journalctl <span class=nv>_PID</span><span class=o>=</span><span class=m>1234</span>
</span></span><span class=line><span class=cl>journalctl <span class=nv>_UID</span><span class=o>=</span><span class=m>1000</span>
</span></span><span class=line><span class=cl>journalctl <span class=nv>_GID</span><span class=o>=</span><span class=m>1000</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># By executable</span>
</span></span><span class=line><span class=cl>journalctl /usr/sbin/nginx
</span></span><span class=line><span class=cl>journalctl <span class=nv>_EXE</span><span class=o>=</span>/usr/sbin/sshd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># By hostname (useful for centralized logging)</span>
</span></span><span class=line><span class=cl>journalctl <span class=nv>_HOSTNAME</span><span class=o>=</span>server1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kernel messages</span>
</span></span><span class=line><span class=cl>journalctl -k                      <span class=c1># Kernel messages only</span>
</span></span><span class=line><span class=cl>journalctl -k -b                   <span class=c1># Kernel messages, current boot</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Combine filters (AND logic)</span>
</span></span><span class=line><span class=cl>journalctl -u nginx -p err --since today
</span></span><span class=line><span class=cl>journalctl <span class=nv>_SYSTEMD_UNIT</span><span class=o>=</span>sshd.service <span class=nv>_PID</span><span class=o>=</span><span class=m>1234</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Grep-like (nếu cần)</span>
</span></span><span class=line><span class=cl>journalctl -u nginx <span class=p>|</span> grep <span class=s2>&#34;error&#34;</span>
</span></span><span class=line><span class=cl>journalctl -u nginx -g <span class=s2>&#34;error|warning&#34;</span>    <span class=c1># GNU grep pattern (systemd 245+)</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=84-journal-maintenance><span>8.4 Journal Maintenance</span>
<a href=#84-journal-maintenance class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Disk usage</span>
</span></span><span class=line><span class=cl>journalctl --disk-usage
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Rotate/vacuum</span>
</span></span><span class=line><span class=cl>journalctl --rotate                <span class=c1># Rotate now</span>
</span></span><span class=line><span class=cl>journalctl --vacuum-time<span class=o>=</span>7d        <span class=c1># Delete older than 7 days</span>
</span></span><span class=line><span class=cl>journalctl --vacuum-size<span class=o>=</span>500M      <span class=c1># Keep only 500MB</span>
</span></span><span class=line><span class=cl>journalctl --vacuum-files<span class=o>=</span><span class=m>5</span>        <span class=c1># Keep only 5 files</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Verify integrity</span>
</span></span><span class=line><span class=cl>journalctl --verify
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Configuration: /etc/systemd/journald.conf</span>
</span></span><span class=line><span class=cl><span class=c1># Storage=persistent           # persistent, volatile, auto</span>
</span></span><span class=line><span class=cl><span class=c1># Compress=yes</span>
</span></span><span class=line><span class=cl><span class=c1># SystemMaxUse=500M            # Max disk usage</span>
</span></span><span class=line><span class=cl><span class=c1># SystemMaxFileSize=50M        # Max per file</span>
</span></span><span class=line><span class=cl><span class=c1># MaxRetentionSec=1month       # Max retention</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sau khi edit config:</span>
</span></span><span class=line><span class=cl>systemctl restart systemd-journald</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=85-traditional-logging><span>8.5 Traditional Logging</span>
<a href=#85-traditional-logging class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Log files location</span>
</span></span><span class=line><span class=cl>/var/log/
</span></span><span class=line><span class=cl>├── syslog                  <span class=c1># General system logs (Debian/Ubuntu)</span>
</span></span><span class=line><span class=cl>├── messages                <span class=c1># General system logs (RHEL/CentOS)</span>
</span></span><span class=line><span class=cl>├── auth.log                <span class=c1># Authentication logs (Debian/Ubuntu)</span>
</span></span><span class=line><span class=cl>├── secure                  <span class=c1># Authentication logs (RHEL/CentOS)</span>
</span></span><span class=line><span class=cl>├── kern.log                <span class=c1># Kernel logs</span>
</span></span><span class=line><span class=cl>├── dmesg                   <span class=c1># Boot messages</span>
</span></span><span class=line><span class=cl>├── boot.log                <span class=c1># Boot process</span>
</span></span><span class=line><span class=cl>├── cron.log                <span class=c1># Cron logs</span>
</span></span><span class=line><span class=cl>├── maillog                 <span class=c1># Mail server logs</span>
</span></span><span class=line><span class=cl>├── nginx/                  <span class=c1># Nginx logs</span>
</span></span><span class=line><span class=cl>│   ├── access.log
</span></span><span class=line><span class=cl>│   └── error.log
</span></span><span class=line><span class=cl>├── mysql/                  <span class=c1># MySQL logs</span>
</span></span><span class=line><span class=cl>├── audit/                  <span class=c1># Audit logs</span>
</span></span><span class=line><span class=cl>│   └── audit.log
</span></span><span class=line><span class=cl>└── ...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xem logs</span>
</span></span><span class=line><span class=cl>tail -f /var/log/syslog
</span></span><span class=line><span class=cl>tail -f /var/log/nginx/access.log
</span></span><span class=line><span class=cl>tail -100 /var/log/auth.log
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Multiple files</span>
</span></span><span class=line><span class=cl>tail -f /var/log/nginx/*.log
</span></span><span class=line><span class=cl>multitail /var/log/syslog /var/log/auth.log    <span class=c1># Nếu có multitail</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Search trong logs</span>
</span></span><span class=line><span class=cl>grep <span class=s2>&#34;error&#34;</span> /var/log/syslog
</span></span><span class=line><span class=cl>grep -i <span class=s2>&#34;failed&#34;</span> /var/log/auth.log
</span></span><span class=line><span class=cl>zgrep <span class=s2>&#34;error&#34;</span> /var/log/syslog.*.gz    <span class=c1># Search trong compressed logs</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=86-logger---write-to-syslog><span>8.6 logger - Write to Syslog</span>
<a href=#86-logger---write-to-syslog class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># logger = ghi log từ command line</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>logger <span class=s2>&#34;Test message&#34;</span>
</span></span><span class=line><span class=cl>logger -p user.err <span class=s2>&#34;Error message&#34;</span>
</span></span><span class=line><span class=cl>logger -t myapp <span class=s2>&#34;Application message&#34;</span>
</span></span><span class=line><span class=cl>logger -p local0.info -t myapp <span class=s2>&#34;Info from myapp&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Priority format: facility.level</span>
</span></span><span class=line><span class=cl><span class=c1># Facilities: auth, authpriv, cron, daemon, kern, local0-7, mail, news, syslog, user, uucp</span>
</span></span><span class=line><span class=cl><span class=c1># Levels: emerg, alert, crit, err, warning, notice, info, debug</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Useful in scripts</span>
</span></span><span class=line><span class=cl><span class=c1>#!/bin/bash</span>
</span></span><span class=line><span class=cl>logger -t backup <span class=s2>&#34;Backup started&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> rsync -av /data /backup<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    logger -t backup <span class=s2>&#34;Backup completed successfully&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    logger -p user.err -t backup <span class=s2>&#34;Backup failed!&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xem trong journal</span>
</span></span><span class=line><span class=cl>journalctl -t backup
</span></span><span class=line><span class=cl>journalctl <span class=nv>SYSLOG_IDENTIFIER</span><span class=o>=</span>backup</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=87-logrotate---log-rotation><span>8.7 logrotate - Log Rotation</span>
<a href=#87-logrotate---log-rotation class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># logrotate = Rotate, compress, delete old logs</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Config: /etc/logrotate.conf và /etc/logrotate.d/*</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ví dụ: /etc/logrotate.d/nginx</span>
</span></span><span class=line><span class=cl>/var/log/nginx/*.log <span class=o>{</span>
</span></span><span class=line><span class=cl>    daily                   <span class=c1># Rotate daily (weekly, monthly, yearly)</span>
</span></span><span class=line><span class=cl>    missingok               <span class=c1># OK nếu log không tồn tại</span>
</span></span><span class=line><span class=cl>    rotate <span class=m>14</span>               <span class=c1># Giữ 14 files</span>
</span></span><span class=line><span class=cl>    compress                <span class=c1># Gzip old logs</span>
</span></span><span class=line><span class=cl>    delaycompress           <span class=c1># Compress từ file thứ 2</span>
</span></span><span class=line><span class=cl>    notifempty              <span class=c1># Không rotate nếu empty</span>
</span></span><span class=line><span class=cl>    create <span class=m>0640</span> www-data adm    <span class=c1># Permission cho file mới</span>
</span></span><span class=line><span class=cl>    sharedscripts           <span class=c1># Chạy scripts 1 lần cho tất cả logs</span>
</span></span><span class=line><span class=cl>    postrotate              <span class=c1># Script sau khi rotate</span>
</span></span><span class=line><span class=cl>        <span class=o>[</span> -f /var/run/nginx.pid <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=nb>kill</span> -USR1 <span class=k>$(</span>cat /var/run/nginx.pid<span class=k>)</span>
</span></span><span class=line><span class=cl>    endscript
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Force rotate ngay</span>
</span></span><span class=line><span class=cl>logrotate -f /etc/logrotate.d/nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Debug (dry run)</span>
</span></span><span class=line><span class=cl>logrotate -d /etc/logrotate.d/nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Manual run</span>
</span></span><span class=line><span class=cl>logrotate /etc/logrotate.conf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Status file</span>
</span></span><span class=line><span class=cl>cat /var/lib/logrotate/status</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=88-last-lastb-lastlog---login-history><span>8.8 last, lastb, lastlog - Login History</span>
<a href=#88-last-lastb-lastlog---login-history class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># last - Login history</span>
</span></span><span class=line><span class=cl>last                        <span class=c1># All logins</span>
</span></span><span class=line><span class=cl>last -n <span class=m>20</span>                  <span class=c1># Last 20 logins</span>
</span></span><span class=line><span class=cl>last -a                     <span class=c1># Hostname last column</span>
</span></span><span class=line><span class=cl>last -x                     <span class=c1># Include shutdown/runlevel</span>
</span></span><span class=line><span class=cl>last -F                     <span class=c1># Full timestamps</span>
</span></span><span class=line><span class=cl>last root                   <span class=c1># Only root logins</span>
</span></span><span class=line><span class=cl>last -t <span class=m>20240101120000</span>      <span class=c1># Before this time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># lastb - Bad login attempts (failed logins)</span>
</span></span><span class=line><span class=cl>lastb                       <span class=c1># Cần root</span>
</span></span><span class=line><span class=cl>lastb -n <span class=m>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># lastlog - Last login của mỗi user</span>
</span></span><span class=line><span class=cl>lastlog
</span></span><span class=line><span class=cl>lastlog -u nginx            <span class=c1># Specific user</span>
</span></span><span class=line><span class=cl>lastlog -t <span class=m>7</span>                <span class=c1># Only users who logged in within 7 days</span></span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=phần-9-system-information><span>PHẦN 9: SYSTEM INFORMATION</span>
<a href=#ph%e1%ba%a7n-9-system-information class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=91-uname---kernel-info><span>9.1 uname - Kernel Info</span>
<a href=#91-uname---kernel-info class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>uname -a                    <span class=c1># All info</span>
</span></span><span class=line><span class=cl>uname -s                    <span class=c1># Kernel name (Linux)</span>
</span></span><span class=line><span class=cl>uname -r                    <span class=c1># Kernel release (5.4.0-42-generic)</span>
</span></span><span class=line><span class=cl>uname -v                    <span class=c1># Kernel version</span>
</span></span><span class=line><span class=cl>uname -m                    <span class=c1># Machine hardware (x86_64)</span>
</span></span><span class=line><span class=cl>uname -p                    <span class=c1># Processor</span>
</span></span><span class=line><span class=cl>uname -o                    <span class=c1># Operating system</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ví dụ output:</span>
</span></span><span class=line><span class=cl><span class=c1># Linux server1 5.4.0-42-generic #46-Ubuntu SMP Fri Jul 10 00:24:02 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=92-hostnamectl-timedatectl-localectl><span>9.2 hostnamectl, timedatectl, localectl</span>
<a href=#92-hostnamectl-timedatectl-localectl class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># hostnamectl - Hostname management (systemd)</span>
</span></span><span class=line><span class=cl>hostnamectl
</span></span><span class=line><span class=cl>hostnamectl set-hostname newname
</span></span><span class=line><span class=cl>hostnamectl set-hostname newname --static
</span></span><span class=line><span class=cl>hostnamectl set-hostname <span class=s2>&#34;Pretty Name&#34;</span> --pretty
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># timedatectl - Time/timezone management</span>
</span></span><span class=line><span class=cl>timedatectl
</span></span><span class=line><span class=cl>timedatectl list-timezones
</span></span><span class=line><span class=cl>timedatectl set-timezone Asia/Ho_Chi_Minh
</span></span><span class=line><span class=cl>timedatectl set-time <span class=s2>&#34;2024-01-01 10:00:00&#34;</span>
</span></span><span class=line><span class=cl>timedatectl set-ntp <span class=nb>true</span>                    <span class=c1># Enable NTP sync</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># localectl - Locale management</span>
</span></span><span class=line><span class=cl>localectl
</span></span><span class=line><span class=cl>localectl list-locales
</span></span><span class=line><span class=cl>localectl set-locale <span class=nv>LANG</span><span class=o>=</span>en_US.UTF-8
</span></span><span class=line><span class=cl>localectl set-keymap us</span></span></code></pre></td></tr></table></div></div><hr><h2 class=heading-element id=tóm-tắt-nhanh><span>TÓM TẮT NHANH</span>
<a href=#t%c3%b3m-t%e1%ba%aft-nhanh class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=process-viewing><span>Process Viewing</span>
<a href=#process-viewing class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ps aux                      <span class=c1># List all processes</span>
</span></span><span class=line><span class=cl>ps -ef --forest             <span class=c1># Tree view</span>
</span></span><span class=line><span class=cl>top / htop                  <span class=c1># Real-time monitoring</span>
</span></span><span class=line><span class=cl>pstree -p                   <span class=c1># Process tree with PIDs</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=process-control><span>Process Control</span>
<a href=#process-control class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>kill</span> -TERM PID              <span class=c1># Graceful terminate</span>
</span></span><span class=line><span class=cl><span class=nb>kill</span> -9 PID                 <span class=c1># Force kill</span>
</span></span><span class=line><span class=cl>pkill -f <span class=s2>&#34;pattern&#34;</span>          <span class=c1># Kill by pattern</span>
</span></span><span class=line><span class=cl>killall process_name        <span class=c1># Kill by exact name</span>
</span></span><span class=line><span class=cl>pgrep -a process_name       <span class=c1># Find PIDs</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=job-control><span>Job Control</span>
<a href=#job-control class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>command</span> <span class=p>&amp;</span>                   <span class=c1># Run in background</span>
</span></span><span class=line><span class=cl><span class=nb>jobs</span> -l                     <span class=c1># List jobs</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span> %1                       <span class=c1># Bring to foreground</span>
</span></span><span class=line><span class=cl><span class=nb>bg</span> %1                       <span class=c1># Resume in background</span>
</span></span><span class=line><span class=cl>nohup <span class=nb>command</span> <span class=p>&amp;</span>             <span class=c1># Immune to SIGHUP</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=scheduling><span>Scheduling</span>
<a href=#scheduling class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>crontab -e                  <span class=c1># Edit crontab</span>
</span></span><span class=line><span class=cl>crontab -l                  <span class=c1># List crontab</span>
</span></span><span class=line><span class=cl>at now + <span class=m>1</span> hour             <span class=c1># Schedule one-time job</span>
</span></span><span class=line><span class=cl>atq                         <span class=c1># List scheduled jobs</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=systemd><span>Systemd</span>
<a href=#systemd class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl start/stop/restart/status service
</span></span><span class=line><span class=cl>systemctl enable/disable service
</span></span><span class=line><span class=cl>systemctl list-units --type<span class=o>=</span>service
</span></span><span class=line><span class=cl>systemctl daemon-reload     <span class=c1># After editing unit files</span>
</span></span><span class=line><span class=cl>journalctl -u service -f    <span class=c1># Follow logs</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=memorysystem><span>Memory/System</span>
<a href=#memorysystem class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>free -h                     <span class=c1># Memory usage</span>
</span></span><span class=line><span class=cl>vmstat <span class=m>1</span>                    <span class=c1># VM statistics</span>
</span></span><span class=line><span class=cl>sar -u <span class=m>1</span> <span class=m>5</span>                  <span class=c1># CPU stats</span>
</span></span><span class=line><span class=cl>uptime                      <span class=c1># Load average</span>
</span></span><span class=line><span class=cl>dmesg -T                    <span class=c1># Kernel messages</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=logging><span>Logging</span>
<a href=#logging class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>journalctl -u nginx -f      <span class=c1># Follow service logs</span>
</span></span><span class=line><span class=cl>journalctl -p err --since today
</span></span><span class=line><span class=cl>journalctl -b               <span class=c1># Current boot</span>
</span></span><span class=line><span class=cl>tail -f /var/log/syslog     <span class=c1># Traditional logs</span>
</span></span><span class=line><span class=cl>logger -t myapp <span class=s2>&#34;message&#34;</span>   <span class=c1># Write to syslog</span>
</span></span><span class=line><span class=cl>last / lastb                <span class=c1># Login history</span></span></span></code></pre></td></tr></table></div></div></div><hr class=awesome-hr><h2 id=see-also>Nội dung liên quan</h2><ul><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ title="Linux Network Commands - Hướng Dẫn Chuyên Sâu">Linux Network Commands - Hướng Dẫn Chuyên Sâu</a></li><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/grep-diff-sort/ title="Grep, Sort, Diff - Hướng Dẫn Chuyên Sâu">Grep, Sort, Diff - Hướng Dẫn Chuyên Sâu</a></li><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/shell-co-ban/ title="Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux">Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux</a></li></ul><div class=collection-card><div class="collection-title text-secondary">Trong <a href=/collections/linux-cli/><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i> <span>Bộ sưu tập・Linux Cli</span></span></a> 11</div><div class=collection-nav><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ class=collection-nav-item rel=prev title="Linux Network Commands - Hướng Dẫn Chuyên Sâu"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i><span>Linux Network Commands - Hướng Dẫn Chuyên Sâu</span>
</a><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ class=collection-nav-item rel=next title="Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer"><span>Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer</span><i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Cập nhật ngày 2025-12-11 05:02:01">Cập nhật ngày 2025-12-11&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Chia sẻ trên X" data-sharer=twitter data-url=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/ data-title="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu" data-hashtags="ai generated post"><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Chia sẻ trên Facebook" data-sharer=facebook data-url=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/ data-hashtag="ai generated post"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Chia sẻ trên 微博" data-sharer=weibo data-url=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/ data-title="Process Management, Systemd & Logging - Hướng Dẫn Chuyên Sâu"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/ai-generated-post/ class=post-tag title="Nhãn - Ai Generated Post">Ai Generated Post</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Quay lại</a></span>&nbsp;|&nbsp;<span><a href=/>Trang chủ</a></span></section></div><div class=post-nav><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ class=post-nav-item rel=prev title="Linux Network Commands - Hướng Dẫn Chuyên Sâu"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Linux Network Commands - Hướng Dẫn Chuyên Sâu</a><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ class=post-nav-item rel=next title="Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer">Awk, Sed & Regex - Hướng Dẫn Chuyên Sâu Cho System Engineer<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article><aside class=toc id=toc-auto aria-label="Nội dung"><h2 class=toc-title>Nội dung&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><dialog id=toc-dialog aria-labelledby=toc-dialog-title role=dialog><div class=toc><h2 class=toc-title>Nội dung</h2><div class=toc-content id=toc-content-drawer><nav><ul><li><ul><li><a href=#phần-1-process-fundamentals>PHẦN 1: PROCESS FUNDAMENTALS</a><ul><li><a href=#11-process-là-gì>1.1 Process Là Gì?</a></li><li><a href=#12-process-states>1.2 Process States</a></li><li><a href=#13-process-tree--relationships>1.3 Process Tree & Relationships</a></li><li><a href=#14-proc-filesystem---process-information-source>1.4 /proc Filesystem - Process Information Source</a></li></ul></li><li><a href=#phần-2-ps---process-status>PHẦN 2: PS - PROCESS STATUS</a><ul><li><a href=#21-hai-style-syntax>2.1 Hai Style Syntax</a></li><li><a href=#22-các-lệnh-hay-dùng>2.2 Các Lệnh Hay Dùng</a></li><li><a href=#23-real-time-top-và-htop>2.3 Real-time: top và htop</a></li></ul></li><li><a href=#phần-3-signals--process-control>PHẦN 3: SIGNALS & PROCESS CONTROL</a><ul><li><a href=#31-signal-là-gì>3.1 Signal Là Gì?</a></li><li><a href=#32-common-signals>3.2 Common Signals</a></li><li><a href=#33-kill-pkill-killall>3.3 kill, pkill, killall</a></li><li><a href=#34-graceful-shutdown-pattern>3.4 Graceful Shutdown Pattern</a></li><li><a href=#35-job-control-bg-fg-jobs-nohup>3.5 Job Control (bg, fg, jobs, nohup)</a></li></ul></li><li><a href=#phần-4-process-scheduling--priority>PHẦN 4: PROCESS SCHEDULING & PRIORITY</a><ul><li><a href=#41-linux-cfs-scheduler>4.1 Linux CFS Scheduler</a></li><li><a href=#42-nice-value-vs-priority>4.2 Nice Value vs Priority</a></li><li><a href=#43-nice-và-renice>4.3 nice và renice</a></li></ul></li><li><a href=#phần-5-systemd---init-system>PHẦN 5: SYSTEMD - INIT SYSTEM</a><ul><li><a href=#51-systemd-architecture>5.1 Systemd Architecture</a></li><li><a href=#52-dependency-graph>5.2 Dependency Graph</a></li><li><a href=#53-systemctl---service-management>5.3 systemctl - Service Management</a></li><li><a href=#54-service-unit-file>5.4 Service Unit File</a></li><li><a href=#55-service-sysvinit-compatibility>5.5 service (SysVinit compatibility)</a></li></ul></li><li><a href=#phần-6-scheduling---crontab--at>PHẦN 6: SCHEDULING - CRONTAB & AT</a><ul><li><a href=#61-cron-architecture>6.1 Cron Architecture</a></li><li><a href=#62-crontab-syntax>6.2 Crontab Syntax</a></li><li><a href=#63-crontab-management>6.3 Crontab Management</a></li><li><a href=#64-at---one-time-scheduling>6.4 at - One-time Scheduling</a></li><li><a href=#65-systemd-timers-modern-alternative-to-cron>6.5 Systemd Timers (Modern Alternative to Cron)</a></li></ul></li><li><a href=#phần-7-memory--system-monitoring>PHẦN 7: MEMORY & SYSTEM MONITORING</a><ul><li><a href=#71-virtual-memory-concepts>7.1 Virtual Memory Concepts</a></li><li><a href=#72-free---memory-usage>7.2 free - Memory Usage</a></li><li><a href=#73-vmstat---virtual-memory-statistics>7.3 vmstat - Virtual Memory Statistics</a></li><li><a href=#74-sar---system-activity-reporter>7.4 sar - System Activity Reporter</a></li><li><a href=#75-dmesg---kernel-ring-buffer>7.5 dmesg - Kernel Ring Buffer</a></li><li><a href=#76-uptime--w>7.6 uptime & w</a></li></ul></li><li><a href=#phần-8-logging---journalctl--friends>PHẦN 8: LOGGING - JOURNALCTL & FRIENDS</a><ul><li><a href=#81-systemd-journal-architecture>8.1 Systemd Journal Architecture</a></li><li><a href=#82-journalctl---query-journal>8.2 journalctl - Query Journal</a></li><li><a href=#83-filtering-journal>8.3 Filtering Journal</a></li><li><a href=#84-journal-maintenance>8.4 Journal Maintenance</a></li><li><a href=#85-traditional-logging>8.5 Traditional Logging</a></li><li><a href=#86-logger---write-to-syslog>8.6 logger - Write to Syslog</a></li><li><a href=#87-logrotate---log-rotation>8.7 logrotate - Log Rotation</a></li><li><a href=#88-last-lastb-lastlog---login-history>8.8 last, lastb, lastlog - Login History</a></li></ul></li><li><a href=#phần-9-system-information>PHẦN 9: SYSTEM INFORMATION</a><ul><li><a href=#91-uname---kernel-info>9.1 uname - Kernel Info</a></li><li><a href=#92-hostnamectl-timedatectl-localectl>9.2 hostnamectl, timedatectl, localectl</a></li></ul></li><li><a href=#tóm-tắt-nhanh>TÓM TẮT NHANH</a><ul><li><a href=#process-viewing>Process Viewing</a></li><li><a href=#process-control>Process Control</a></li><li><a href=#job-control>Job Control</a></li><li><a href=#scheduling>Scheduling</a></li><li><a href=#systemd>Systemd</a></li><li><a href=#memorysystem>Memory/System</a></li><li><a href=#logging>Logging</a></li></ul></li></ul></li></ul></nav></div></div></dialog></main><footer class=footer><div class=footer-container><div class="footer-line powered">Cung cấp bởi <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.152.0"><img class=hugo-icon src=/images/hugo.min.svg alt="Hugo logo"> Hugo</a> | Chủ đề - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.4.0-alpha.2"><img class=fixit-icon src=/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2025</span></div></div></footer></div><div class=widgets><div class=fixed-buttons><div class="fixed-button back-to-top animate__faster" role=button aria-label="Lên trên"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><svg viewBox="0 0 100 100"><circle class="bg" cx="50" cy="50" r="50"/><circle class="progress" cx="50" cy="50" r="50"/></svg></div><div id=toc-drawer-button class="fixed-button toc-drawer-button" role=button aria-label="Nội dung"><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></div></div><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#000;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>Trang web này hoạt động tốt nhất khi JavaScript được kích hoạt.</div></noscript></div><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-minimal.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/instant-page/instantpage.min.js async defer type=module></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/lib/pace/pace.min.js async defer></script><script src=/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/config/page.js defer></script><script src=/js/theme.min.js defer></script></body></html>