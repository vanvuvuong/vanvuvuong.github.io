<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=vi><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Những Câu Lệnh Quản Lý Gói Và Phần Mềm - Kaizen - tốt hơn mỗi ngày</title><meta name=author content="Kaizen Teams"><meta name=description content="Quản lý gói và phần mềm trong Linux"><meta name=keywords content='linux package management,linux software,quản lý gói,quản lý phần mềm'><meta itemprop=name content="Những Câu Lệnh Quản Lý Gói Và Phần Mềm"><meta itemprop=description content="Quản lý gói và phần mềm trong Linux"><meta itemprop=datePublished content="2025-12-11T06:17:23+07:00"><meta itemprop=dateModified content="2026-01-12T11:04:48+07:00"><meta itemprop=wordCount content="8429"><meta itemprop=keywords content="linux package management,linux software,quản lý gói,quản lý phần mềm"><meta property="og:url" content="https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/package-manager/"><meta property="og:site_name" content="Kaizen - tốt hơn mỗi ngày"><meta property="og:title" content="Những Câu Lệnh Quản Lý Gói Và Phần Mềm"><meta property="og:description" content="Quản lý gói và phần mềm trong Linux"><meta property="og:locale" content="vi"><meta property="og:type" content="article"><meta property="article:section" content="bai-viet"><meta property="article:published_time" content="2025-12-11T06:17:23+07:00"><meta property="article:modified_time" content="2026-01-12T11:04:48+07:00"><meta property="article:tag" content="Ai Generated Post"><meta name=twitter:card content="summary"><meta name=twitter:title content="Những Câu Lệnh Quản Lý Gói Và Phần Mềm"><meta name=twitter:description content="Quản lý gói và phần mềm trong Linux"><meta name=application-name content="Kaizen - tốt hơn mỗi ngày"><meta name=apple-mobile-web-app-title content="Kaizen - tốt hơn mỗi ngày"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#2d89ef"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#FF7359><link rel=manifest href=/site.webmanifest><link rel=canonical type=text/html href=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/package-manager/ title="Những Câu Lệnh Quản Lý Gói Và Phần Mềm - Kaizen - tốt hơn mỗi ngày"><link rel=prev type=text/html href=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/user-group/ title="Những Câu Lệnh Quản Lý Người Dùng"><link rel=next type=text/html href=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ title="Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux"><link rel=stylesheet href=/css/config.min.css><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Những Câu Lệnh Quản Lý Gói Và Phần Mềm","inLanguage":"vi","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/vanvuvuong.github.io\/bai-viet\/khoa-hoc-may-tinh\/linux-cli\/package-manager\/"},"image":[{"@type":"ImageObject","url":"https:\/\/vanvuvuong.github.io\/images\/avatar.jpeg","width":330,"height":330}],"genre":"posts","keywords":"ai generated post","wordcount":8429,"url":"https:\/\/vanvuvuong.github.io\/bai-viet\/khoa-hoc-may-tinh\/linux-cli\/package-manager\/","datePublished":"2025-12-11T06:17:23+07:00","dateModified":"2026-01-12T11:04:48+07:00","publisher":{"@type":"Organization","name":"Kaizen","logo":{"@type":"ImageObject","url":"https:\/\/vanvuvuong.github.io\/images\/avatar.jpeg","width":330,"height":330}},"author":{"@type":"Person","name":"Kaizen Teams"},"description":"Quản lý gói và phần mềm trong Linux"}</script><script src=/js/head/color-scheme.min.js></script></head><body data-instant-intensity=viewport data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Kaizen - tốt hơn mỗi ngày"><img class=logo src=/images/kaizen-logo.png alt="Kaizen - tốt hơn mỗi ngày" height=32 width=32><span class=header-title-text>Kaizen</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/gioi-thieu><i class="fa-solid fa-comments fa-fw fa-sm" aria-hidden=true></i> Giới thiệu</a></li><li class="menu-item has-children"><a class=menu-link href=/bai-viet><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Bài viết</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/bai-viet/khoa-hoc-may-tinh><i class="fa-solid fa-laptop fa-fw fa-sm" aria-hidden=true></i> Khoa học máy tính</a></li><li class=menu-item><a class=menu-link href=/bai-viet/cuoc-song><i class="fa-solid fa-life-ring fa-fw fa-sm" aria-hidden=true></i> Cuộc sống</a></li><li class=menu-item><a class=menu-link href=/bai-viet/hoc-vien-luat-tu-nhien><i class="fa-solid fa-dragon fa-fw fa-sm" aria-hidden=true></i> Học viện luật tự nhiên</a></li><li class=menu-item><a class=menu-link href=/collections><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden=true></i> Bộ sưu tập</a></li><li class=menu-item><a class=menu-link href=/tags><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=/sach-hay><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Sách hay</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Tìm tiêu đề hoặc nội dung..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title="Tìm kiếm"><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Xoá><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Đổi chủ đề"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Kaizen - tốt hơn mỗi ngày"><img class=logo src=/images/kaizen-logo.png alt="Kaizen - tốt hơn mỗi ngày" height=26 width=26><span class=header-title-text>Kaizen</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Tìm tiêu đề hoặc nội dung..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title="Tìm kiếm"><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Xoá><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Huỷ</a></li><li class=menu-item><a class=menu-link href=/gioi-thieu><i class="fa-solid fa-comments fa-fw fa-sm" aria-hidden=true></i> Giới thiệu</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/bai-viet><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Bài viết</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/bai-viet/khoa-hoc-may-tinh><i class="fa-solid fa-laptop fa-fw fa-sm" aria-hidden=true></i> Khoa học máy tính</a></li><li class=menu-item><a class=menu-link href=/bai-viet/cuoc-song><i class="fa-solid fa-life-ring fa-fw fa-sm" aria-hidden=true></i> Cuộc sống</a></li><li class=menu-item><a class=menu-link href=/bai-viet/hoc-vien-luat-tu-nhien><i class="fa-solid fa-dragon fa-fw fa-sm" aria-hidden=true></i> Học viện luật tự nhiên</a></li><li class=menu-item><a class=menu-link href=/collections><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden=true></i> Bộ sưu tập</a></li><li class=menu-item><a class=menu-link href=/tags><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=/sach-hay><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Sách hay</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Đổi chủ đề"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=fi-container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="Bộ sưu tập"><div class="details collection-details open"><div class="details-summary collection-summary"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i>
<span class=collection-name title="Bộ sưu tập">Linux Cli</span>
<span class=collection-count>12</span><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class="details-content collection-content"><nav><ul class=collection-list><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/shell-co-ban/ title="Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux">Những Điều Cơ Bản Về Bash & Fish Shell Trong Linux</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/grep-diff-sort/ title="Những Câu Lệnh Tìm Và Lọc Nội Dung Của Tệp">Những Câu Lệnh Tìm Và Lọc Nội Dung Của Tệp</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/network/ title="Những Câu Lệnh Quản Trị Mạng">Những Câu Lệnh Quản Trị Mạng</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/ title="Những Câu Lệnh Quản Lý Tiến Trình, Dịch Vụ Và Nhật Ký">Những Câu Lệnh Quản Lý Tiến Trình, Dịch Vụ Và Nhật Ký</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ title="Những Câu Lệnh Quản Lý Đầu Vào/Ra Tiêu Chuẩn (Stdin/Stdout) Trong Linux">Những Câu Lệnh Quản Lý Đầu Vào/Ra Tiêu Chuẩn (Stdin/Stdout) Trong Linux</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/storage/ title="Những Câu Lệnh Về Hệ Thống Tệp, Ổ Đĩa Và Lưu Trữ">Những Câu Lệnh Về Hệ Thống Tệp, Ổ Đĩa Và Lưu Trữ</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/user-group/ title="Những Câu Lệnh Quản Lý Người Dùng">Những Câu Lệnh Quản Lý Người Dùng</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ title="Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux">Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux</a></li><li class=collection-item><span class=active title="Những Câu Lệnh Quản Lý Gói Và Phần Mềm">Những Câu Lệnh Quản Lý Gói Và Phần Mềm</span></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/selinux/ title="Kiểm Soát Truy Cập Bắt Buộc - SElinux & Apparmor">Kiểm Soát Truy Cập Bắt Buộc - SElinux & Apparmor</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/file-and-folder/ title="Những Câu Lệnh Liên Quan Đến Tệp Và Thư Mục">Những Câu Lệnh Liên Quan Đến Tệp Và Thư Mục</a></li><li class=collection-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/systemd/ title="Hướng Dẫn Toàn Diện Về SystemD">Hướng Dẫn Toàn Diện Về SystemD</a></li></ul><div class=collection-nav-simple><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ class=collection-nav-item rel=prev title="Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i></a><span class=text-secondary>9/12</span><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/selinux/ class=collection-nav-item rel=next title="Kiểm Soát Truy Cập Bắt Buộc - SElinux & Apparmor"><i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></nav></div></div><div class="details related-details open"><div class="details-summary related-summary"><i class="fa-solid fa-fire fa-fade text-danger fa-fw" aria-hidden=true></i>
<span class=related-title>Nội dung liên quan</span><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class="details-content related-content"><ul class=related-list><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ title="Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux">Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux</a></li><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/user-group/ title="Những Câu Lệnh Quản Lý Người Dùng">Những Câu Lệnh Quản Lý Người Dùng</a></li><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/storage/ title="Những Câu Lệnh Về Hệ Thống Tệp, Ổ Đĩa Và Lưu Trữ">Những Câu Lệnh Về Hệ Thống Tệp, Ổ Đĩa Và Lưu Trữ</a></li><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ title="Những Câu Lệnh Quản Lý Đầu Vào/Ra Tiêu Chuẩn (Stdin/Stdout) Trong Linux">Những Câu Lệnh Quản Lý Đầu Vào/Ra Tiêu Chuẩn (Stdin/Stdout) Trong Linux</a></li><li class=related-item><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/ title="Những Câu Lệnh Quản Lý Tiến Trình, Dịch Vụ Và Nhật Ký">Những Câu Lệnh Quản Lý Tiến Trình, Dịch Vụ Và Nhật Ký</a></li></ul></div></div></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Những Câu Lệnh Quản Lý Gói Và Phần Mềm</span></h1><p class="single-subtitle animate__animated animate__fadeIn">Linux Package Management</p></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://vanvuvuong.github.io title="Tác giả" target=_blank rel="external nofollow noopener noreferrer author" class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
Kaizen Teams</a></span><span class=post-included-in>&nbsp;trong <a href=/collections/linux-cli/ class=post-collection title="Bộ sưu tập - Linux Cli"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i> Linux Cli</a></span></div><div class=post-meta-line><span title="đăng ngày 2025-12-11 06:17:23"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2025-12-11>2025-12-11</time></span>&nbsp;<span title="Cập nhật ngày 2026-01-12 11:04:48"><i class="fa-regular fa-calendar-check fa-fw me-1" aria-hidden=true></i><time datetime=2026-01-12>2026-01-12</time></span>&nbsp;<span title="8429 từ"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>Khoảng 8500 từ</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>40 phút</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Nội dung</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#phần-1-nền-tảng-package-management>PHẦN 1: NỀN TẢNG PACKAGE MANAGEMENT</a><ul><li><a href=#11-kiến-trúc-package-manager>1.1 Kiến Trúc Package Manager</a></li><li><a href=#12-định-dạng-gói>1.2 Định Dạng Gói</a></li><li><a href=#13-giải-quyết-phụ-thuộc>1.3 Giải Quyết Phụ Thuộc</a></li><li><a href=#14-cấu-trúc-repository>1.4 Cấu Trúc Repository</a></li></ul></li><li><a href=#phần-2-debianubuntu---apt--dpkg>PHẦN 2: DEBIAN/UBUNTU - APT & DPKG</a><ul><li><a href=#21-dpkg---công-cụ-cấp-thấp>2.1 dpkg - Công Cụ Cấp Thấp</a></li><li><a href=#22-apt-vs-apt-get-vs-apt-cache>2.2 apt vs apt-get vs apt-cache</a></li><li><a href=#23-apt---các-thao-tác-phổ-biến>2.3 apt - Các Thao Tác Phổ Biến</a></li><li><a href=#24-cấu-hình-repository>2.4 Cấu Hình Repository</a></li><li><a href=#25-cấu-hình-apt--proxy>2.5 Cấu Hình APT & Proxy</a></li></ul></li><li><a href=#phần-3-rhelfedora---dnf--rpm>PHẦN 3: RHEL/FEDORA - DNF & RPM</a><ul><li><a href=#31-rpm---công-cụ-cấp-thấp>3.1 rpm - Công Cụ Cấp Thấp</a></li><li><a href=#32-dnf-dandified-yum>3.2 DNF (Dandified YUM)</a></li><li><a href=#33-cấu-hình-repository-dnf>3.3 Cấu Hình Repository DNF</a></li><li><a href=#34-cấu-hình-dnf>3.4 Cấu Hình DNF</a></li><li><a href=#35-yum-legacy>3.5 YUM (Legacy)</a></li></ul></li><li><a href=#phần-4-arch-linux---pacman>PHẦN 4: ARCH LINUX - PACMAN</a><ul><li><a href=#41-cơ-bản-pacman>4.1 Cơ Bản Pacman</a></li><li><a href=#42-cấu-hình-pacman>4.2 Cấu Hình Pacman</a></li><li><a href=#43-aur-arch-user-repository>4.3 AUR (Arch User Repository)</a></li></ul></li><li><a href=#phần-5-opensuse---zypper>PHẦN 5: OPENSUSE - ZYPPER</a><ul><li><a href=#51-cơ-bản-zypper>5.1 Cơ Bản Zypper</a></li><li><a href=#52-quản-lý-repository-zypper>5.2 Quản Lý Repository Zypper</a></li></ul></li><li><a href=#phần-6-alpine---apk>PHẦN 6: ALPINE - APK</a><ul><li><a href=#61-cơ-bản-apk>6.1 Cơ Bản APK</a></li><li><a href=#62-cấu-hình-repository-apk>6.2 Cấu Hình Repository APK</a></li><li><a href=#63-apk-trong-docker>6.3 APK trong Docker</a></li></ul></li><li><a href=#phần-7-hệ-thống-immutable---rpm-ostree>PHẦN 7: HỆ THỐNG IMMUTABLE - RPM-OSTREE</a><ul><li><a href=#71-khái-niệm-os-immutable>7.1 Khái Niệm OS Immutable</a></li><li><a href=#72-các-lệnh-rpm-ostree>7.2 Các Lệnh rpm-ostree</a></li><li><a href=#73-flatpak-cho-ứng-dụng>7.3 Flatpak cho Ứng Dụng</a></li></ul></li><li><a href=#phần-8-gói-universal>PHẦN 8: GÓI UNIVERSAL</a><ul><li><a href=#81-so-sánh-định-dạng-gói>8.1 So Sánh Định Dạng Gói</a></li><li><a href=#82-flatpak>8.2 Flatpak</a></li><li><a href=#83-snap>8.3 Snap</a></li><li><a href=#84-appimage>8.4 AppImage</a></li></ul></li><li><a href=#phần-9-từ-mã-nguồn--thủ-công>PHẦN 9: TỪ MÃ NGUỒN & THỦ CÔNG</a><ul><li><a href=#91-build-từ-mã-nguồn>9.1 Build Từ Mã Nguồn</a></li><li><a href=#92-checkinstall---theo-dõi-cài-đặt-thủ-công>9.2 checkinstall - Theo Dõi Cài Đặt Thủ Công</a></li><li><a href=#93-quản-lý-usrlocal>9.3 Quản Lý /usr/local</a></li></ul></li><li><a href=#phần-10-best-practices--khắc-phục-sự-cố>PHẦN 10: BEST PRACTICES & KHẮC PHỤC SỰ CỐ</a><ul><li><a href=#101-best-practices-bảo-mật>10.1 Best Practices Bảo Mật</a></li><li><a href=#102-vấn-đề-thường-gặp--giải-pháp>10.2 Vấn Đề Thường Gặp & Giải Pháp</a></li><li><a href=#103-cấu-hình-mirror>10.3 Cấu Hình Mirror</a></li></ul></li><li><a href=#tóm-tắt-nhanh>TÓM TẮT NHANH</a><ul><li><a href=#bảng-cheatsheet-đa-distro>Bảng Cheatsheet Đa Distro</a></li><li><a href=#công-cụ-cấp-thấp>Công Cụ Cấp Thấp</a></li><li><a href=#gói-universal>Gói Universal</a></li><li><a href=#alpine-apk>Alpine APK</a></li><li><a href=#rpm-ostree-immutable>rpm-ostree (Immutable)</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h2 class=heading-element id=phần-1-nền-tảng-package-management><span>PHẦN 1: NỀN TẢNG PACKAGE MANAGEMENT</span>
<a href=#ph%e1%ba%a7n-1-n%e1%bb%81n-t%e1%ba%a3ng-package-management class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=11-kiến-trúc-package-manager><span>1.1 Kiến Trúc Package Manager</span>
<a href=#11-ki%e1%ba%bfn-tr%c3%bac-package-manager class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=n>CÁC</span> <span class=n>TẦNG</span> <span class=n>QUẢN</span> <span class=n>LÝ</span> <span class=n>GÓI</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>NGƯỜI</span> <span class=n>DÙNG</span> <span class=o>/</span> <span class=n>ADMIN</span>                       <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>                          <span class=err>│</span>
</span></span><span class=line><span class=cl>                          <span class=err>▼</span>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=n>PACKAGE</span> <span class=n>MANAGER</span> <span class=n>CẤP</span> <span class=n>CAO</span>                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>┌──────────┐</span> <span class=err>┌──────────┐</span> <span class=err>┌──────────┐</span> <span class=err>┌──────────┐</span>        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span>   <span class=n>apt</span>    <span class=err>│</span> <span class=err>│</span>   <span class=n>dnf</span>    <span class=err>│</span> <span class=err>│</span>  <span class=n>pacman</span>  <span class=err>│</span> <span class=err>│</span>  <span class=n>zypper</span>  <span class=err>│</span>        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span> <span class=p>(</span><span class=n>Debian</span><span class=p>)</span> <span class=err>│</span> <span class=err>│</span> <span class=p>(</span><span class=n>Fedora</span><span class=p>)</span> <span class=err>│</span> <span class=err>│</span>  <span class=p>(</span><span class=n>Arch</span><span class=p>)</span>  <span class=err>│</span> <span class=err>│</span> <span class=p>(</span><span class=n>SUSE</span><span class=p>)</span>   <span class=err>│</span>        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>└──────────┘</span> <span class=err>└──────────┘</span> <span class=err>└──────────┘</span> <span class=err>└──────────┘</span>        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=n>Chức</span> <span class=n>năng</span><span class=p>:</span>                                                 <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Quản</span> <span class=n>lý</span> <span class=n>kho</span> <span class=n>phần</span> <span class=n>mềm</span> <span class=p>(</span><span class=n>repository</span><span class=p>)</span>                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Giải</span> <span class=n>quyết</span> <span class=n>phụ</span> <span class=n>thuộc</span> <span class=p>(</span><span class=n>dependency</span><span class=p>)</span>                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Tải</span> <span class=n>từ</span> <span class=n>mirrors</span>                                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Quản</span> <span class=n>lý</span> <span class=n>giao</span> <span class=n>dịch</span> <span class=p>(</span><span class=n>transaction</span><span class=p>)</span>                          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Lập</span> <span class=n>kế</span> <span class=n>hoạch</span> <span class=n>nâng</span> <span class=n>cấp</span>                                    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>                          <span class=err>│</span>
</span></span><span class=line><span class=cl>                          <span class=err>▼</span>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>              <span class=n>CÔNG</span> <span class=n>CỤ</span> <span class=n>GÓI</span> <span class=n>CẤP</span> <span class=n>THẤP</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>┌──────────┐</span> <span class=err>┌──────────┐</span> <span class=err>┌──────────────────────────────┐</span> <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span>   <span class=n>dpkg</span>   <span class=err>│</span> <span class=err>│</span>   <span class=n>rpm</span>    <span class=err>│</span> <span class=err>│</span> <span class=n>pacman</span> <span class=p>(</span><span class=n>làm</span> <span class=n>cả</span> <span class=n>hai</span> <span class=n>tầng</span><span class=p>)</span>     <span class=err>│</span> <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span> <span class=p>(</span><span class=n>Debian</span><span class=p>)</span> <span class=err>│</span> <span class=err>│</span> <span class=p>(</span><span class=n>RHEL</span><span class=p>)</span>   <span class=err>│</span> <span class=err>│</span>                              <span class=err>│</span> <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>└──────────┘</span> <span class=err>└──────────┘</span> <span class=err>└──────────────────────────────┘</span> <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                             <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=n>Chức</span> <span class=n>năng</span><span class=p>:</span>                                                 <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Cài</span><span class=o>/</span><span class=n>gỡ</span> <span class=n>từng</span> <span class=n>gói</span> <span class=err>đơ</span><span class=n>n</span> <span class=n>lẻ</span>                                   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Truy</span> <span class=n>vấn</span> <span class=n>cơ</span> <span class=n>sở</span> <span class=n>dữ</span> <span class=n>liệu</span> <span class=n>gói</span>                               <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Xác</span> <span class=n>minh</span> <span class=n>tính</span> <span class=n>toàn</span> <span class=n>vẹn</span> <span class=n>của</span> <span class=n>gói</span>                           <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>Giải</span> <span class=n>nén</span> <span class=n>nội</span> <span class=n>dung</span> <span class=n>gói</span>                                    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>-</span> <span class=n>KHÔNG</span> <span class=n>giải</span> <span class=n>quyết</span> <span class=n>phụ</span> <span class=n>thuộc</span>                               <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>                          <span class=err>│</span>
</span></span><span class=line><span class=cl>                          <span class=err>▼</span>
</span></span><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                    <span class=n>HỆ</span> <span class=n>THỐNG</span> <span class=n>TẬP</span> <span class=n>TIN</span>                         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=p>,</span> <span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>lib</span><span class=p>,</span> <span class=o>/</span><span class=n>etc</span><span class=p>,</span> <span class=o>/</span><span class=k>var</span><span class=p>,</span> <span class=o>...</span>                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span></span></span></code></pre></div><h3 class=heading-element id=12-định-dạng-gói><span>1.2 Định Dạng Gói</span>
<a href=#12-%c4%91%e1%bb%8bnh-d%e1%ba%a1ng-g%c3%b3i class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    ĐỊNH DẠNG GÓI                            │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘</span></span></code></pre></div><table><thead><tr><th>Định dạng</th><th>Distros</th><th>Cấu trúc</th></tr></thead><tbody><tr><td>.deb</td><td>Debian, Ubuntu</td><td>archive ar (data.tar + ctrl)</td></tr><tr><td>.rpm</td><td>RHEL, Fedora,</td><td>archive cpio + metadata</td></tr><tr><td></td><td>SUSE, CentOS</td><td></td></tr><tr><td>.pkg.tar.*</td><td>Arch Linux</td><td>archive tar (xz/zst)</td></tr><tr><td>.apk</td><td>Alpine</td><td>tar.gz với metadata</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Cấu</span> <span class=n>trúc</span> <span class=o>.</span><span class=n>deb</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>┌────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>package</span><span class=o>.</span><span class=n>deb</span> <span class=p>(</span><span class=n>archive</span> <span class=n>ar</span><span class=p>)</span>                                   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>├──</span> <span class=n>debian</span><span class=o>-</span><span class=n>binary</span>      <span class=c1># Chuỗi phiên bản &#34;2.0&#34;             │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>├──</span> <span class=n>control</span><span class=o>.</span><span class=n>tar</span><span class=o>.</span><span class=n>gz</span>     <span class=c1># Metadata                          │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>│</span>   <span class=err>├──</span> <span class=n>control</span>        <span class=c1># Thông tin gói, phụ thuộc          │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>│</span>   <span class=err>├──</span> <span class=n>preinst</span>        <span class=c1># Script trước khi cài              │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>│</span>   <span class=err>├──</span> <span class=n>postinst</span>       <span class=c1># Script sau khi cài                │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>│</span>   <span class=err>├──</span> <span class=n>prerm</span>          <span class=c1># Script trước khi gỡ               │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>│</span>   <span class=err>├──</span> <span class=n>postrm</span>         <span class=c1># Script sau khi gỡ                 │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>│</span>   <span class=err>├──</span> <span class=n>conffiles</span>      <span class=c1># Danh sách file cấu hình           │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>│</span>   <span class=err>└──</span> <span class=n>md5sums</span>        <span class=c1># Checksums                         │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>└──</span> <span class=n>data</span><span class=o>.</span><span class=n>tar</span><span class=o>.</span><span class=n>xz</span>        <span class=c1># Các file thực tế                  │</span>
</span></span><span class=line><span class=cl><span class=err>│</span>     <span class=err>├──</span> <span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/...</span>                                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>     <span class=err>├──</span> <span class=n>usr</span><span class=o>/</span><span class=n>lib</span><span class=o>/...</span>                                        <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>     <span class=err>└──</span> <span class=n>etc</span><span class=o>/...</span>                                            <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Cấu</span> <span class=n>trúc</span> <span class=o>.</span><span class=n>rpm</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>┌────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=n>package</span><span class=o>.</span><span class=n>rpm</span>                                                <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>├──</span> <span class=n>Lead</span> <span class=p>(</span><span class=n>legacy</span><span class=p>)</span>                                          <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>├──</span> <span class=n>Signature</span>          <span class=c1># Chữ ký GPG                        │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>├──</span> <span class=n>Header</span>             <span class=c1># Metadata (tên, phiên bản, deps)   │</span>
</span></span><span class=line><span class=cl><span class=err>│</span> <span class=err>└──</span> <span class=n>Payload</span> <span class=p>(</span><span class=n>cpio</span><span class=o>.</span><span class=n>gz</span><span class=p>)</span>  <span class=c1># Các file thực tế                  │</span>
</span></span><span class=line><span class=cl><span class=err>└────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra gói</span>
</span></span><span class=line><span class=cl><span class=n>dpkg</span><span class=o>-</span><span class=n>deb</span> <span class=o>-</span><span class=n>I</span> <span class=n>package</span><span class=o>.</span><span class=n>deb</span>              <span class=c1># Hiện thông tin control</span>
</span></span><span class=line><span class=cl><span class=n>dpkg</span><span class=o>-</span><span class=n>deb</span> <span class=o>-</span><span class=n>c</span> <span class=n>package</span><span class=o>.</span><span class=n>deb</span>              <span class=c1># Liệt kê nội dung</span>
</span></span><span class=line><span class=cl><span class=n>rpm</span> <span class=o>-</span><span class=n>qip</span> <span class=n>package</span><span class=o>.</span><span class=n>rpm</span>                 <span class=c1># Truy vấn thông tin</span>
</span></span><span class=line><span class=cl><span class=n>rpm</span> <span class=o>-</span><span class=n>qlp</span> <span class=n>package</span><span class=o>.</span><span class=n>rpm</span>                 <span class=c1># Liệt kê files</span></span></span></code></pre></div><h3 class=heading-element id=13-giải-quyết-phụ-thuộc><span>1.3 Giải Quyết Phụ Thuộc</span>
<a href=#13-gi%e1%ba%a3i-quy%e1%ba%bft-ph%e1%bb%a5-thu%e1%bb%99c class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                 GIẢI QUYẾT PHỤ THUỘC                        │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Bài toán: Gói A phụ thuộc B, C. B phụ thuộc D. C xung đột với E.
</span></span><span class=line><span class=cl>Mục tiêu: Tìm thứ tự cài đặt thỏa mãn tất cả ràng buộc.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Các loại phụ thuộc:
</span></span><span class=line><span class=cl>┌────────────────┬────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│ Depends        │ Phải được cài đặt                          │
</span></span><span class=line><span class=cl>│ Pre-Depends    │ Phải được cài VÀ cấu hình trước            │
</span></span><span class=line><span class=cl>│ Recommends     │ Nên được cài (phụ thuộc mềm)               │
</span></span><span class=line><span class=cl>│ Suggests       │ Có thì tốt                                 │
</span></span><span class=line><span class=cl>│ Conflicts      │ Không thể tồn tại cùng nhau                │
</span></span><span class=line><span class=cl>│ Breaks         │ Làm hỏng chức năng                         │
</span></span><span class=line><span class=cl>│ Provides       │ Gói ảo (các lựa chọn thay thế)             │
</span></span><span class=line><span class=cl>│ Replaces       │ Tiếp quản files từ gói khác                │
</span></span><span class=line><span class=cl>└────────────────┴────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Thuật toán giải quyết (dựa trên SAT):
</span></span><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│  1. Xây dựng đồ thị phụ thuộc                               │
</span></span><span class=line><span class=cl>│     Gói A ──phụ thuộc──► Gói B                              │
</span></span><span class=line><span class=cl>│        │                    │                               │
</span></span><span class=line><span class=cl>│        └──phụ thuộc──► Gói C ──xung đột──► Gói E            │
</span></span><span class=line><span class=cl>│                          │                                  │
</span></span><span class=line><span class=cl>│                          └──phụ thuộc──► Gói D              │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│  2. Chuyển đổi thành bài toán thỏa mãn Boolean (SAT)        │
</span></span><span class=line><span class=cl>│     - Cài A → phải cài B                                    │
</span></span><span class=line><span class=cl>│     - Cài A → phải cài C                                    │
</span></span><span class=line><span class=cl>│     - Cài C → KHÔNG ĐƯỢC cài E                              │
</span></span><span class=line><span class=cl>│     - Cài C → phải cài D                                    │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│  3. SAT solver tìm phép gán hợp lệ                          │
</span></span><span class=line><span class=cl>│     - Hiện đại: libsolv (dùng bởi dnf, zypper)              │
</span></span><span class=line><span class=cl>│     - apt: Trình giải quyết tùy chỉnh                       │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│  4. Sắp xếp tô-pô cho thứ tự cài đặt                        │
</span></span><span class=line><span class=cl>│     D → B → C → A (cài phụ thuộc trước)                     │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│  Độ phức tạp: NP-complete trong trường hợp tổng quát        │
</span></span><span class=line><span class=cl>│              Nhưng các trường hợp thực tế thường giải được  │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Xem cây phụ thuộc
</span></span><span class=line><span class=cl>apt-cache depends nginx              # Phụ thuộc trực tiếp
</span></span><span class=line><span class=cl>apt-rdepends nginx                   # Phụ thuộc đệ quy
</span></span><span class=line><span class=cl>dnf repoquery --requires nginx
</span></span><span class=line><span class=cl>dnf repoquery --whatrequires nginx   # Phụ thuộc ngược
</span></span><span class=line><span class=cl>pactree nginx                        # Arch: hiển thị dạng cây</span></span></code></pre></div><h3 class=heading-element id=14-cấu-trúc-repository><span>1.4 Cấu Trúc Repository</span>
<a href=#14-c%e1%ba%a5u-tr%c3%bac-repository class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                  CẤU TRÚC REPOSITORY                        │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>APT Repository (Debian/Ubuntu):
</span></span><span class=line><span class=cl>http://archive.ubuntu.com/ubuntu/
</span></span><span class=line><span class=cl>├── dists/
</span></span><span class=line><span class=cl>│   ├── jammy/                     # Tên mã phiên bản (codename)
</span></span><span class=line><span class=cl>│   │   ├── Release                # Metadata + checksums
</span></span><span class=line><span class=cl>│   │   ├── Release.gpg            # Chữ ký GPG
</span></span><span class=line><span class=cl>│   │   ├── InRelease              # Ký inline
</span></span><span class=line><span class=cl>│   │   ├── main/                  # Component
</span></span><span class=line><span class=cl>│   │   │   ├── binary-amd64/
</span></span><span class=line><span class=cl>│   │   │   │   ├── Packages.xz    # Chỉ mục gói
</span></span><span class=line><span class=cl>│   │   │   │   └── Packages.gz
</span></span><span class=line><span class=cl>│   │   │   └── source/
</span></span><span class=line><span class=cl>│   │   ├── restricted/
</span></span><span class=line><span class=cl>│   │   ├── universe/
</span></span><span class=line><span class=cl>│   │   └── multiverse/
</span></span><span class=line><span class=cl>│   ├── jammy-updates/
</span></span><span class=line><span class=cl>│   └── jammy-security/
</span></span><span class=line><span class=cl>└── pool/                          # Các file .deb thực tế
</span></span><span class=line><span class=cl>    ├── main/
</span></span><span class=line><span class=cl>    │   ├── a/
</span></span><span class=line><span class=cl>    │   │   └── apache2/
</span></span><span class=line><span class=cl>    │   │       └── apache2_2.4.52-1_amd64.deb
</span></span><span class=line><span class=cl>    │   └── n/
</span></span><span class=line><span class=cl>    │       └── nginx/
</span></span><span class=line><span class=cl>    └── universe/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>DNF/YUM Repository (RHEL/Fedora):
</span></span><span class=line><span class=cl>http://mirror.example.com/fedora/
</span></span><span class=line><span class=cl>├── releases/
</span></span><span class=line><span class=cl>│   └── 39/
</span></span><span class=line><span class=cl>│       └── Everything/
</span></span><span class=line><span class=cl>│           └── x86_64/
</span></span><span class=line><span class=cl>│               └── os/
</span></span><span class=line><span class=cl>│                   ├── repodata/
</span></span><span class=line><span class=cl>│                   │   ├── repomd.xml       # Chỉ mục chính
</span></span><span class=line><span class=cl>│                   │   ├── primary.xml.gz   # Metadata gói
</span></span><span class=line><span class=cl>│                   │   ├── filelists.xml.gz # Danh sách file
</span></span><span class=line><span class=cl>│                   │   └── other.xml.gz     # Changelogs
</span></span><span class=line><span class=cl>│                   └── Packages/
</span></span><span class=line><span class=cl>│                       ├── a/
</span></span><span class=line><span class=cl>│                       │   └── apache-2.4.57-1.fc39.x86_64.rpm
</span></span><span class=line><span class=cl>│                       └── n/
</span></span><span class=line><span class=cl>└── updates/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Chỉ mục gói = hash map/B-tree cho tra cứu O(log n)
</span></span><span class=line><span class=cl>Metadata được cache cục bộ → truy vấn sau nhanh hơn</span></span></code></pre></div><hr><h2 class=heading-element id=phần-2-debianubuntu---apt--dpkg><span>PHẦN 2: DEBIAN/UBUNTU - APT & DPKG</span>
<a href=#ph%e1%ba%a7n-2-debianubuntu---apt--dpkg class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=21-dpkg---công-cụ-cấp-thấp><span>2.1 dpkg - Công Cụ Cấp Thấp</span>
<a href=#21-dpkg---c%c3%b4ng-c%e1%bb%a5-c%e1%ba%a5p-th%e1%ba%a5p class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dpkg <span class=o>[</span>TÙY_CHỌN<span class=o>]</span> HÀNH_ĐỘNG
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># dpkg KHÔNG giải quyết phụ thuộc</span>
</span></span><span class=line><span class=cl><span class=c1># Dùng cho: Cài file .deb cục bộ, truy vấn database, sửa chữa</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Các hành động chính:</span>
</span></span><span class=line><span class=cl>-i, --install           <span class=c1># Cài đặt gói</span>
</span></span><span class=line><span class=cl>-r, --remove            <span class=c1># Gỡ bỏ (giữ config)</span>
</span></span><span class=line><span class=cl>-P, --purge             <span class=c1># Gỡ bỏ + file cấu hình</span>
</span></span><span class=line><span class=cl>-l, --list              <span class=c1># Liệt kê các gói đã cài</span>
</span></span><span class=line><span class=cl>-L, --listfiles         <span class=c1># Liệt kê files trong gói</span>
</span></span><span class=line><span class=cl>-s, --status            <span class=c1># Trạng thái gói</span>
</span></span><span class=line><span class=cl>-S, --search            <span class=c1># Tìm gói nào sở hữu file</span>
</span></span><span class=line><span class=cl>-c, --contents          <span class=c1># Liệt kê nội dung của .deb</span>
</span></span><span class=line><span class=cl>--configure             <span class=c1># Cấu hình gói đã giải nén</span>
</span></span><span class=line><span class=cl>--unpack                <span class=c1># Giải nén không cấu hình</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cài đặt file .deb cục bộ</span>
</span></span><span class=line><span class=cl>dpkg -i package.deb
</span></span><span class=line><span class=cl><span class=c1># Nếu thiếu dependency → dpkg thất bại</span>
</span></span><span class=line><span class=cl><span class=c1># Sửa bằng: apt-get install -f</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ gói (giữ config)</span>
</span></span><span class=line><span class=cl>dpkg -r nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Purge gói (xóa cả config)</span>
</span></span><span class=line><span class=cl>dpkg -P nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê các gói đã cài</span>
</span></span><span class=line><span class=cl>dpkg -l                          <span class=c1># Tất cả gói</span>
</span></span><span class=line><span class=cl>dpkg -l nginx                    <span class=c1># Gói cụ thể</span>
</span></span><span class=line><span class=cl>dpkg -l <span class=s1>&#39;nginx*&#39;</span>                 <span class=c1># Khớp pattern</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Định dạng output:</span>
</span></span><span class=line><span class=cl><span class=c1># Desired=Unknown/Install/Remove/Purge/Hold (Mong muốn)</span>
</span></span><span class=line><span class=cl><span class=c1># | Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend (Trạng thái)</span>
</span></span><span class=line><span class=cl><span class=c1># |/ Err?=(none)/Reinst-required (Lỗi?)</span>
</span></span><span class=line><span class=cl><span class=c1># ||/ Name           Version      Architecture Description</span>
</span></span><span class=line><span class=cl><span class=c1># +++-==============-============-============-==================================</span>
</span></span><span class=line><span class=cl><span class=c1># ii  nginx          1.18.0-6     amd64        high performance web server</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê files thuộc gói đã cài</span>
</span></span><span class=line><span class=cl>dpkg -L nginx
</span></span><span class=line><span class=cl><span class=c1># /etc/nginx/nginx.conf</span>
</span></span><span class=line><span class=cl><span class=c1># /usr/sbin/nginx</span>
</span></span><span class=line><span class=cl><span class=c1># /var/www/html/index.nginx-debian.html</span>
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Trạng thái gói</span>
</span></span><span class=line><span class=cl>dpkg -s nginx
</span></span><span class=line><span class=cl><span class=c1># Package: nginx</span>
</span></span><span class=line><span class=cl><span class=c1># Status: install ok installed</span>
</span></span><span class=line><span class=cl><span class=c1># Priority: optional</span>
</span></span><span class=line><span class=cl><span class=c1># Section: httpd</span>
</span></span><span class=line><span class=cl><span class=c1># Installed-Size: 45</span>
</span></span><span class=line><span class=cl><span class=c1># Maintainer: ...</span>
</span></span><span class=line><span class=cl><span class=c1># Architecture: amd64</span>
</span></span><span class=line><span class=cl><span class=c1># Version: 1.18.0-6ubuntu14</span>
</span></span><span class=line><span class=cl><span class=c1># Depends: nginx-core (&lt;&lt; 1.18.0-6ubuntu14.1~) | nginx-full ...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm gói nào sở hữu file</span>
</span></span><span class=line><span class=cl>dpkg -S /usr/bin/curl
</span></span><span class=line><span class=cl><span class=c1># curl: /usr/bin/curl</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>dpkg -S /etc/nginx/nginx.conf
</span></span><span class=line><span class=cl><span class=c1># nginx-common: /etc/nginx/nginx.conf</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê nội dung file .deb (CHƯA cài)</span>
</span></span><span class=line><span class=cl>dpkg -c package.deb
</span></span><span class=line><span class=cl>dpkg-deb -c package.deb          <span class=c1># Giống nhau</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giải nén .deb không cài đặt</span>
</span></span><span class=line><span class=cl>dpkg-deb -x package.deb /tmp/extracted/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hiện thông tin control</span>
</span></span><span class=line><span class=cl>dpkg-deb -I package.deb
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cấu hình lại gói (chạy lại postinst)</span>
</span></span><span class=line><span class=cl>dpkg-reconfigure tzdata
</span></span><span class=line><span class=cl>dpkg-reconfigure locales
</span></span><span class=line><span class=cl>dpkg-reconfigure keyboard-configuration
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sửa các gói bị hỏng</span>
</span></span><span class=line><span class=cl>dpkg --configure -a              <span class=c1># Cấu hình tất cả gói đã giải nén</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tùy chọn force (NGUY HIỂM)</span>
</span></span><span class=line><span class=cl>dpkg -i --force-depends package.deb      <span class=c1># Bỏ qua phụ thuộc</span>
</span></span><span class=line><span class=cl>dpkg -i --force-overwrite package.deb    <span class=c1># Ghi đè files</span>
</span></span><span class=line><span class=cl>dpkg -i --force-confnew package.deb      <span class=c1># Dùng config mới</span>
</span></span><span class=line><span class=cl>dpkg -i --force-confold package.deb      <span class=c1># Giữ config cũ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giữ gói (ngăn nâng cấp)</span>
</span></span><span class=line><span class=cl>dpkg --set-selections <span class=o>&lt;&lt;&lt;</span> <span class=s2>&#34;nginx hold&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># Hoặc: apt-mark hold nginx</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Bỏ giữ</span>
</span></span><span class=line><span class=cl>dpkg --set-selections <span class=o>&lt;&lt;&lt;</span> <span class=s2>&#34;nginx install&#34;</span></span></span></code></pre></div><h3 class=heading-element id=22-apt-vs-apt-get-vs-apt-cache><span>2.2 apt vs apt-get vs apt-cache</span>
<a href=#22-apt-vs-apt-get-vs-apt-cache class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌────────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                 SO SÁNH LỆNH APT                               │
</span></span><span class=line><span class=cl>└────────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>apt = Hiện đại, thân thiện (kết hợp apt-get + apt-cache)
</span></span><span class=line><span class=cl>apt-get = Truyền thống, ổn định, tốt hơn cho scripts
</span></span><span class=line><span class=cl>apt-cache = Truy vấn cache gói
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>┌─────────────────┬─────────────────────┬────────────────────────┐
</span></span><span class=line><span class=cl>│ apt             │ apt-get             │ Mô tả                  │
</span></span><span class=line><span class=cl>├─────────────────┼─────────────────────┼────────────────────────┤
</span></span><span class=line><span class=cl>│ apt install     │ apt-get install     │ Cài đặt gói            │
</span></span><span class=line><span class=cl>│ apt remove      │ apt-get remove      │ Gỡ bỏ gói              │
</span></span><span class=line><span class=cl>│ apt purge       │ apt-get purge       │ Gỡ bỏ + config         │
</span></span><span class=line><span class=cl>│ apt update      │ apt-get update      │ Cập nhật danh sách gói │
</span></span><span class=line><span class=cl>│ apt upgrade     │ apt-get upgrade     │ Nâng cấp gói           │
</span></span><span class=line><span class=cl>│ apt full-upgrade│ apt-get dist-upgrade│ Nâng cấp thông minh    │
</span></span><span class=line><span class=cl>│ apt autoremove  │ apt-get autoremove  │ Gỡ gói mồ côi          │
</span></span><span class=line><span class=cl>│ apt search      │ apt-cache search    │ Tìm kiếm gói           │
</span></span><span class=line><span class=cl>│ apt show        │ apt-cache show      │ Chi tiết gói           │
</span></span><span class=line><span class=cl>│ apt list        │ dpkg -l / apt-cache │ Liệt kê gói            │
</span></span><span class=line><span class=cl>│ apt edit-sources│ (sửa thủ công)      │ Sửa sources.list       │
</span></span><span class=line><span class=cl>│ apt policy      │ apt-cache policy    │ Hiện độ ưu tiên        │
</span></span><span class=line><span class=cl>└─────────────────┴─────────────────────┴────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>apt có thanh tiến trình, output màu, UX tốt hơn
</span></span><span class=line><span class=cl>apt-get ổn định hơn cho scripts (không đổi định dạng output)</span></span></code></pre></div><h3 class=heading-element id=23-apt---các-thao-tác-phổ-biến><span>2.3 apt - Các Thao Tác Phổ Biến</span>
<a href=#23-apt---c%c3%a1c-thao-t%c3%a1c-ph%e1%bb%95-bi%e1%ba%bfn class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cập nhật danh sách gói (LUÔN làm trước)</span>
</span></span><span class=line><span class=cl>apt update
</span></span><span class=line><span class=cl><span class=c1># Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease</span>
</span></span><span class=line><span class=cl><span class=c1># Get:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]</span>
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span><span class=line><span class=cl><span class=c1># Reading package lists... Done (Đang đọc danh sách gói... Xong)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm kiếm gói</span>
</span></span><span class=line><span class=cl>apt search nginx
</span></span><span class=line><span class=cl>apt search <span class=s2>&#34;web server&#34;</span>
</span></span><span class=line><span class=cl>apt-cache search --names-only nginx    <span class=c1># Chỉ tên</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hiện thông tin gói</span>
</span></span><span class=line><span class=cl>apt show nginx
</span></span><span class=line><span class=cl><span class=c1># Package: nginx</span>
</span></span><span class=line><span class=cl><span class=c1># Version: 1.18.0-6ubuntu14</span>
</span></span><span class=line><span class=cl><span class=c1># Priority: optional</span>
</span></span><span class=line><span class=cl><span class=c1># Section: httpd</span>
</span></span><span class=line><span class=cl><span class=c1># Origin: Ubuntu</span>
</span></span><span class=line><span class=cl><span class=c1># Maintainer: Ubuntu Developers</span>
</span></span><span class=line><span class=cl><span class=c1># Depends: nginx-core (&gt;= 1.18.0-6ubuntu14) | nginx-full ...</span>
</span></span><span class=line><span class=cl><span class=c1># Description: small, powerful, scalable web/proxy server</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt gói</span>
</span></span><span class=line><span class=cl>apt install nginx
</span></span><span class=line><span class=cl>apt install nginx apache2 php           <span class=c1># Nhiều gói</span>
</span></span><span class=line><span class=cl>apt install <span class=nv>nginx</span><span class=o>=</span>1.18.0-6ubuntu14      <span class=c1># Phiên bản cụ thể</span>
</span></span><span class=line><span class=cl>apt install ./package.deb               <span class=c1># File cục bộ</span>
</span></span><span class=line><span class=cl>apt install -y nginx                    <span class=c1># Tự động yes</span>
</span></span><span class=line><span class=cl>apt install --no-install-recommends nginx  <span class=c1># Bỏ qua recommends</span>
</span></span><span class=line><span class=cl>apt install -d nginx                    <span class=c1># Chỉ tải về</span>
</span></span><span class=line><span class=cl>apt install --reinstall nginx           <span class=c1># Cài lại</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ gói</span>
</span></span><span class=line><span class=cl>apt remove nginx                        <span class=c1># Giữ file config</span>
</span></span><span class=line><span class=cl>apt purge nginx                         <span class=c1># Xóa cả config</span>
</span></span><span class=line><span class=cl>apt autoremove                          <span class=c1># Gỡ các deps mồ côi</span>
</span></span><span class=line><span class=cl>apt autopurge                           <span class=c1># Gỡ + purge mồ côi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nâng cấp hệ thống</span>
</span></span><span class=line><span class=cl>apt update                              <span class=c1># Làm mới danh sách gói</span>
</span></span><span class=line><span class=cl>apt upgrade                             <span class=c1># Nâng cấp (an toàn)</span>
</span></span><span class=line><span class=cl>apt full-upgrade                        <span class=c1># Nâng cấp + gỡ nếu cần</span>
</span></span><span class=line><span class=cl>apt dist-upgrade                        <span class=c1># Giống full-upgrade</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nâng cấp gói đơn lẻ</span>
</span></span><span class=line><span class=cl>apt install --only-upgrade nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê gói</span>
</span></span><span class=line><span class=cl>apt list                                <span class=c1># Tất cả có sẵn</span>
</span></span><span class=line><span class=cl>apt list --installed                    <span class=c1># Chỉ đã cài</span>
</span></span><span class=line><span class=cl>apt list --upgradable                   <span class=c1># Có thể nâng cấp</span>
</span></span><span class=line><span class=cl>apt list nginx*                         <span class=c1># Khớp pattern</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hiện phiên bản và độ ưu tiên</span>
</span></span><span class=line><span class=cl>apt policy nginx
</span></span><span class=line><span class=cl><span class=c1># nginx:</span>
</span></span><span class=line><span class=cl><span class=c1>#   Installed: 1.18.0-6ubuntu14</span>
</span></span><span class=line><span class=cl><span class=c1>#   Candidate: 1.18.0-6ubuntu14.1</span>
</span></span><span class=line><span class=cl><span class=c1>#   Version table:</span>
</span></span><span class=line><span class=cl><span class=c1>#      1.18.0-6ubuntu14.1 500</span>
</span></span><span class=line><span class=cl><span class=c1>#         500 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64</span>
</span></span><span class=line><span class=cl><span class=c1>#      1.18.0-6ubuntu14 500</span>
</span></span><span class=line><span class=cl><span class=c1>#         500 http://archive.ubuntu.com/ubuntu jammy/main amd64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tải về không cài</span>
</span></span><span class=line><span class=cl>apt download nginx
</span></span><span class=line><span class=cl><span class=c1># → nginx_1.18.0-6ubuntu14_amd64.deb</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hiện phụ thuộc</span>
</span></span><span class=line><span class=cl>apt depends nginx
</span></span><span class=line><span class=cl>apt rdepends nginx                      <span class=c1># Phụ thuộc ngược</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dọn cache</span>
</span></span><span class=line><span class=cl>apt clean                               <span class=c1># Xóa tất cả .deb đã cache</span>
</span></span><span class=line><span class=cl>apt autoclean                           <span class=c1># Chỉ xóa phiên bản cũ</span>
</span></span><span class=line><span class=cl>du -sh /var/cache/apt/archives          <span class=c1># Kiểm tra kích thước cache</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sửa gói bị hỏng</span>
</span></span><span class=line><span class=cl>apt install -f                          <span class=c1># Sửa phụ thuộc</span>
</span></span><span class=line><span class=cl>apt --fix-broken install
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mô phỏng (dry run)</span>
</span></span><span class=line><span class=cl>apt install -s nginx                    <span class=c1># Mô phỏng</span>
</span></span><span class=line><span class=cl>apt install --dry-run nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giữ gói (ngăn nâng cấp)</span>
</span></span><span class=line><span class=cl>apt-mark hold nginx
</span></span><span class=line><span class=cl>apt-mark unhold nginx
</span></span><span class=line><span class=cl>apt-mark showhold                       <span class=c1># Liệt kê gói bị giữ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Đánh dấu cài tự động/thủ công</span>
</span></span><span class=line><span class=cl>apt-mark auto nginx                     <span class=c1># Đánh dấu cài tự động</span>
</span></span><span class=line><span class=cl>apt-mark manual nginx                   <span class=c1># Đánh dấu cài thủ công</span>
</span></span><span class=line><span class=cl>apt-mark showauto                       <span class=c1># Hiện gói cài tự động</span>
</span></span><span class=line><span class=cl>apt-mark showmanual</span></span></code></pre></div><h3 class=heading-element id=24-cấu-hình-repository><span>2.4 Cấu Hình Repository</span>
<a href=#24-c%e1%ba%a5u-h%c3%acnh-repository class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Các file cấu hình repository:</span>
</span></span><span class=line><span class=cl>/etc/apt/sources.list                   <span class=c1># Config chính</span>
</span></span><span class=line><span class=cl>/etc/apt/sources.list.d/*.list          <span class=c1># Repos bổ sung</span>
</span></span><span class=line><span class=cl>/etc/apt/sources.list.d/*.sources       <span class=c1># Định dạng DEB822 (mới)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Định dạng truyền thống (một dòng):</span>
</span></span><span class=line><span class=cl>deb http://archive.ubuntu.com/ubuntu jammy main restricted
</span></span><span class=line><span class=cl>deb http://archive.ubuntu.com/ubuntu jammy-updates main restricted
</span></span><span class=line><span class=cl>deb http://security.ubuntu.com/ubuntu jammy-security main restricted
</span></span><span class=line><span class=cl><span class=c1>#│   │                                  │     │</span>
</span></span><span class=line><span class=cl><span class=c1>#│   │                                  │     └─ Components</span>
</span></span><span class=line><span class=cl><span class=c1>#│   │                                  └─────── Distribution/codename</span>
</span></span><span class=line><span class=cl><span class=c1>#│   └────────────────────────────────────────── URL</span>
</span></span><span class=line><span class=cl><span class=c1>#└────────────────────────────────────────────── Loại: deb (nhị phân) hoặc deb-src (mã nguồn)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Định dạng DEB822 (mới, rõ ràng hơn):</span>
</span></span><span class=line><span class=cl><span class=c1># /etc/apt/sources.list.d/ubuntu.sources</span>
</span></span><span class=line><span class=cl>Types: deb
</span></span><span class=line><span class=cl>URIs: http://archive.ubuntu.com/ubuntu
</span></span><span class=line><span class=cl>Suites: jammy jammy-updates jammy-security
</span></span><span class=line><span class=cl>Components: main restricted universe multiverse
</span></span><span class=line><span class=cl>Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giải thích Components:</span>
</span></span><span class=line><span class=cl><span class=c1># main       - Được hỗ trợ chính thức, phần mềm tự do</span>
</span></span><span class=line><span class=cl><span class=c1># restricted - Được hỗ trợ chính thức, không tự do (drivers)</span>
</span></span><span class=line><span class=cl><span class=c1># universe   - Cộng đồng duy trì, tự do</span>
</span></span><span class=line><span class=cl><span class=c1># multiverse - Phần mềm không tự do</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thêm repository (cách hiện đại)</span>
</span></span><span class=line><span class=cl><span class=c1># 1. Tải GPG key</span>
</span></span><span class=line><span class=cl>curl -fsSL https://example.com/key.gpg <span class=p>|</span> sudo gpg --dearmor -o /usr/share/keyrings/example.gpg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. Thêm repository</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [signed-by=/usr/share/keyrings/example.gpg] https://example.com/repo stable main&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=p>|</span> sudo tee /etc/apt/sources.list.d/example.list
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. Cập nhật</span>
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thêm PPA (Ubuntu Personal Package Archive)</span>
</span></span><span class=line><span class=cl>add-apt-repository ppa:nginx/stable
</span></span><span class=line><span class=cl>add-apt-repository --remove ppa:nginx/stable   <span class=c1># Xóa</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê repos đã cấu hình</span>
</span></span><span class=line><span class=cl>apt-cache policy <span class=p>|</span> grep -E <span class=s2>&#34;^\s+\d+\s+http&#34;</span>
</span></span><span class=line><span class=cl>grep -r <span class=s2>&#34;^deb &#34;</span> /etc/apt/sources.list*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sửa sources tương tác</span>
</span></span><span class=line><span class=cl>apt edit-sources</span></span></code></pre></div><h3 class=heading-element id=25-cấu-hình-apt--proxy><span>2.5 Cấu Hình APT & Proxy</span>
<a href=#25-c%e1%ba%a5u-h%c3%acnh-apt--proxy class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Các file cấu hình APT:</span>
</span></span><span class=line><span class=cl>/etc/apt/apt.conf                       <span class=c1># Config chính</span>
</span></span><span class=line><span class=cl>/etc/apt/apt.conf.d/*.conf              <span class=c1># Các snippets cấu hình</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hiện tất cả cấu hình</span>
</span></span><span class=line><span class=cl>apt-config dump
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Các cấu hình phổ biến:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># /etc/apt/apt.conf.d/99proxy</span>
</span></span><span class=line><span class=cl>Acquire::http::Proxy <span class=s2>&#34;http://proxy.example.com:8080&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Acquire::https::Proxy <span class=s2>&#34;http://proxy.example.com:8080&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># /etc/apt/apt.conf.d/99recommends</span>
</span></span><span class=line><span class=cl>APT::Install-Recommends <span class=s2>&#34;false&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>APT::Install-Suggests <span class=s2>&#34;false&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># /etc/apt/apt.conf.d/99auto-yes</span>
</span></span><span class=line><span class=cl>APT::Get::Assume-Yes <span class=s2>&#34;true&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># /etc/apt/apt.conf.d/99keep-downloads</span>
</span></span><span class=line><span class=cl>Binary::apt::APT::Keep-Downloaded-Packages <span class=s2>&#34;true&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Pin ưu tiên (ưu tiên phiên bản/repo cụ thể)</span>
</span></span><span class=line><span class=cl><span class=c1># /etc/apt/preferences.d/nginx</span>
</span></span><span class=line><span class=cl>Package: nginx
</span></span><span class=line><span class=cl>Pin: version 1.18.*
</span></span><span class=line><span class=cl>Pin-Priority: <span class=m>1001</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giá trị Priority:</span>
</span></span><span class=line><span class=cl><span class=c1># P &gt;= 1000 - Cài ngay cả khi hạ cấp</span>
</span></span><span class=line><span class=cl><span class=c1># 990-999   - Cài trừ khi phiên bản đã cài mới hơn</span>
</span></span><span class=line><span class=cl><span class=c1># 500-989   - Ưu tiên mặc định</span>
</span></span><span class=line><span class=cl><span class=c1># 100-499   - Chỉ cài nếu không có phiên bản khác</span>
</span></span><span class=line><span class=cl><span class=c1># 0-99      - Không bao giờ cài</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Biến môi trường</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>APT_KEY_DONT_WARN_ON_DANGEROUS_USAGE</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>DEBIAN_FRONTEND</span><span class=o>=</span>noninteractive   <span class=c1># Không hỏi (cho scripts)</span></span></span></code></pre></div><hr><h2 class=heading-element id=phần-3-rhelfedora---dnf--rpm><span>PHẦN 3: RHEL/FEDORA - DNF & RPM</span>
<a href=#ph%e1%ba%a7n-3-rhelfedora---dnf--rpm class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=31-rpm---công-cụ-cấp-thấp><span>3.1 rpm - Công Cụ Cấp Thấp</span>
<a href=#31-rpm---c%c3%b4ng-c%e1%bb%a5-c%e1%ba%a5p-th%e1%ba%a5p class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rpm <span class=o>[</span>TÙY_CHỌN<span class=o>]</span> <span class=o>[</span>GÓI<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># rpm KHÔNG giải quyết phụ thuộc</span>
</span></span><span class=line><span class=cl><span class=c1># Dùng cho: Truy vấn, xác minh, cài .rpm cục bộ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Các chế độ:</span>
</span></span><span class=line><span class=cl>-i, --install           <span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>-U, --upgrade           <span class=c1># Nâng cấp (hoặc cài nếu chưa có)</span>
</span></span><span class=line><span class=cl>-F, --freshen           <span class=c1># Chỉ nâng cấp nếu đã cài</span>
</span></span><span class=line><span class=cl>-e, --erase             <span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>-q, --query             <span class=c1># Truy vấn</span>
</span></span><span class=line><span class=cl>-V, --verify            <span class=c1># Xác minh</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cài đặt .rpm cục bộ</span>
</span></span><span class=line><span class=cl>rpm -ivh package.rpm                    <span class=c1># -v verbose, -h tiến trình</span>
</span></span><span class=line><span class=cl>rpm -Uvh package.rpm                    <span class=c1># Nâng cấp hoặc cài đặt</span>
</span></span><span class=line><span class=cl>rpm -Fvh package.rpm                    <span class=c1># Chỉ freshen</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ gói</span>
</span></span><span class=line><span class=cl>rpm -e nginx                            <span class=c1># Xóa</span>
</span></span><span class=line><span class=cl>rpm -e --nodeps nginx                   <span class=c1># Bỏ qua phụ thuộc (NGUY HIỂM)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Truy vấn các gói đã cài</span>
</span></span><span class=line><span class=cl>rpm -qa                                 <span class=c1># Tất cả đã cài</span>
</span></span><span class=line><span class=cl>rpm -qa <span class=p>|</span> grep nginx                    <span class=c1># Lọc</span>
</span></span><span class=line><span class=cl>rpm -q nginx                            <span class=c1># Gói cụ thể</span>
</span></span><span class=line><span class=cl>rpm -qi nginx                           <span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>rpm -ql nginx                           <span class=c1># Liệt kê files</span>
</span></span><span class=line><span class=cl>rpm -qc nginx                           <span class=c1># Chỉ file config</span>
</span></span><span class=line><span class=cl>rpm -qd nginx                           <span class=c1># Chỉ file tài liệu</span>
</span></span><span class=line><span class=cl>rpm -qR nginx                           <span class=c1># Requirements (phụ thuộc)</span>
</span></span><span class=line><span class=cl>rpm -q --provides nginx                 <span class=c1># Nó cung cấp gì</span>
</span></span><span class=line><span class=cl>rpm -q --changelog nginx                <span class=c1># Lịch sử thay đổi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Truy vấn file .rpm (CHƯA cài)</span>
</span></span><span class=line><span class=cl>rpm -qip package.rpm                    <span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>rpm -qlp package.rpm                    <span class=c1># Liệt kê files</span>
</span></span><span class=line><span class=cl>rpm -qRp package.rpm                    <span class=c1># Requirements</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm gói nào sở hữu file</span>
</span></span><span class=line><span class=cl>rpm -qf /usr/bin/curl
</span></span><span class=line><span class=cl><span class=c1># curl-7.76.1-23.el9.x86_64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>rpm -qf /etc/nginx/nginx.conf
</span></span><span class=line><span class=cl><span class=c1># nginx-filesystem-1.20.1-14.el9.noarch</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xác minh gói</span>
</span></span><span class=line><span class=cl>rpm -V nginx
</span></span><span class=line><span class=cl><span class=c1># S.5....T.  c /etc/nginx/nginx.conf</span>
</span></span><span class=line><span class=cl><span class=c1>#│││││││││  │</span>
</span></span><span class=line><span class=cl><span class=c1>#│││││││││  └─ Loại file: c=config, d=doc, g=ghost, l=license, r=readme</span>
</span></span><span class=line><span class=cl><span class=c1>#││││││││└──── Timestamp đã thay đổi</span>
</span></span><span class=line><span class=cl><span class=c1>#│││││││└───── (dự trữ)</span>
</span></span><span class=line><span class=cl><span class=c1>#││││││└────── (dự trữ)</span>
</span></span><span class=line><span class=cl><span class=c1>#│││││└─────── Group đã thay đổi</span>
</span></span><span class=line><span class=cl><span class=c1>#││││└──────── User đã thay đổi</span>
</span></span><span class=line><span class=cl><span class=c1>#│││└───────── Mode đã thay đổi</span>
</span></span><span class=line><span class=cl><span class=c1>#││└──────────  Device đã thay đổi (cho device files)</span>
</span></span><span class=line><span class=cl><span class=c1>#│└─────────── Size đã thay đổi</span>
</span></span><span class=line><span class=cl><span class=c1>#└──────────── MD5 checksum đã thay đổi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>rpm -Va                                 <span class=c1># Xác minh tất cả gói</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giải nén .rpm không cài đặt</span>
</span></span><span class=line><span class=cl>rpm2cpio package.rpm <span class=p>|</span> cpio -idmv
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xây dựng lại database rpm</span>
</span></span><span class=line><span class=cl>rpm --rebuilddb
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Import GPG key</span>
</span></span><span class=line><span class=cl>rpm --import https://example.com/RPM-GPG-KEY
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê keys đã import</span>
</span></span><span class=line><span class=cl>rpm -qa gpg-pubkey*
</span></span><span class=line><span class=cl>rpm -qi gpg-pubkey-XXXXXXXX
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Scripts của gói</span>
</span></span><span class=line><span class=cl>rpm -q --scripts nginx
</span></span><span class=line><span class=cl><span class=c1># preinstall scriptlet</span>
</span></span><span class=line><span class=cl><span class=c1># postinstall scriptlet</span>
</span></span><span class=line><span class=cl><span class=c1># ...</span></span></span></code></pre></div><h3 class=heading-element id=32-dnf-dandified-yum><span>3.2 DNF (Dandified YUM)</span>
<a href=#32-dnf-dandified-yum class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    DNF vs YUM                               │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>DNF = Kế thừa YUM (từ Fedora 22, RHEL 8)
</span></span><span class=line><span class=cl>- Nhanh hơn (thư viện C cho giải quyết phụ thuộc)
</span></span><span class=line><span class=cl>- Giải quyết phụ thuộc tốt hơn (libsolv SAT solver)
</span></span><span class=line><span class=cl>- Python 3
</span></span><span class=line><span class=cl>- API tốt hơn
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>YUM = Legacy (RHEL 6/7, CentOS 6/7)
</span></span><span class=line><span class=cl>- Vẫn hoạt động trên RHEL 8+ (symlink sang dnf)
</span></span><span class=line><span class=cl>- Python 2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>RHEL 8+: yum → dnf (symlink)
</span></span><span class=line><span class=cl>Fedora: chỉ dnf
</span></span><span class=line><span class=cl>CentOS Stream: dnf</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Các thao tác cơ bản</span>
</span></span><span class=line><span class=cl>dnf check-update                        <span class=c1># Kiểm tra cập nhật</span>
</span></span><span class=line><span class=cl>dnf update                              <span class=c1># Cập nhật tất cả gói</span>
</span></span><span class=line><span class=cl>dnf upgrade                             <span class=c1># Giống update</span>
</span></span><span class=line><span class=cl>dnf update nginx                        <span class=c1># Cập nhật gói cụ thể</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm kiếm</span>
</span></span><span class=line><span class=cl>dnf search nginx
</span></span><span class=line><span class=cl>dnf search all <span class=s2>&#34;web server&#34;</span>             <span class=c1># Tìm tất cả trường</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>dnf info nginx
</span></span><span class=line><span class=cl>dnf info --installed nginx              <span class=c1># Chỉ khi đã cài</span>
</span></span><span class=line><span class=cl>dnf info --available nginx              <span class=c1># Chỉ khi chưa cài</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>dnf install nginx
</span></span><span class=line><span class=cl>dnf install nginx httpd php             <span class=c1># Nhiều gói</span>
</span></span><span class=line><span class=cl>dnf install nginx-1.20.1                <span class=c1># Phiên bản cụ thể</span>
</span></span><span class=line><span class=cl>dnf install ./package.rpm               <span class=c1># File cục bộ</span>
</span></span><span class=line><span class=cl>dnf install https://example.com/package.rpm  <span class=c1># URL</span>
</span></span><span class=line><span class=cl>dnf install -y nginx                    <span class=c1># Tự động yes</span>
</span></span><span class=line><span class=cl>dnf install --nobest nginx              <span class=c1># Cho phép phiên bản cũ hơn</span>
</span></span><span class=line><span class=cl>dnf reinstall nginx                     <span class=c1># Cài lại</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>dnf remove nginx
</span></span><span class=line><span class=cl>dnf autoremove                          <span class=c1># Gỡ các deps mồ côi</span>
</span></span><span class=line><span class=cl>dnf remove --noautoremove nginx         <span class=c1># Giữ deps</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hạ cấp</span>
</span></span><span class=line><span class=cl>dnf downgrade nginx                     <span class=c1># Về phiên bản trước</span>
</span></span><span class=line><span class=cl>dnf downgrade nginx-1.18.0              <span class=c1># Phiên bản cụ thể</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê gói</span>
</span></span><span class=line><span class=cl>dnf list                                <span class=c1># Tất cả có sẵn</span>
</span></span><span class=line><span class=cl>dnf list installed                      <span class=c1># Đã cài</span>
</span></span><span class=line><span class=cl>dnf list available                      <span class=c1># Chưa cài</span>
</span></span><span class=line><span class=cl>dnf list updates                        <span class=c1># Có thể nâng cấp</span>
</span></span><span class=line><span class=cl>dnf list nginx*                         <span class=c1># Pattern</span>
</span></span><span class=line><span class=cl>dnf list --showduplicates nginx         <span class=c1># Tất cả phiên bản</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Provides (tìm gói theo file)</span>
</span></span><span class=line><span class=cl>dnf provides /usr/bin/curl
</span></span><span class=line><span class=cl>dnf provides <span class=s2>&#34;*/nginx.conf&#34;</span>
</span></span><span class=line><span class=cl>dnf provides <span class=s2>&#34;libssl*&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Groups (tập hợp gói)</span>
</span></span><span class=line><span class=cl>dnf group list
</span></span><span class=line><span class=cl>dnf group info <span class=s2>&#34;Development Tools&#34;</span>
</span></span><span class=line><span class=cl>dnf group install <span class=s2>&#34;Development Tools&#34;</span>
</span></span><span class=line><span class=cl>dnf group remove <span class=s2>&#34;Development Tools&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Lịch sử</span>
</span></span><span class=line><span class=cl>dnf <span class=nb>history</span>
</span></span><span class=line><span class=cl>dnf <span class=nb>history</span> info <span class=m>15</span>                     <span class=c1># Chi tiết giao dịch</span>
</span></span><span class=line><span class=cl>dnf <span class=nb>history</span> undo <span class=m>15</span>                     <span class=c1># Hoàn tác giao dịch</span>
</span></span><span class=line><span class=cl>dnf <span class=nb>history</span> redo <span class=m>15</span>                     <span class=c1># Làm lại giao dịch</span>
</span></span><span class=line><span class=cl>dnf <span class=nb>history</span> rollback <span class=m>10</span>                 <span class=c1># Quay về trạng thái</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dọn cache</span>
</span></span><span class=line><span class=cl>dnf clean all
</span></span><span class=line><span class=cl>dnf clean packages                      <span class=c1># Chỉ packages</span>
</span></span><span class=line><span class=cl>dnf clean metadata                      <span class=c1># Chỉ metadata</span>
</span></span><span class=line><span class=cl>dnf makecache                           <span class=c1># Xây dựng lại cache</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra vấn đề</span>
</span></span><span class=line><span class=cl>dnf check                               <span class=c1># Kiểm tra vấn đề</span>
</span></span><span class=line><span class=cl>dnf check --duplicates                  <span class=c1># Gói trùng lặp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Repoquery (truy vấn repos)</span>
</span></span><span class=line><span class=cl>dnf repoquery nginx                     <span class=c1># Truy vấn có sẵn</span>
</span></span><span class=line><span class=cl>dnf repoquery --installed nginx         <span class=c1># Truy vấn đã cài</span>
</span></span><span class=line><span class=cl>dnf repoquery -l nginx                  <span class=c1># Liệt kê files</span>
</span></span><span class=line><span class=cl>dnf repoquery --requires nginx          <span class=c1># Phụ thuộc</span>
</span></span><span class=line><span class=cl>dnf repoquery --whatrequires nginx      <span class=c1># Phụ thuộc ngược</span>
</span></span><span class=line><span class=cl>dnf repoquery --deplist nginx           <span class=c1># Phụ thuộc chi tiết</span>
</span></span><span class=line><span class=cl>dnf repoquery --latest-limit<span class=o>=</span><span class=m>5</span> nginx    <span class=c1># Phiên bản mới nhất</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Chỉ tải về</span>
</span></span><span class=line><span class=cl>dnf download nginx
</span></span><span class=line><span class=cl>dnf download --resolve nginx            <span class=c1># Với phụ thuộc</span>
</span></span><span class=line><span class=cl>dnf download --source nginx             <span class=c1># Source RPM</span></span></span></code></pre></div><h3 class=heading-element id=33-cấu-hình-repository-dnf><span>3.3 Cấu Hình Repository DNF</span>
<a href=#33-c%e1%ba%a5u-h%c3%acnh-repository-dnf class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Các file cấu hình repository:</span>
</span></span><span class=line><span class=cl>/etc/yum.repos.d/*.repo
</span></span><span class=line><span class=cl>/etc/dnf/dnf.conf                       <span class=c1># Config chính</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê repos</span>
</span></span><span class=line><span class=cl>dnf repolist                            <span class=c1># Repos đã bật</span>
</span></span><span class=line><span class=cl>dnf repolist all                        <span class=c1># Tất cả repos</span>
</span></span><span class=line><span class=cl>dnf repolist --enabled
</span></span><span class=line><span class=cl>dnf repolist --disabled
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Bật/tắt repo</span>
</span></span><span class=line><span class=cl>dnf config-manager --set-enabled repo-name
</span></span><span class=line><span class=cl>dnf config-manager --set-disabled repo-name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thêm repo</span>
</span></span><span class=line><span class=cl>dnf config-manager --add-repo https://example.com/repo.repo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dùng repo cụ thể khi cài</span>
</span></span><span class=line><span class=cl>dnf install --repo<span class=o>=</span>epel nginx
</span></span><span class=line><span class=cl>dnf install --disablerepo<span class=o>=</span><span class=s2>&#34;*&#34;</span> --enablerepo<span class=o>=</span><span class=s2>&#34;baseos&#34;</span> nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Định dạng file repository:</span>
</span></span><span class=line><span class=cl><span class=c1># /etc/yum.repos.d/example.repo</span>
</span></span><span class=line><span class=cl><span class=o>[</span>example<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>Example Repository
</span></span><span class=line><span class=cl><span class=nv>baseurl</span><span class=o>=</span>https://example.com/repo/<span class=nv>$releasever</span>/<span class=nv>$basearch</span>/
</span></span><span class=line><span class=cl><span class=c1>#       hoặc: mirrorlist=https://mirrors.example.com/mirrorlist</span>
</span></span><span class=line><span class=cl><span class=nv>enabled</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nv>gpgcheck</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nv>gpgkey</span><span class=o>=</span>https://example.com/RPM-GPG-KEY
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Các biến:</span>
</span></span><span class=line><span class=cl><span class=c1># $releasever - Phiên bản OS (vd: 9, 39)</span>
</span></span><span class=line><span class=cl><span class=c1># $basearch   - Kiến trúc (vd: x86_64)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># EPEL (Extra Packages for Enterprise Linux)</span>
</span></span><span class=line><span class=cl>dnf install epel-release                <span class=c1># RHEL/CentOS</span>
</span></span><span class=line><span class=cl>dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># RPM Fusion (Fedora)</span>
</span></span><span class=line><span class=cl>dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-<span class=k>$(</span>rpm -E %fedora<span class=k>)</span>.noarch.rpm
</span></span><span class=line><span class=cl>dnf install https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-<span class=k>$(</span>rpm -E %fedora<span class=k>)</span>.noarch.rpm</span></span></code></pre></div><h3 class=heading-element id=34-cấu-hình-dnf><span>3.4 Cấu Hình DNF</span>
<a href=#34-c%e1%ba%a5u-h%c3%acnh-dnf class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># /etc/dnf/dnf.conf</span>
</span></span><span class=line><span class=cl><span class=o>[</span>main<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>gpgcheck</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nv>installonly_limit</span><span class=o>=</span><span class=m>3</span>                     <span class=c1># Giữ N phiên bản kernel</span>
</span></span><span class=line><span class=cl><span class=nv>clean_requirements_on_remove</span><span class=o>=</span>True       <span class=c1># Tự động gỡ deps</span>
</span></span><span class=line><span class=cl><span class=nv>best</span><span class=o>=</span>True                               <span class=c1># Thất bại nếu không có phiên bản tốt nhất</span>
</span></span><span class=line><span class=cl><span class=nv>skip_if_unavailable</span><span class=o>=</span>False
</span></span><span class=line><span class=cl><span class=nv>keepcache</span><span class=o>=</span><span class=m>0</span>                             <span class=c1># Không giữ gói đã tải</span>
</span></span><span class=line><span class=cl><span class=nv>fastestmirror</span><span class=o>=</span>True                      <span class=c1># Dùng mirror nhanh nhất</span>
</span></span><span class=line><span class=cl><span class=nv>max_parallel_downloads</span><span class=o>=</span><span class=m>10</span>               <span class=c1># Tải song song</span>
</span></span><span class=line><span class=cl><span class=nv>defaultyes</span><span class=o>=</span>False                        <span class=c1># Không tự động yes</span>
</span></span><span class=line><span class=cl><span class=nv>deltarpm</span><span class=o>=</span>True                           <span class=c1># Dùng delta RPMs</span>
</span></span><span class=line><span class=cl><span class=nv>exclude</span><span class=o>=</span>kernel*                         <span class=c1># Loại trừ gói toàn cục</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Biến môi trường</span>
</span></span><span class=line><span class=cl><span class=nv>DNF_ASSUMEYES</span><span class=o>=</span><span class=m>1</span>                         <span class=c1># Tự động yes</span></span></span></code></pre></div><h3 class=heading-element id=35-yum-legacy><span>3.5 YUM (Legacy)</span>
<a href=#35-yum-legacy class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Lệnh YUM (hầu hết giống DNF)</span>
</span></span><span class=line><span class=cl>yum check-update
</span></span><span class=line><span class=cl>yum update
</span></span><span class=line><span class=cl>yum install nginx
</span></span><span class=line><span class=cl>yum remove nginx
</span></span><span class=line><span class=cl>yum search nginx
</span></span><span class=line><span class=cl>yum info nginx
</span></span><span class=line><span class=cl>yum list installed
</span></span><span class=line><span class=cl>yum provides /usr/bin/curl
</span></span><span class=line><span class=cl>yum <span class=nb>history</span>
</span></span><span class=line><span class=cl>yum clean all
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Riêng YUM (không có trong DNF)</span>
</span></span><span class=line><span class=cl>yum localinstall package.rpm            <span class=c1># Dùng: dnf install ./package.rpm</span>
</span></span><span class=line><span class=cl>yum groupinstall <span class=s2>&#34;Development Tools&#34;</span>    <span class=c1># Dùng: dnf group install</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra yum có phải symlink đến dnf</span>
</span></span><span class=line><span class=cl>ls -la /usr/bin/yum
</span></span><span class=line><span class=cl><span class=c1># lrwxrwxrwx 1 root root 5 /usr/bin/yum -&gt; dnf-3</span></span></span></code></pre></div><hr><h2 class=heading-element id=phần-4-arch-linux---pacman><span>PHẦN 4: ARCH LINUX - PACMAN</span>
<a href=#ph%e1%ba%a7n-4-arch-linux---pacman class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=41-cơ-bản-pacman><span>4.1 Cơ Bản Pacman</span>
<a href=#41-c%c6%a1-b%e1%ba%a3n-pacman class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    KIẾN TRÚC PACMAN                         │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Pacman = Package Manager cho Arch Linux
</span></span><span class=line><span class=cl>- Công cụ đơn (không chia dpkg/rpm)
</span></span><span class=line><span class=cl>- Định dạng gói đơn giản (.pkg.tar.zst)
</span></span><span class=line><span class=cl>- Rolling release → luôn có phiên bản mới nhất
</span></span><span class=line><span class=cl>- AUR (Arch User Repository) cho gói cộng đồng
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Định dạng gói: .pkg.tar.xz hoặc .pkg.tar.zst
</span></span><span class=line><span class=cl>- Archive tar đơn giản
</span></span><span class=line><span class=cl>- .PKGINFO - Metadata gói
</span></span><span class=line><span class=cl>- .BUILDINFO - Thông tin build
</span></span><span class=line><span class=cl>- .MTREE - Metadata file để xác minh
</span></span><span class=line><span class=cl>- Các files thực tế</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Các loại thao tác:</span>
</span></span><span class=line><span class=cl>-S, --sync      <span class=c1># Đồng bộ (cài từ repo)</span>
</span></span><span class=line><span class=cl>-R, --remove    <span class=c1># Gỡ bỏ gói</span>
</span></span><span class=line><span class=cl>-Q, --query     <span class=c1># Truy vấn database cục bộ</span>
</span></span><span class=line><span class=cl>-U, --upgrade   <span class=c1># Nâng cấp từ file</span>
</span></span><span class=line><span class=cl>-F, --files     <span class=c1># Truy vấn database files</span>
</span></span><span class=line><span class=cl>-D, --database  <span class=c1># Sửa đổi database</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Các thao tác sync</span>
</span></span><span class=line><span class=cl>pacman -Sy                              <span class=c1># Đồng bộ database</span>
</span></span><span class=line><span class=cl>pacman -Syy                             <span class=c1># Buộc đồng bộ (tải lại)</span>
</span></span><span class=line><span class=cl>pacman -Su                              <span class=c1># Nâng cấp tất cả gói</span>
</span></span><span class=line><span class=cl>pacman -Syu                             <span class=c1># Đồng bộ + nâng cấp (KHUYẾN NGHỊ)</span>
</span></span><span class=line><span class=cl>pacman -Syyu                            <span class=c1># Buộc đồng bộ + nâng cấp</span>
</span></span><span class=line><span class=cl>pacman -S nginx                         <span class=c1># Cài đặt gói</span>
</span></span><span class=line><span class=cl>pacman -S nginx apache php              <span class=c1># Nhiều gói</span>
</span></span><span class=line><span class=cl>pacman -S extra/nginx                   <span class=c1># Từ repo cụ thể</span>
</span></span><span class=line><span class=cl>pacman -Ss nginx                        <span class=c1># Tìm kiếm repos</span>
</span></span><span class=line><span class=cl>pacman -Si nginx                        <span class=c1># Thông tin từ repos</span>
</span></span><span class=line><span class=cl>pacman -Sg base-devel                   <span class=c1># Hiện gói trong group</span>
</span></span><span class=line><span class=cl>pacman -S base-devel                    <span class=c1># Cài group</span>
</span></span><span class=line><span class=cl>pacman -Sw nginx                        <span class=c1># Chỉ tải về</span>
</span></span><span class=line><span class=cl>pacman -Sc                              <span class=c1># Dọn cache (giữ phiên bản đã cài)</span>
</span></span><span class=line><span class=cl>pacman -Scc                             <span class=c1># Dọn tất cả cache</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Truy vấn database cục bộ</span>
</span></span><span class=line><span class=cl>pacman -Q                               <span class=c1># Liệt kê đã cài</span>
</span></span><span class=line><span class=cl>pacman -Qe                              <span class=c1># Cài rõ ràng</span>
</span></span><span class=line><span class=cl>pacman -Qd                              <span class=c1># Cài như phụ thuộc</span>
</span></span><span class=line><span class=cl>pacman -Qm                              <span class=c1># Foreign (AUR, thủ công)</span>
</span></span><span class=line><span class=cl>pacman -Qn                              <span class=c1># Từ repos chính thức</span>
</span></span><span class=line><span class=cl>pacman -Qs nginx                        <span class=c1># Tìm trong đã cài</span>
</span></span><span class=line><span class=cl>pacman -Qi nginx                        <span class=c1># Thông tin đã cài</span>
</span></span><span class=line><span class=cl>pacman -Ql nginx                        <span class=c1># Liệt kê files</span>
</span></span><span class=line><span class=cl>pacman -Qo /usr/bin/curl                <span class=c1># Gói nào sở hữu file</span>
</span></span><span class=line><span class=cl>pacman -Qk nginx                        <span class=c1># Kiểm tra tính toàn vẹn</span>
</span></span><span class=line><span class=cl>pacman -Qkk nginx                       <span class=c1># Kiểm tra + quyền</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ gói</span>
</span></span><span class=line><span class=cl>pacman -R nginx                         <span class=c1># Gỡ (giữ deps)</span>
</span></span><span class=line><span class=cl>pacman -Rs nginx                        <span class=c1># Gỡ + deps không dùng</span>
</span></span><span class=line><span class=cl>pacman -Rns nginx                       <span class=c1># Gỡ + deps + config</span>
</span></span><span class=line><span class=cl>pacman -Rsc nginx                       <span class=c1># Gỡ + tất cả gói phụ thuộc</span>
</span></span><span class=line><span class=cl>pacman -Rdd nginx                       <span class=c1># Buộc gỡ (bỏ qua deps) - NGUY HIỂM</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài từ file</span>
</span></span><span class=line><span class=cl>pacman -U package.pkg.tar.zst
</span></span><span class=line><span class=cl>pacman -U https://example.com/package.pkg.tar.zst
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Database files</span>
</span></span><span class=line><span class=cl>pacman -Fy                              <span class=c1># Đồng bộ database files</span>
</span></span><span class=line><span class=cl>pacman -F curl                          <span class=c1># Tìm gói chứa file</span>
</span></span><span class=line><span class=cl>pacman -Fl nginx                        <span class=c1># Liệt kê files trong gói repo</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thao tác database</span>
</span></span><span class=line><span class=cl>pacman -D --asdeps nginx                <span class=c1># Đánh dấu là phụ thuộc</span>
</span></span><span class=line><span class=cl>pacman -D --asexplicit nginx            <span class=c1># Đánh dấu là rõ ràng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cờ phổ biến:</span>
</span></span><span class=line><span class=cl>--noconfirm                             <span class=c1># Bỏ qua xác nhận</span>
</span></span><span class=line><span class=cl>--needed                                <span class=c1># Bỏ qua nếu đã cài</span>
</span></span><span class=line><span class=cl>--overwrite                             <span class=c1># Ghi đè files xung đột</span></span></span></code></pre></div><h3 class=heading-element id=42-cấu-hình-pacman><span>4.2 Cấu Hình Pacman</span>
<a href=#42-c%e1%ba%a5u-h%c3%acnh-pacman class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># File cấu hình: /etc/pacman.conf</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>options<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>HoldPkg</span>     <span class=o>=</span> pacman glibc
</span></span><span class=line><span class=cl><span class=nv>Architecture</span> <span class=o>=</span> auto
</span></span><span class=line><span class=cl>CheckSpace                              <span class=c1># Kiểm tra dung lượng đĩa</span>
</span></span><span class=line><span class=cl><span class=nv>ParallelDownloads</span> <span class=o>=</span> <span class=m>5</span>                   <span class=c1># Tải song song</span>
</span></span><span class=line><span class=cl>Color                                   <span class=c1># Output có màu</span>
</span></span><span class=line><span class=cl>ILoveCandy                              <span class=c1># Kiểu thanh tiến trình :)</span>
</span></span><span class=line><span class=cl><span class=c1>#NoUpgrade   = etc/pacman.conf          # Không nâng cấp các file này</span>
</span></span><span class=line><span class=cl><span class=c1>#NoExtract   = usr/share/man/*          # Không giải nén các file này</span>
</span></span><span class=line><span class=cl><span class=nv>IgnorePkg</span>   <span class=o>=</span> linux linux-headers       <span class=c1># Không nâng cấp các gói này</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Repositories</span>
</span></span><span class=line><span class=cl><span class=o>[</span>core<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Include</span> <span class=o>=</span> /etc/pacman.d/mirrorlist
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>extra<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Include</span> <span class=o>=</span> /etc/pacman.d/mirrorlist
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>multilib<span class=o>]</span>                              <span class=c1># Thư viện 32-bit</span>
</span></span><span class=line><span class=cl><span class=nv>Include</span> <span class=o>=</span> /etc/pacman.d/mirrorlist
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mirrorlist: /etc/pacman.d/mirrorlist</span>
</span></span><span class=line><span class=cl><span class=nv>Server</span> <span class=o>=</span> https://mirror.example.com/archlinux/<span class=nv>$repo</span>/os/<span class=nv>$arch</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cập nhật mirrorlist (dùng reflector)</span>
</span></span><span class=line><span class=cl>reflector --country US --age <span class=m>12</span> --protocol https --sort rate --save /etc/pacman.d/mirrorlist</span></span></code></pre></div><h3 class=heading-element id=43-aur-arch-user-repository><span>4.3 AUR (Arch User Repository)</span>
<a href=#43-aur-arch-user-repository class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    GIẢI THÍCH AUR                           │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>AUR = Script build do người dùng gửi (PKGBUILD)
</span></span><span class=line><span class=cl>- KHÔNG phải gói đã build sẵn
</span></span><span class=line><span class=cl>- Xem xét PKGBUILD trước khi build (bảo mật!)
</span></span><span class=line><span class=cl>- Cộng đồng duy trì
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│  Quy trình cài đặt gói AUR:                                 │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│  1. Tải PKGBUILD và các files liên quan                     │
</span></span><span class=line><span class=cl>│  2. Xem xét PKGBUILD (kiểm tra bảo mật!)                    │
</span></span><span class=line><span class=cl>│  3. makepkg build gói                                       │
</span></span><span class=line><span class=cl>│  4. pacman -U cài gói đã build                              │
</span></span><span class=line><span class=cl>│                                                             │
</span></span><span class=line><span class=cl>│  AUR Helpers tự động hóa quy trình này                      │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cài đặt AUR thủ công</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> /tmp
</span></span><span class=line><span class=cl>git clone https://aur.archlinux.org/package-name.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> package-name
</span></span><span class=line><span class=cl>less PKGBUILD                           <span class=c1># XEM XÉT TRƯỚC!</span>
</span></span><span class=line><span class=cl>makepkg -si                             <span class=c1># Build và cài</span>
</span></span><span class=line><span class=cl><span class=c1># -s: Cài phụ thuộc</span>
</span></span><span class=line><span class=cl><span class=c1># -i: Cài sau khi build</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># AUR Helpers (tự động hóa quy trình)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># yay (Yet Another Yogurt)</span>
</span></span><span class=line><span class=cl>yay -S package-name                     <span class=c1># Cài từ AUR</span>
</span></span><span class=line><span class=cl>yay -Syu                                <span class=c1># Cập nhật tất cả (chính thức + AUR)</span>
</span></span><span class=line><span class=cl>yay -Ss package-name                    <span class=c1># Tìm kiếm AUR</span>
</span></span><span class=line><span class=cl>yay -Si package-name                    <span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>yay -Rns package-name                   <span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># paru (thay thế yay, viết bằng Rust)</span>
</span></span><span class=line><span class=cl>paru -S package-name
</span></span><span class=line><span class=cl>paru -Syu
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài yay</span>
</span></span><span class=line><span class=cl>pacman -S --needed git base-devel
</span></span><span class=line><span class=cl>git clone https://aur.archlinux.org/yay.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> yay
</span></span><span class=line><span class=cl>makepkg -si
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ví dụ PKGBUILD:</span>
</span></span><span class=line><span class=cl><span class=c1># pkgname=mypackage</span>
</span></span><span class=line><span class=cl><span class=c1># pkgver=1.0.0</span>
</span></span><span class=line><span class=cl><span class=c1># pkgrel=1</span>
</span></span><span class=line><span class=cl><span class=c1># pkgdesc=&#34;Mô tả gói của tôi&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># arch=(&#39;x86_64&#39;)</span>
</span></span><span class=line><span class=cl><span class=c1># url=&#34;https://example.com&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># license=(&#39;GPL&#39;)</span>
</span></span><span class=line><span class=cl><span class=c1># depends=(&#39;dep1&#39; &#39;dep2&#39;)</span>
</span></span><span class=line><span class=cl><span class=c1># makedepends=(&#39;cmake&#39; &#39;git&#39;)</span>
</span></span><span class=line><span class=cl><span class=c1># source=(&#34;https://example.com/source.tar.gz&#34;)</span>
</span></span><span class=line><span class=cl><span class=c1># sha256sums=(&#39;...&#39;)</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># build() {</span>
</span></span><span class=line><span class=cl><span class=c1>#     cd &#34;$srcdir/$pkgname-$pkgver&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#     make</span>
</span></span><span class=line><span class=cl><span class=c1># }</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># package() {</span>
</span></span><span class=line><span class=cl><span class=c1>#     cd &#34;$srcdir/$pkgname-$pkgver&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#     make DESTDIR=&#34;$pkgdir/&#34; install</span>
</span></span><span class=line><span class=cl><span class=c1># }</span></span></span></code></pre></div><hr><h2 class=heading-element id=phần-5-opensuse---zypper><span>PHẦN 5: OPENSUSE - ZYPPER</span>
<a href=#ph%e1%ba%a7n-5-opensuse---zypper class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=51-cơ-bản-zypper><span>5.1 Cơ Bản Zypper</span>
<a href=#51-c%c6%a1-b%e1%ba%a3n-zypper class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    TÍNH NĂNG ZYPPER                         │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Zypper = Package manager cho openSUSE/SLES
</span></span><span class=line><span class=cl>- Dùng libsolv (giống DNF) để giải quyết phụ thuộc
</span></span><span class=line><span class=cl>- Patterns (như groups/metapackages)
</span></span><span class=line><span class=cl>- CLI mạnh mẽ
</span></span><span class=line><span class=cl>- YaST GUI thay thế</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Làm mới repositories</span>
</span></span><span class=line><span class=cl>zypper refresh                          <span class=c1># Làm mới tất cả repos</span>
</span></span><span class=line><span class=cl>zypper ref                              <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper ref -f                           <span class=c1># Buộc làm mới</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm kiếm</span>
</span></span><span class=line><span class=cl>zypper search nginx                     <span class=c1># Tìm kiếm</span>
</span></span><span class=line><span class=cl>zypper se nginx                         <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper se -i nginx                      <span class=c1># Chỉ đã cài</span>
</span></span><span class=line><span class=cl>zypper se -u nginx                      <span class=c1># Chưa cài</span>
</span></span><span class=line><span class=cl>zypper se --provides <span class=s2>&#34;webserver&#34;</span>        <span class=c1># Tìm theo capability</span>
</span></span><span class=line><span class=cl>zypper se --requires <span class=s2>&#34;libssl&#34;</span>           <span class=c1># Tìm theo requirement</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>zypper info nginx
</span></span><span class=line><span class=cl>zypper <span class=k>if</span> nginx                         <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>zypper install nginx
</span></span><span class=line><span class=cl>zypper in nginx                         <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper in nginx apache2 php             <span class=c1># Nhiều gói</span>
</span></span><span class=line><span class=cl>zypper in <span class=nv>nginx</span><span class=o>=</span>1.20.1                  <span class=c1># Phiên bản cụ thể</span>
</span></span><span class=line><span class=cl>zypper in ./package.rpm                 <span class=c1># File cục bộ</span>
</span></span><span class=line><span class=cl>zypper in -y nginx                      <span class=c1># Tự động yes</span>
</span></span><span class=line><span class=cl>zypper in --no-recommends nginx         <span class=c1># Bỏ qua recommends</span>
</span></span><span class=line><span class=cl>zypper in --download-only nginx         <span class=c1># Chỉ tải về</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>zypper remove nginx
</span></span><span class=line><span class=cl>zypper rm nginx                         <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper rm -u nginx                      <span class=c1># Gỡ + deps không dùng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cập nhật</span>
</span></span><span class=line><span class=cl>zypper update                           <span class=c1># Cập nhật tất cả</span>
</span></span><span class=line><span class=cl>zypper up                               <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper up nginx                         <span class=c1># Cập nhật cụ thể</span>
</span></span><span class=line><span class=cl>zypper list-updates                     <span class=c1># Liệt kê cập nhật có sẵn</span>
</span></span><span class=line><span class=cl>zypper lu                               <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nâng cấp distribution</span>
</span></span><span class=line><span class=cl>zypper dist-upgrade                     <span class=c1># Nâng cấp đầy đủ</span>
</span></span><span class=line><span class=cl>zypper dup                              <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê gói</span>
</span></span><span class=line><span class=cl>zypper packages                         <span class=c1># Tất cả gói</span>
</span></span><span class=line><span class=cl>zypper pa                               <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper packages --installed-only
</span></span><span class=line><span class=cl>zypper packages --uninstalled-only
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Patterns (nhóm gói)</span>
</span></span><span class=line><span class=cl>zypper patterns                         <span class=c1># Liệt kê patterns</span>
</span></span><span class=line><span class=cl>zypper pt                               <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper info --type pattern lamp_server
</span></span><span class=line><span class=cl>zypper in --type pattern lamp_server
</span></span><span class=line><span class=cl>zypper in -t pattern lamp_server        <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm gói cung cấp file</span>
</span></span><span class=line><span class=cl>zypper search --provides /usr/bin/curl
</span></span><span class=line><span class=cl>zypper se --provides --match-exact <span class=s2>&#34;libssl.so.1.1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm gói yêu cầu gói</span>
</span></span><span class=line><span class=cl>zypper search --requires nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Locks (ngăn cập nhật)</span>
</span></span><span class=line><span class=cl>zypper addlock nginx
</span></span><span class=line><span class=cl>zypper locks                            <span class=c1># Liệt kê locks</span>
</span></span><span class=line><span class=cl>zypper removelock nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dọn cache</span>
</span></span><span class=line><span class=cl>zypper clean                            <span class=c1># Dọn cache</span>
</span></span><span class=line><span class=cl>zypper clean -a                         <span class=c1># Dọn tất cả</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xác minh</span>
</span></span><span class=line><span class=cl>zypper verify                           <span class=c1># Kiểm tra phụ thuộc</span></span></span></code></pre></div><h3 class=heading-element id=52-quản-lý-repository-zypper><span>5.2 Quản Lý Repository Zypper</span>
<a href=#52-qu%e1%ba%a3n-l%c3%bd-repository-zypper class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Liệt kê repositories</span>
</span></span><span class=line><span class=cl>zypper repos                            <span class=c1># Liệt kê repos</span>
</span></span><span class=line><span class=cl>zypper lr                               <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper lr -d                            <span class=c1># Với chi tiết</span>
</span></span><span class=line><span class=cl>zypper lr -u                            <span class=c1># Với URLs</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thêm repository</span>
</span></span><span class=line><span class=cl>zypper addrepo URL <span class=nb>alias</span>
</span></span><span class=line><span class=cl>zypper ar URL <span class=nb>alias</span>                     <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>zypper ar -f URL <span class=nb>alias</span>                  <span class=c1># Tự động làm mới</span>
</span></span><span class=line><span class=cl>zypper ar -G URL <span class=nb>alias</span>                  <span class=c1># Không kiểm tra GPG</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xóa repository</span>
</span></span><span class=line><span class=cl>zypper removerepo <span class=nb>alias</span>
</span></span><span class=line><span class=cl>zypper rr <span class=nb>alias</span>                         <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Bật/tắt repository</span>
</span></span><span class=line><span class=cl>zypper modifyrepo -e <span class=nb>alias</span>              <span class=c1># Bật</span>
</span></span><span class=line><span class=cl>zypper modifyrepo -d <span class=nb>alias</span>              <span class=c1># Tắt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Đổi tên repository</span>
</span></span><span class=line><span class=cl>zypper renamerepo old-alias new-alias
</span></span><span class=line><span class=cl>zypper nr old-alias new-alias           <span class=c1># Dạng ngắn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ví dụ: Thêm Packman repo (multimedia)</span>
</span></span><span class=line><span class=cl>zypper ar -cfp <span class=m>90</span> https://ftp.gwdg.de/pub/linux/misc/packman/suse/openSUSE_Tumbleweed/ packman
</span></span><span class=line><span class=cl>zypper ref
</span></span><span class=line><span class=cl>zypper dup --from packman --allow-vendor-change</span></span></code></pre></div><hr><h2 class=heading-element id=phần-6-alpine---apk><span>PHẦN 6: ALPINE - APK</span>
<a href=#ph%e1%ba%a7n-6-alpine---apk class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=61-cơ-bản-apk><span>6.1 Cơ Bản APK</span>
<a href=#61-c%c6%a1-b%e1%ba%a3n-apk class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                    ALPINE APK                               │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>APK = Alpine Package Keeper
</span></span><span class=line><span class=cl>- Nhẹ (thiết kế cho containers, embedded)
</span></span><span class=line><span class=cl>- musl libc (không phải glibc)
</span></span><span class=line><span class=cl>- Tiện ích BusyBox
</span></span><span class=line><span class=cl>- Rất nhanh
</span></span><span class=line><span class=cl>- Kích thước gói nhỏ
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Phổ biến cho:
</span></span><span class=line><span class=cl>- Docker base images (alpine:latest ~5MB)
</span></span><span class=line><span class=cl>- Hệ thống embedded
</span></span><span class=line><span class=cl>- Môi trường tài nguyên hạn chế</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cập nhật chỉ mục gói</span>
</span></span><span class=line><span class=cl>apk update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm kiếm</span>
</span></span><span class=line><span class=cl>apk search nginx
</span></span><span class=line><span class=cl>apk search -v nginx                     <span class=c1># Verbose (với mô tả)</span>
</span></span><span class=line><span class=cl>apk search -e nginx                     <span class=c1># Khớp chính xác</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>apk info nginx
</span></span><span class=line><span class=cl>apk info -a nginx                       <span class=c1># Tất cả thông tin</span>
</span></span><span class=line><span class=cl>apk info -L nginx                       <span class=c1># Liệt kê files</span>
</span></span><span class=line><span class=cl>apk info -R nginx                       <span class=c1># Phụ thuộc</span>
</span></span><span class=line><span class=cl>apk info -r nginx                       <span class=c1># Phụ thuộc ngược</span>
</span></span><span class=line><span class=cl>apk info -W /usr/bin/curl               <span class=c1># Gói nào sở hữu file</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>apk add nginx
</span></span><span class=line><span class=cl>apk add nginx apache2 php               <span class=c1># Nhiều gói</span>
</span></span><span class=line><span class=cl>apk add <span class=nv>nginx</span><span class=o>=</span>1.20.1-r0                 <span class=c1># Phiên bản cụ thể</span>
</span></span><span class=line><span class=cl>apk add nginx~<span class=o>=</span>1.20                     <span class=c1># Ràng buộc phiên bản</span>
</span></span><span class=line><span class=cl>apk add --no-cache nginx                <span class=c1># Không cache (cho Docker)</span>
</span></span><span class=line><span class=cl>apk add --virtual .build-deps gcc make  <span class=c1># Gói ảo (dễ gỡ)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>apk del nginx
</span></span><span class=line><span class=cl>apk del --purge nginx                   <span class=c1># Gỡ + config</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nâng cấp</span>
</span></span><span class=line><span class=cl>apk upgrade                             <span class=c1># Nâng cấp tất cả</span>
</span></span><span class=line><span class=cl>apk upgrade nginx                       <span class=c1># Gói cụ thể</span>
</span></span><span class=line><span class=cl>apk upgrade --available                 <span class=c1># Tất cả nâng cấp có sẵn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê gói</span>
</span></span><span class=line><span class=cl>apk list                                <span class=c1># Tất cả có sẵn</span>
</span></span><span class=line><span class=cl>apk list -I                             <span class=c1># Đã cài</span>
</span></span><span class=line><span class=cl>apk list -u                             <span class=c1># Có thể nâng cấp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Quản lý cache</span>
</span></span><span class=line><span class=cl>apk cache clean                         <span class=c1># Dọn cache</span>
</span></span><span class=line><span class=cl>apk cache download                      <span class=c1># Tải tất cả gói đã cài</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sửa/xác minh</span>
</span></span><span class=line><span class=cl>apk fix                                 <span class=c1># Sửa/cài lại</span>
</span></span><span class=line><span class=cl>apk verify                              <span class=c1># Xác minh gói đã cài</span>
</span></span><span class=line><span class=cl>apk audit                               <span class=c1># Liệt kê files đã sửa đổi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Policy (repo nào cung cấp gói)</span>
</span></span><span class=line><span class=cl>apk policy nginx</span></span></code></pre></div><h3 class=heading-element id=62-cấu-hình-repository-apk><span>6.2 Cấu Hình Repository APK</span>
<a href=#62-c%e1%ba%a5u-h%c3%acnh-repository-apk class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cấu hình repository: /etc/apk/repositories</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nội dung ví dụ:</span>
</span></span><span class=line><span class=cl>https://dl-cdn.alpinelinux.org/alpine/v3.18/main
</span></span><span class=line><span class=cl>https://dl-cdn.alpinelinux.org/alpine/v3.18/community
</span></span><span class=line><span class=cl><span class=c1>#https://dl-cdn.alpinelinux.org/alpine/edge/main</span>
</span></span><span class=line><span class=cl><span class=c1>#https://dl-cdn.alpinelinux.org/alpine/edge/community</span>
</span></span><span class=line><span class=cl><span class=c1>#https://dl-cdn.alpinelinux.org/alpine/edge/testing</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Repositories:</span>
</span></span><span class=line><span class=cl><span class=c1># main      - Gói core, hỗ trợ chính thức</span>
</span></span><span class=line><span class=cl><span class=c1># community - Gói cộng đồng</span>
</span></span><span class=line><span class=cl><span class=c1># edge      - Rolling release (không ổn định)</span>
</span></span><span class=line><span class=cl><span class=c1># testing   - Gói thử nghiệm</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Bật community repo</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;https://dl-cdn.alpinelinux.org/alpine/v3.18/community&#34;</span> &gt;&gt; /etc/apk/repositories
</span></span><span class=line><span class=cl>apk update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Repository cục bộ</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;/media/cdrom/apks&#34;</span> &gt;&gt; /etc/apk/repositories</span></span></code></pre></div><h3 class=heading-element id=63-apk-trong-docker><span>6.3 APK trong Docker</span>
<a href=#63-apk-trong-docker class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=c># Best practices Dockerfile với Alpine</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>FROM</span><span class=w> </span><span class=s>alpine:3.18</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Cập nhật và cài trong một layer, dọn cache</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apk update <span class=o>&amp;&amp;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    apk add --no-cache <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        nginx <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        curl <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> rm -rf /var/cache/apk/*<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Hoặc dùng cờ --no-cache (khuyến nghị)</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apk add --no-cache nginx curl<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Build dependencies (cài rồi gỡ)</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apk add --no-cache --virtual .build-deps <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        gcc <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        musl-dev <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        python3-dev <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> pip install some-package <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> apk del .build-deps<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Kết quả: Image nhỏ hơn, không có package cache</span></span></span></code></pre></div><hr><h2 class=heading-element id=phần-7-hệ-thống-immutable---rpm-ostree><span>PHẦN 7: HỆ THỐNG IMMUTABLE - RPM-OSTREE</span>
<a href=#ph%e1%ba%a7n-7-h%e1%bb%87-th%e1%bb%91ng-immutable---rpm-ostree class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=71-khái-niệm-os-immutable><span>7.1 Khái Niệm OS Immutable</span>
<a href=#71-kh%c3%a1i-ni%e1%bb%87m-os-immutable class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>┌─────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                 <span class=n>KHÁI</span> <span class=n>NIỆM</span> <span class=ne>OS</span> <span class=n>IMMUTABLE</span>                      <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└─────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Linux</span> <span class=n>truyền</span> <span class=n>thống</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Root</span> <span class=n>filesystem</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>ghi</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Gói</span> <span class=n>sửa</span> <span class=err>đổ</span><span class=n>i</span> <span class=o>/</span><span class=n>usr</span><span class=p>,</span> <span class=o>/</span><span class=n>etc</span> <span class=n>trực</span> <span class=n>tiếp</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Thay</span> <span class=err>đổ</span><span class=n>i</span> <span class=n>xảy</span> <span class=n>ra</span> <span class=n>tại</span> <span class=n>chỗ</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Rollback</span> <span class=n>khó</span> <span class=n>khăn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Linux</span> <span class=n>Immutable</span><span class=o>/</span><span class=n>Dựa</span> <span class=n>trên</span> <span class=n>image</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Root</span> <span class=n>filesystem</span> <span class=n>chỉ</span> <span class=err>đọ</span><span class=n>c</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Hệ</span> <span class=n>thống</span> <span class=n>cập</span> <span class=n>nhật</span> <span class=n>nguyên</span> <span class=n>tử</span> <span class=p>(</span><span class=n>tất</span> <span class=n>cả</span> <span class=n>hoặc</span> <span class=n>không</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Nhiều</span> <span class=n>phiên</span> <span class=n>bản</span> <span class=n>hệ</span> <span class=n>thống</span> <span class=p>(</span><span class=n>như</span> <span class=n>Git</span> <span class=n>commits</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Dễ</span> <span class=n>dàng</span> <span class=n>rollback</span> <span class=n>về</span> <span class=n>phiên</span> <span class=n>bản</span> <span class=n>trước</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=err>Ứ</span><span class=n>ng</span> <span class=n>dụng</span> <span class=n>qua</span> <span class=n>Flatpak</span><span class=o>/</span><span class=n>containers</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>┌────────────────────────────────────────────────────────────┐</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                            <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=n>Truyền</span> <span class=n>thống</span>            <span class=n>Immutable</span> <span class=p>(</span><span class=n>OSTree</span><span class=p>)</span>                <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>┌──────────┐</span>              <span class=err>┌──────────┐</span>                    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span> <span class=o>/</span><span class=n>usr</span>     <span class=err>│</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>ghi</span>   <span class=err>│</span> <span class=o>/</span><span class=n>usr</span>     <span class=err>│</span> <span class=n>chỉ</span> <span class=err>đọ</span><span class=n>c</span>            <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span> <span class=o>/</span><span class=n>etc</span>     <span class=err>│</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>ghi</span>   <span class=err>│</span> <span class=o>/</span><span class=n>etc</span>     <span class=err>│</span> <span class=n>overlay</span> <span class=n>hợp</span> <span class=n>nhất</span>   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span> <span class=o>/</span><span class=k>var</span>     <span class=err>│</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>ghi</span>   <span class=err>│</span> <span class=o>/</span><span class=k>var</span>     <span class=err>│</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>ghi</span>         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>│</span> <span class=o>/</span><span class=n>home</span>    <span class=err>│</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>ghi</span>   <span class=err>│</span> <span class=o>/</span><span class=n>home</span>    <span class=err>│</span> <span class=n>có</span> <span class=n>thể</span> <span class=n>ghi</span>         <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=err>└──────────┘</span>              <span class=err>└──────────┘</span>                    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                            <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=n>Cập</span> <span class=n>nhật</span><span class=p>:</span> <span class=n>dnf</span> <span class=n>update</span>      <span class=n>Cập</span> <span class=n>nhật</span><span class=p>:</span> <span class=n>rpm</span><span class=o>-</span><span class=n>ostree</span> <span class=n>upgrade</span>    <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=p>(</span><span class=n>sửa</span> <span class=n>tại</span> <span class=n>chỗ</span><span class=p>)</span>             <span class=p>(</span><span class=n>nguyên</span> <span class=n>tử</span><span class=p>,</span> <span class=n>tạo</span> <span class=n>commit</span> <span class=n>mới</span><span class=p>)</span>     <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                            <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>  <span class=n>Rollback</span><span class=p>:</span> <span class=err>???</span> <span class=p>(</span><span class=n>khó</span><span class=p>)</span>       <span class=n>Rollback</span><span class=p>:</span> <span class=n>rpm</span><span class=o>-</span><span class=n>ostree</span> <span class=n>rollback</span>   <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>│</span>                                                            <span class=err>│</span>
</span></span><span class=line><span class=cl><span class=err>└────────────────────────────────────────────────────────────┘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Distributions</span> <span class=n>dùng</span> <span class=n>rpm</span><span class=o>-</span><span class=n>ostree</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Fedora</span> <span class=n>Silverblue</span> <span class=p>(</span><span class=n>Workstation</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Fedora</span> <span class=n>Kinoite</span> <span class=p>(</span><span class=n>KDE</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Fedora</span> <span class=n>CoreOS</span> <span class=p>(</span><span class=n>Server</span><span class=o>/</span><span class=ne>Container</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>RHEL</span> <span class=n>CoreOS</span> <span class=p>(</span><span class=n>OpenShift</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=n>Universal</span> <span class=n>Blue</span> <span class=p>(</span><span class=n>custom</span> <span class=n>images</span><span class=p>)</span></span></span></code></pre></div><h3 class=heading-element id=72-các-lệnh-rpm-ostree><span>7.2 Các Lệnh rpm-ostree</span>
<a href=#72-c%c3%a1c-l%e1%bb%87nh-rpm-ostree class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Trạng thái hệ thống</span>
</span></span><span class=line><span class=cl>rpm-ostree status
</span></span><span class=line><span class=cl><span class=c1># State: idle (Trạng thái: rảnh)</span>
</span></span><span class=line><span class=cl><span class=c1># Deployments: (Triển khai)</span>
</span></span><span class=line><span class=cl><span class=c1># ● fedora:fedora/39/x86_64/silverblue</span>
</span></span><span class=line><span class=cl><span class=c1>#     Version: 39.20231120.0 (2023-11-20T00:48:39Z)</span>
</span></span><span class=line><span class=cl><span class=c1>#     Commit: 8a7b3c4d...</span>
</span></span><span class=line><span class=cl><span class=c1>#     GPGSignature: Valid signature by ... (Chữ ký hợp lệ)</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1>#   fedora:fedora/39/x86_64/silverblue</span>
</span></span><span class=line><span class=cl><span class=c1>#     Version: 39.20231115.0 (2023-11-15T00:48:39Z)</span>
</span></span><span class=line><span class=cl><span class=c1>#     Commit: 5e6f7g8h...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nâng cấp hệ thống</span>
</span></span><span class=line><span class=cl>rpm-ostree upgrade                      <span class=c1># Tải và chuẩn bị nâng cấp</span>
</span></span><span class=line><span class=cl>rpm-ostree upgrade --check              <span class=c1># Chỉ kiểm tra cập nhật</span>
</span></span><span class=line><span class=cl>rpm-ostree upgrade --preview            <span class=c1># Xem trước thay đổi</span>
</span></span><span class=line><span class=cl>systemctl reboot                        <span class=c1># Áp dụng (cần khởi động lại)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Rollback về deployment trước</span>
</span></span><span class=line><span class=cl>rpm-ostree rollback
</span></span><span class=line><span class=cl>systemctl reboot
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt gói (layered)</span>
</span></span><span class=line><span class=cl>rpm-ostree install vim htop
</span></span><span class=line><span class=cl>systemctl reboot                        <span class=c1># Áp dụng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ gói layered</span>
</span></span><span class=line><span class=cl>rpm-ostree uninstall vim
</span></span><span class=line><span class=cl>systemctl reboot
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ghi đè gói base</span>
</span></span><span class=line><span class=cl>rpm-ostree override remove firefox      <span class=c1># Xóa khỏi base</span>
</span></span><span class=line><span class=cl>rpm-ostree override replace ./package.rpm  <span class=c1># Thay thế bằng cục bộ</span>
</span></span><span class=line><span class=cl>rpm-ostree override reset firefox       <span class=c1># Reset về phiên bản base</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê gói layered</span>
</span></span><span class=line><span class=cl>rpm-ostree status --json <span class=p>|</span> jq <span class=s1>&#39;.deployments[0].packages&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tạo lại initramfs</span>
</span></span><span class=line><span class=cl>rpm-ostree initramfs --enable           <span class=c1># Bật initramfs tùy chỉnh</span>
</span></span><span class=line><span class=cl>rpm-ostree initramfs --disable          <span class=c1># Dùng initramfs stock</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kargs (tham số kernel)</span>
</span></span><span class=line><span class=cl>rpm-ostree kargs --append<span class=o>=</span>quiet
</span></span><span class=line><span class=cl>rpm-ostree kargs --delete<span class=o>=</span>quiet
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dọn dẹp deployments cũ</span>
</span></span><span class=line><span class=cl>rpm-ostree cleanup -p                   <span class=c1># Deployments đang chờ</span>
</span></span><span class=line><span class=cl>rpm-ostree cleanup -r                   <span class=c1># Deployments rollback</span>
</span></span><span class=line><span class=cl>rpm-ostree cleanup -m                   <span class=c1># Cache gói</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Rebase sang image khác</span>
</span></span><span class=line><span class=cl>rpm-ostree rebase fedora:fedora/40/x86_64/silverblue
</span></span><span class=line><span class=cl>rpm-ostree rebase ostree-unverified-registry:ghcr.io/ublue-os/bazzite:latest
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cập nhật live (thử nghiệm, không cần reboot)</span>
</span></span><span class=line><span class=cl>rpm-ostree upgrade --apply-live
</span></span><span class=line><span class=cl>rpm-ostree install --apply-live vim</span></span></code></pre></div><h3 class=heading-element id=73-flatpak-cho-ứng-dụng><span>7.3 Flatpak cho Ứng Dụng</span>
<a href=#73-flatpak-cho-%e1%bb%a9ng-d%e1%bb%a5ng class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Trên hệ thống immutable, dùng Flatpak cho ứng dụng người dùng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài Flatpak (thường đã cài sẵn trên Silverblue)</span>
</span></span><span class=line><span class=cl>rpm-ostree install flatpak
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thêm Flathub repository</span>
</span></span><span class=line><span class=cl>flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm kiếm</span>
</span></span><span class=line><span class=cl>flatpak search firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>flatpak install flathub org.mozilla.firefox
</span></span><span class=line><span class=cl>flatpak install flathub com.spotify.Client
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Chạy</span>
</span></span><span class=line><span class=cl>flatpak run org.mozilla.firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê đã cài</span>
</span></span><span class=line><span class=cl>flatpak list
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cập nhật</span>
</span></span><span class=line><span class=cl>flatpak update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>flatpak uninstall org.mozilla.firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dọn runtimes không dùng</span>
</span></span><span class=line><span class=cl>flatpak uninstall --unused</span></span></code></pre></div><hr><h2 class=heading-element id=phần-8-gói-universal><span>PHẦN 8: GÓI UNIVERSAL</span>
<a href=#ph%e1%ba%a7n-8-g%c3%b3i-universal class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=81-so-sánh-định-dạng-gói><span>8.1 So Sánh Định Dạng Gói</span>
<a href=#81-so-s%c3%a1nh-%c4%91%e1%bb%8bnh-d%e1%ba%a1ng-g%c3%b3i class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌──────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│               ĐỊNH DẠNG GÓI UNIVERSAL                        │
</span></span><span class=line><span class=cl>└──────────────────────────────────────────────────────────────┘</span></span></code></pre></div><table><thead><tr><th></th><th>Flatpak</th><th>Snap</th><th>AppImage</th></tr></thead><tbody><tr><td>Nhà phát triển</td><td>Red Hat</td><td>Canonical</td><td>Cộng đồng</td></tr><tr><td>Sandboxing</td><td>Có(Bubblewrap)</td><td>Có(AppArmor)</td><td>Tùy chọn</td></tr><tr><td>Runtime</td><td>Runtimes chung</td><td>Đóng gói</td><td>Đóng gói</td></tr><tr><td>Cập nhật</td><td>Delta updates</td><td>Delta updates</td><td>Thủ công</td></tr><tr><td>Desktop</td><td>Xuất sắc</td><td>Tốt</td><td>Cơ bản</td></tr><tr><td>Server</td><td>Hạn chế</td><td>Tốt</td><td>Hạn chế</td></tr><tr><td>Kích thước</td><td>Trung bình</td><td>Lớn</td><td>Khác nhau</td></tr><tr><td>Loại bỏ trùng</td><td>Có (OSTree)</td><td>Không</td><td>Không</td></tr><tr><td>Store</td><td>Flathub</td><td>Snap Store</td><td>appimagehub</td></tr><tr><td>Offline</td><td>Thủ công</td><td>Thủ công</td><td>Dễ</td></tr><tr><td>Quyền</td><td>Portals</td><td>Interfaces</td><td>Truy cập đầy đủ</td></tr></tbody></table><h3 class=heading-element id=82-flatpak><span>8.2 Flatpak</span>
<a href=#82-flatpak class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cài Flatpak</span>
</span></span><span class=line><span class=cl><span class=c1># Debian/Ubuntu:</span>
</span></span><span class=line><span class=cl>apt install flatpak
</span></span><span class=line><span class=cl>apt install gnome-software-plugin-flatpak  <span class=c1># Tích hợp GUI</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Fedora (thường đã cài sẵn):</span>
</span></span><span class=line><span class=cl>dnf install flatpak
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Arch:</span>
</span></span><span class=line><span class=cl>pacman -S flatpak
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thêm Flathub repository</span>
</span></span><span class=line><span class=cl>flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Khởi động lại hoặc đăng nhập lại để cập nhật PATH</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm kiếm gói</span>
</span></span><span class=line><span class=cl>flatpak search firefox
</span></span><span class=line><span class=cl>flatpak search --columns<span class=o>=</span>all firefox    <span class=c1># Tất cả cột</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>flatpak install flathub org.mozilla.firefox
</span></span><span class=line><span class=cl>flatpak install flathub org.mozilla.firefox//stable  <span class=c1># Branch cụ thể</span>
</span></span><span class=line><span class=cl>flatpak install --user flathub org.mozilla.firefox   <span class=c1># Cài cho user</span>
</span></span><span class=line><span class=cl>flatpak install ./app.flatpak           <span class=c1># File cục bộ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Chạy</span>
</span></span><span class=line><span class=cl>flatpak run org.mozilla.firefox
</span></span><span class=line><span class=cl>flatpak run --command<span class=o>=</span>bash org.mozilla.firefox  <span class=c1># Shell bên trong</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê</span>
</span></span><span class=line><span class=cl>flatpak list                            <span class=c1># Tất cả đã cài</span>
</span></span><span class=line><span class=cl>flatpak list --app                      <span class=c1># Chỉ apps</span>
</span></span><span class=line><span class=cl>flatpak list --runtime                  <span class=c1># Chỉ runtimes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>flatpak info org.mozilla.firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cập nhật</span>
</span></span><span class=line><span class=cl>flatpak update                          <span class=c1># Cập nhật tất cả</span>
</span></span><span class=line><span class=cl>flatpak update org.mozilla.firefox      <span class=c1># Cụ thể</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>flatpak uninstall org.mozilla.firefox
</span></span><span class=line><span class=cl>flatpak uninstall --unused              <span class=c1># Gỡ runtimes không dùng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Quyền</span>
</span></span><span class=line><span class=cl>flatpak permissions org.mozilla.firefox
</span></span><span class=line><span class=cl>flatpak override --user --filesystem<span class=o>=</span>home org.mozilla.firefox
</span></span><span class=line><span class=cl>flatpak override --user --nofilesystem<span class=o>=</span>home org.mozilla.firefox
</span></span><span class=line><span class=cl>flatpak override --reset org.mozilla.firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Lịch sử</span>
</span></span><span class=line><span class=cl>flatpak <span class=nb>history</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Quản lý remote</span>
</span></span><span class=line><span class=cl>flatpak remotes                         <span class=c1># Liệt kê remotes</span>
</span></span><span class=line><span class=cl>flatpak remote-add name URL
</span></span><span class=line><span class=cl>flatpak remote-delete name
</span></span><span class=line><span class=cl>flatpak remote-modify --enable name
</span></span><span class=line><span class=cl>flatpak remote-info flathub org.mozilla.firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Khắc phục sự cố</span>
</span></span><span class=line><span class=cl>flatpak repair                          <span class=c1># Sửa cài đặt</span>
</span></span><span class=line><span class=cl>flatpak repair --user</span></span></code></pre></div><h3 class=heading-element id=83-snap><span>8.3 Snap</span>
<a href=#83-snap class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Cài snapd</span>
</span></span><span class=line><span class=cl><span class=c1># Debian/Ubuntu (thường đã cài sẵn):</span>
</span></span><span class=line><span class=cl>apt install snapd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Fedora:</span>
</span></span><span class=line><span class=cl>dnf install snapd
</span></span><span class=line><span class=cl>ln -s /var/lib/snapd/snap /snap
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Arch:</span>
</span></span><span class=line><span class=cl><span class=c1># Từ AUR: yay -S snapd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm kiếm</span>
</span></span><span class=line><span class=cl>snap find firefox
</span></span><span class=line><span class=cl>snap info firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>snap install firefox
</span></span><span class=line><span class=cl>snap install firefox --channel<span class=o>=</span>latest/stable
</span></span><span class=line><span class=cl>snap install firefox --classic           <span class=c1># Classic confinement (truy cập nhiều hơn)</span>
</span></span><span class=line><span class=cl>snap install firefox --devmode           <span class=c1># Chế độ development</span>
</span></span><span class=line><span class=cl>snap install ./app.snap --dangerous      <span class=c1># File cục bộ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Chạy</span>
</span></span><span class=line><span class=cl>firefox                                  <span class=c1># Thường trong PATH</span>
</span></span><span class=line><span class=cl>snap run firefox                         <span class=c1># Rõ ràng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê</span>
</span></span><span class=line><span class=cl>snap list
</span></span><span class=line><span class=cl>snap list --all                          <span class=c1># Bao gồm disabled</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>snap info firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cập nhật</span>
</span></span><span class=line><span class=cl>snap refresh                             <span class=c1># Cập nhật tất cả</span>
</span></span><span class=line><span class=cl>snap refresh firefox                     <span class=c1># Cụ thể</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>snap remove firefox
</span></span><span class=line><span class=cl>snap remove --purge firefox              <span class=c1># Gỡ + dữ liệu</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Quay lại</span>
</span></span><span class=line><span class=cl>snap revert firefox                      <span class=c1># Quay về phiên bản trước</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Bật/tắt</span>
</span></span><span class=line><span class=cl>snap disable firefox
</span></span><span class=line><span class=cl>snap <span class=nb>enable</span> firefox
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Connections (quyền)</span>
</span></span><span class=line><span class=cl>snap connections firefox
</span></span><span class=line><span class=cl>snap connect firefox:home
</span></span><span class=line><span class=cl>snap disconnect firefox:home
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Services (cho snap daemons)</span>
</span></span><span class=line><span class=cl>snap services
</span></span><span class=line><span class=cl>snap start snap-name.service
</span></span><span class=line><span class=cl>snap stop snap-name.service
</span></span><span class=line><span class=cl>snap restart snap-name.service
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Channels</span>
</span></span><span class=line><span class=cl>snap switch firefox --channel<span class=o>=</span>beta
</span></span><span class=line><span class=cl>snap refresh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Changes/lịch sử</span>
</span></span><span class=line><span class=cl>snap changes
</span></span><span class=line><span class=cl>snap change <span class=m>123</span>                          <span class=c1># Chi tiết của change 123</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Snapshots</span>
</span></span><span class=line><span class=cl>snap save firefox                        <span class=c1># Tạo snapshot</span>
</span></span><span class=line><span class=cl>snap saved                               <span class=c1># Liệt kê snapshots</span>
</span></span><span class=line><span class=cl>snap restore <span class=m>1</span>                           <span class=c1># Khôi phục snapshot</span>
</span></span><span class=line><span class=cl>snap forget <span class=m>1</span>                            <span class=c1># Xóa snapshot</span></span></span></code></pre></div><h3 class=heading-element id=84-appimage><span>8.4 AppImage</span>
<a href=#84-appimage class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># AppImage = File thực thi đơn, không cần cài đặt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tải AppImage</span>
</span></span><span class=line><span class=cl>wget https://example.com/App.AppImage
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cấp quyền thực thi</span>
</span></span><span class=line><span class=cl>chmod +x App.AppImage
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Chạy</span>
</span></span><span class=line><span class=cl>./App.AppImage
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giải nén (nếu cần)</span>
</span></span><span class=line><span class=cl>./App.AppImage --appimage-extract
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tích hợp desktop (tùy chọn)</span>
</span></span><span class=line><span class=cl><span class=c1># Dùng appimaged hoặc AppImageLauncher để tự động tích hợp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># AppImageLauncher</span>
</span></span><span class=line><span class=cl><span class=c1># Debian/Ubuntu:</span>
</span></span><span class=line><span class=cl>apt install appimagelauncher
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Arch:</span>
</span></span><span class=line><span class=cl>pacman -S appimagelauncher
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># File desktop thủ công:</span>
</span></span><span class=line><span class=cl>cat &gt; ~/.local/share/applications/myapp.desktop <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>[Desktop Entry]
</span></span></span><span class=line><span class=cl><span class=s>Type=Application
</span></span></span><span class=line><span class=cl><span class=s>Name=MyApp
</span></span></span><span class=line><span class=cl><span class=s>Exec=/path/to/App.AppImage
</span></span></span><span class=line><span class=cl><span class=s>Icon=myapp
</span></span></span><span class=line><span class=cl><span class=s>Categories=Utility;
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Quản lý AppImage với appimageupdatetool</span>
</span></span><span class=line><span class=cl>wget https://github.com/AppImage/AppImageUpdate/releases/download/continuous/appimageupdatetool-x86_64.AppImage
</span></span><span class=line><span class=cl>chmod +x appimageupdatetool-x86_64.AppImage
</span></span><span class=line><span class=cl>./appimageupdatetool-x86_64.AppImage App.AppImage
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sandboxing AppImage (với Firejail)</span>
</span></span><span class=line><span class=cl>firejail --appimage ./App.AppImage</span></span></code></pre></div><hr><h2 class=heading-element id=phần-9-từ-mã-nguồn--thủ-công><span>PHẦN 9: TỪ MÃ NGUỒN & THỦ CÔNG</span>
<a href=#ph%e1%ba%a7n-9-t%e1%bb%ab-m%c3%a3-ngu%e1%bb%93n--th%e1%bb%a7-c%c3%b4ng class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=91-build-từ-mã-nguồn><span>9.1 Build Từ Mã Nguồn</span>
<a href=#91-build-t%e1%bb%ab-m%c3%a3-ngu%e1%bb%93n class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Quy trình build chuẩn (autotools)</span>
</span></span><span class=line><span class=cl><span class=c1># 1. Tải mã nguồn</span>
</span></span><span class=line><span class=cl>wget https://example.com/package-1.0.tar.gz
</span></span><span class=line><span class=cl>tar xzf package-1.0.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> package-1.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. Cấu hình (kiểm tra phụ thuộc, đặt tùy chọn)</span>
</span></span><span class=line><span class=cl>./configure --help                      <span class=c1># Hiện tùy chọn</span>
</span></span><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/usr/local         <span class=c1># Vị trí cài đặt</span>
</span></span><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/usr/local --enable-feature --with-library<span class=o>=</span>/path
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. Build</span>
</span></span><span class=line><span class=cl>make                                    <span class=c1># Biên dịch</span>
</span></span><span class=line><span class=cl>make -j<span class=k>$(</span>nproc<span class=k>)</span>                         <span class=c1># Build song song</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. Test (tùy chọn)</span>
</span></span><span class=line><span class=cl>make check
</span></span><span class=line><span class=cl>make <span class=nb>test</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 5. Cài đặt</span>
</span></span><span class=line><span class=cl>sudo make install
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 6. Gỡ cài đặt (nếu Makefile hỗ trợ)</span>
</span></span><span class=line><span class=cl>sudo make uninstall
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Quy trình build CMake</span>
</span></span><span class=line><span class=cl>mkdir build <span class=o>&amp;&amp;</span> <span class=nb>cd</span> build
</span></span><span class=line><span class=cl>cmake .. -DCMAKE_INSTALL_PREFIX<span class=o>=</span>/usr/local -DENABLE_FEATURE<span class=o>=</span>ON
</span></span><span class=line><span class=cl>make -j<span class=k>$(</span>nproc<span class=k>)</span>
</span></span><span class=line><span class=cl>sudo make install
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Quy trình build Meson</span>
</span></span><span class=line><span class=cl>meson setup build --prefix<span class=o>=</span>/usr/local
</span></span><span class=line><span class=cl><span class=nb>cd</span> build
</span></span><span class=line><span class=cl>ninja
</span></span><span class=line><span class=cl>sudo ninja install
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài đặt build dependencies</span>
</span></span><span class=line><span class=cl><span class=c1># Debian/Ubuntu:</span>
</span></span><span class=line><span class=cl>apt build-dep nginx                     <span class=c1># Cài deps cho mã nguồn nginx</span>
</span></span><span class=line><span class=cl>apt install build-essential             <span class=c1># Công cụ build cơ bản</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Fedora:</span>
</span></span><span class=line><span class=cl>dnf builddep nginx
</span></span><span class=line><span class=cl>dnf groupinstall <span class=s2>&#34;Development Tools&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Arch:</span>
</span></span><span class=line><span class=cl>pacman -S base-devel</span></span></code></pre></div><h3 class=heading-element id=92-checkinstall---theo-dõi-cài-đặt-thủ-công><span>9.2 checkinstall - Theo Dõi Cài Đặt Thủ Công</span>
<a href=#92-checkinstall---theo-d%c3%b5i-c%c3%a0i-%c4%91%e1%ba%b7t-th%e1%bb%a7-c%c3%b4ng class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># checkinstall tạo gói từ &#34;make install&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># Cho phép gỡ cài đặt sạch qua package manager</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài checkinstall</span>
</span></span><span class=line><span class=cl>apt install checkinstall                <span class=c1># Debian/Ubuntu</span>
</span></span><span class=line><span class=cl>dnf install checkinstall                <span class=c1># Fedora</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sử dụng (thay vì &#34;make install&#34;)</span>
</span></span><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/usr
</span></span><span class=line><span class=cl>make
</span></span><span class=line><span class=cl>sudo checkinstall                       <span class=c1># Tương tác</span>
</span></span><span class=line><span class=cl><span class=c1># Tạo .deb hoặc .rpm và cài đặt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Không tương tác</span>
</span></span><span class=line><span class=cl>sudo checkinstall -y --pkgname<span class=o>=</span>mypackage --pkgversion<span class=o>=</span>1.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tùy chọn:</span>
</span></span><span class=line><span class=cl>--type<span class=o>=</span>debian                           <span class=c1># Buộc .deb</span>
</span></span><span class=line><span class=cl>--type<span class=o>=</span>rpm                              <span class=c1># Buộc .rpm</span>
</span></span><span class=line><span class=cl>--install<span class=o>=</span>no                            <span class=c1># Không cài, chỉ tạo gói</span>
</span></span><span class=line><span class=cl>--pkgname<span class=o>=</span>NAME
</span></span><span class=line><span class=cl>--pkgversion<span class=o>=</span>VERSION
</span></span><span class=line><span class=cl>--pkgrelease<span class=o>=</span>RELEASE
</span></span><span class=line><span class=cl>--maintainer<span class=o>=</span><span class=s2>&#34;email@example.com&#34;</span>
</span></span><span class=line><span class=cl>--requires<span class=o>=</span><span class=s2>&#34;dep1,dep2&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ví dụ workflow</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> nginx-1.20.1
</span></span><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/usr/local/nginx
</span></span><span class=line><span class=cl>make
</span></span><span class=line><span class=cl>sudo checkinstall -D --pkgname<span class=o>=</span>nginx-custom --pkgversion<span class=o>=</span>1.20.1 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --requires<span class=o>=</span><span class=s2>&#34;libpcre3,zlib1g,libssl1.1&#34;</span> make install
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Giờ bạn có thể:</span>
</span></span><span class=line><span class=cl>dpkg -l nginx-custom                    <span class=c1># Truy vấn</span>
</span></span><span class=line><span class=cl>dpkg -L nginx-custom                    <span class=c1># Liệt kê files</span>
</span></span><span class=line><span class=cl>apt remove nginx-custom                 <span class=c1># Gỡ cài đặt sạch</span></span></span></code></pre></div><h3 class=heading-element id=93-quản-lý-usrlocal><span>9.3 Quản Lý /usr/local</span>
<a href=#93-qu%e1%ba%a3n-l%c3%bd-usrlocal class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># /usr/local - Vị trí truyền thống cho phần mềm cài thủ công</span>
</span></span><span class=line><span class=cl><span class=c1># Tách riêng khỏi gói distribution</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cấu trúc thư mục (phản chiếu /usr):</span>
</span></span><span class=line><span class=cl>/usr/local/
</span></span><span class=line><span class=cl>├── bin/                                <span class=c1># Executables</span>
</span></span><span class=line><span class=cl>├── lib/                                <span class=c1># Thư viện</span>
</span></span><span class=line><span class=cl>├── include/                            <span class=c1># Header files</span>
</span></span><span class=line><span class=cl>├── share/                              <span class=c1># Dữ liệu chia sẻ</span>
</span></span><span class=line><span class=cl>│   ├── man/                            <span class=c1># Man pages</span>
</span></span><span class=line><span class=cl>│   └── doc/                            <span class=c1># Tài liệu</span>
</span></span><span class=line><span class=cl>├── etc/                                <span class=c1># File cấu hình</span>
</span></span><span class=line><span class=cl>└── src/                                <span class=c1># Mã nguồn (tùy chọn)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thêm vào PATH (thường đã có trong /etc/profile)</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=s2>&#34;/usr/local/bin:</span><span class=nv>$PATH</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Đường dẫn thư viện</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span><span class=s2>&#34;/usr/local/lib:</span><span class=nv>$LD_LIBRARY_PATH</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># Hoặc thêm vào /etc/ld.so.conf.d/local.conf:</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;/usr/local/lib&#34;</span> <span class=p>|</span> sudo tee /etc/ld.so.conf.d/local.conf
</span></span><span class=line><span class=cl>sudo ldconfig
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># stow - Quản lý symlinks /usr/local</span>
</span></span><span class=line><span class=cl><span class=c1># Mỗi gói trong thư mục riêng, symlink sang /usr/local</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>apt install stow                        <span class=c1># Cài stow</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cài gói vào /usr/local/stow/package-version</span>
</span></span><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/usr/local/stow/nginx-1.20.1
</span></span><span class=line><span class=cl>make <span class=o>&amp;&amp;</span> make install
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tạo symlinks</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> /usr/local/stow
</span></span><span class=line><span class=cl>stow nginx-1.20.1                       <span class=c1># Tạo symlinks</span>
</span></span><span class=line><span class=cl>stow -D nginx-1.20.1                    <span class=c1># Xóa symlinks</span>
</span></span><span class=line><span class=cl>stow -R nginx-1.20.1                    <span class=c1># Restow (cập nhật)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kết quả:</span>
</span></span><span class=line><span class=cl><span class=c1># /usr/local/stow/nginx-1.20.1/bin/nginx</span>
</span></span><span class=line><span class=cl><span class=c1># → symlink sang /usr/local/bin/nginx</span></span></span></code></pre></div><hr><h2 class=heading-element id=phần-10-best-practices--khắc-phục-sự-cố><span>PHẦN 10: BEST PRACTICES & KHẮC PHỤC SỰ CỐ</span>
<a href=#ph%e1%ba%a7n-10-best-practices--kh%e1%ba%afc-ph%e1%bb%a5c-s%e1%bb%b1-c%e1%bb%91 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=101-best-practices-bảo-mật><span>10.1 Best Practices Bảo Mật</span>
<a href=#101-best-practices-b%e1%ba%a3o-m%e1%ba%adt class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1. Luôn xác minh chữ ký GPG</span>
</span></span><span class=line><span class=cl><span class=c1># APT: Mặc định đã bật</span>
</span></span><span class=line><span class=cl><span class=c1># DNF: gpgcheck=1 trong repo config</span>
</span></span><span class=line><span class=cl><span class=c1># Pacman: SigLevel = Required DatabaseOptional trong pacman.conf</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. Dùng HTTPS mirrors</span>
</span></span><span class=line><span class=cl><span class=c1># Ngăn chặn tấn công MITM khi tải gói</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. Cập nhật thường xuyên</span>
</span></span><span class=line><span class=cl>apt update <span class=o>&amp;&amp;</span> apt upgrade               <span class=c1># Debian/Ubuntu</span>
</span></span><span class=line><span class=cl>dnf upgrade                             <span class=c1># Fedora</span>
</span></span><span class=line><span class=cl>pacman -Syu                             <span class=c1># Arch</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. Cập nhật chỉ bảo mật (khi có)</span>
</span></span><span class=line><span class=cl>apt upgrade --security                  <span class=c1># Debian/Ubuntu</span>
</span></span><span class=line><span class=cl>dnf upgrade --security                  <span class=c1># Fedora</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 5. Cập nhật bảo mật tự động</span>
</span></span><span class=line><span class=cl><span class=c1># Debian/Ubuntu:</span>
</span></span><span class=line><span class=cl>apt install unattended-upgrades
</span></span><span class=line><span class=cl>dpkg-reconfigure unattended-upgrades
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Fedora:</span>
</span></span><span class=line><span class=cl>dnf install dnf-automatic
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> --now dnf-automatic-install.timer
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 6. Kiểm tra các gói đã cài</span>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra CVEs:</span>
</span></span><span class=line><span class=cl>apt list --upgradable
</span></span><span class=line><span class=cl>dnf updateinfo list security
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 7. Giảm thiểu gói đã cài</span>
</span></span><span class=line><span class=cl>apt autoremove                          <span class=c1># Gỡ mồ côi</span>
</span></span><span class=line><span class=cl>dnf autoremove
</span></span><span class=line><span class=cl>pacman -Rns <span class=k>$(</span>pacman -Qdtq<span class=k>)</span>             <span class=c1># Gỡ mồ côi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 8. Xác minh tính toàn vẹn gói</span>
</span></span><span class=line><span class=cl>dpkg -V                                 <span class=c1># Debian</span>
</span></span><span class=line><span class=cl>rpm -Va                                 <span class=c1># RHEL</span>
</span></span><span class=line><span class=cl>pacman -Qk                              <span class=c1># Arch</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 9. Xem xét package scripts trước khi cài (AUR, thủ công)</span>
</span></span><span class=line><span class=cl>less PKGBUILD                           <span class=c1># Xem xét trước!</span></span></span></code></pre></div><h3 class=heading-element id=102-vấn-đề-thường-gặp--giải-pháp><span>10.2 Vấn Đề Thường Gặp & Giải Pháp</span>
<a href=#102-v%e1%ba%a5n-%c4%91%e1%bb%81-th%c6%b0%e1%bb%9dng-g%e1%ba%b7p--gi%e1%ba%a3i-ph%c3%a1p class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl><span class=c1># VẤN ĐỀ APT</span>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Could not get lock /var/lib/dpkg/lock&#34; (Không thể lấy khóa)</span>
</span></span><span class=line><span class=cl>sudo lsof /var/lib/dpkg/lock-frontend
</span></span><span class=line><span class=cl>sudo <span class=nb>kill</span> PID                           <span class=c1># Nếu an toàn</span>
</span></span><span class=line><span class=cl><span class=c1># Hoặc đợi process apt khác hoàn thành</span>
</span></span><span class=line><span class=cl><span class=c1># Phương án cuối:</span>
</span></span><span class=line><span class=cl>sudo rm /var/lib/dpkg/lock-frontend
</span></span><span class=line><span class=cl>sudo rm /var/lib/dpkg/lock
</span></span><span class=line><span class=cl>sudo dpkg --configure -a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Unmet dependencies&#34; (Phụ thuộc chưa thỏa mãn)</span>
</span></span><span class=line><span class=cl>apt install -f                          <span class=c1># Sửa phụ thuộc</span>
</span></span><span class=line><span class=cl>apt --fix-broken install
</span></span><span class=line><span class=cl>dpkg --configure -a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Hash Sum mismatch&#34; (Không khớp Hash Sum)</span>
</span></span><span class=line><span class=cl>rm -rf /var/lib/apt/lists/*
</span></span><span class=line><span class=cl>apt clean
</span></span><span class=line><span class=cl>apt update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;GPG error: NO_PUBKEY&#34; (Lỗi GPG: Không có khóa công khai)</span>
</span></span><span class=line><span class=cl>apt-key adv --keyserver keyserver.ubuntu.com --recv-keys KEY_ID
</span></span><span class=line><span class=cl><span class=c1># Hoặc (cách hiện đại):</span>
</span></span><span class=line><span class=cl>curl -fsSL https://example.com/key.gpg <span class=p>|</span> sudo gpg --dearmor -o /usr/share/keyrings/example.gpg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Gói bị giữ lỗi</span>
</span></span><span class=line><span class=cl>apt-mark showhold                       <span class=c1># Hiện bị giữ</span>
</span></span><span class=line><span class=cl>apt-mark unhold package                 <span class=c1># Bỏ giữ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl><span class=c1># VẤN ĐỀ DNF/YUM</span>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Metadata expired&#34; (Metadata hết hạn)</span>
</span></span><span class=line><span class=cl>dnf clean all
</span></span><span class=line><span class=cl>dnf makecache
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Conflict&#34; hoặc &#34;Problem&#34; (Xung đột hoặc Vấn đề)</span>
</span></span><span class=line><span class=cl>dnf install --allowerasing package      <span class=c1># Cho phép xóa xung đột</span>
</span></span><span class=line><span class=cl>dnf distro-sync                         <span class=c1># Đồng bộ phiên bản</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Cannot find a valid baseurl&#34; (Không tìm thấy baseurl hợp lệ)</span>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra mạng, DNS</span>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra /etc/yum.repos.d/*.repo có URLs hợp lệ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Database RPM bị hỏng</span>
</span></span><span class=line><span class=cl>rpm --rebuilddb
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl><span class=c1># VẤN ĐỀ PACMAN</span>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Target not found&#34; (Không tìm thấy target)</span>
</span></span><span class=line><span class=cl>pacman -Sy                              <span class=c1># Đồng bộ database</span>
</span></span><span class=line><span class=cl><span class=c1># Gói có thể trong AUR</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Conflicting files&#34; (Files xung đột)</span>
</span></span><span class=line><span class=cl>pacman -S --overwrite <span class=s1>&#39;*&#39;</span> package       <span class=c1># Buộc ghi đè</span>
</span></span><span class=line><span class=cl><span class=c1># Hoặc gỡ gói xung đột trước</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Unable to lock database&#34; (Không thể khóa database)</span>
</span></span><span class=line><span class=cl>rm /var/lib/pacman/db.lck
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;Invalid or corrupted package&#34; (Gói không hợp lệ hoặc bị hỏng)</span>
</span></span><span class=line><span class=cl>pacman -Syy                             <span class=c1># Buộc đồng bộ</span>
</span></span><span class=line><span class=cl>pacman -Sc                              <span class=c1># Dọn cache, thử lại</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Vấn đề keyring</span>
</span></span><span class=line><span class=cl>pacman -S archlinux-keyring
</span></span><span class=line><span class=cl>pacman-key --init
</span></span><span class=line><span class=cl>pacman-key --populate archlinux
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl><span class=c1># VẤN ĐỀ CHUNG</span>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Đĩa đầy</span>
</span></span><span class=line><span class=cl>du -sh /var/cache/apt/archives          <span class=c1># Cache APT</span>
</span></span><span class=line><span class=cl>du -sh /var/cache/dnf                   <span class=c1># Cache DNF</span>
</span></span><span class=line><span class=cl>du -sh /var/cache/pacman/pkg            <span class=c1># Cache Pacman</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>apt clean                               <span class=c1># Dọn cache APT</span>
</span></span><span class=line><span class=cl>dnf clean all                           <span class=c1># Dọn cache DNF</span>
</span></span><span class=line><span class=cl>pacman -Scc                             <span class=c1># Dọn cache Pacman</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm gói lớn</span>
</span></span><span class=line><span class=cl>dpkg-query -W --showformat<span class=o>=</span><span class=s1>&#39;${Installed-Size}\t${Package}\n&#39;</span> <span class=p>|</span> sort -n <span class=p>|</span> tail -20
</span></span><span class=line><span class=cl>rpm -qa --queryformat <span class=s1>&#39;%{SIZE} %{NAME}\n&#39;</span> <span class=p>|</span> sort -n <span class=p>|</span> tail -20
</span></span><span class=line><span class=cl>expac -s <span class=s1>&#39;%m\t%n&#39;</span> <span class=p>|</span> sort -n <span class=p>|</span> tail -20  <span class=c1># Arch</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hạ cấp gói</span>
</span></span><span class=line><span class=cl>apt install <span class=nv>package</span><span class=o>=</span>version             <span class=c1># APT</span>
</span></span><span class=line><span class=cl>dnf downgrade package                   <span class=c1># DNF</span>
</span></span><span class=line><span class=cl>pacman -U /var/cache/pacman/pkg/package-oldversion.pkg.tar.zst  <span class=c1># Pacman</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Liệt kê files sẽ được cài</span>
</span></span><span class=line><span class=cl>apt download nginx <span class=o>&amp;&amp;</span> dpkg -c nginx*.deb
</span></span><span class=line><span class=cl>dnf download nginx <span class=o>&amp;&amp;</span> rpm -qlp nginx*.rpm
</span></span><span class=line><span class=cl>pacman -Ql nginx                        <span class=c1># Nếu đã cài</span>
</span></span><span class=line><span class=cl>pacman -Fl nginx                        <span class=c1># Từ repo</span></span></span></code></pre></div><h3 class=heading-element id=103-cấu-hình-mirror><span>10.3 Cấu Hình Mirror</span>
<a href=#103-c%e1%ba%a5u-h%c3%acnh-mirror class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl><span class=c1># MIRRORS APT</span>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tìm mirror nhanh nhất (netselect-apt)</span>
</span></span><span class=line><span class=cl>apt install netselect-apt
</span></span><span class=line><span class=cl>netselect-apt -s -n                     <span class=c1># Tạo sources.list</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thủ công: Sửa /etc/apt/sources.list</span>
</span></span><span class=line><span class=cl><span class=c1># Thay archive.ubuntu.com bằng mirror cục bộ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl><span class=c1># MIRRORS DNF</span>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># DNF tự động chọn mirror nhanh nhất (plugin fastestmirror)</span>
</span></span><span class=line><span class=cl><span class=c1># Bật trong /etc/dnf/dnf.conf:</span>
</span></span><span class=line><span class=cl><span class=nv>fastestmirror</span><span class=o>=</span>True
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Buộc mirror cụ thể:</span>
</span></span><span class=line><span class=cl><span class=c1># Sửa /etc/yum.repos.d/*.repo</span>
</span></span><span class=line><span class=cl><span class=c1># Comment mirrorlist, uncomment baseurl</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl><span class=c1># MIRRORS PACMAN</span>
</span></span><span class=line><span class=cl><span class=c1># ═══════════════════════════════════════════════════════════</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dùng reflector cho mirrors nhanh nhất</span>
</span></span><span class=line><span class=cl>pacman -S reflector
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>reflector --country US,Canada --age <span class=m>12</span> --protocol https <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --sort rate --save /etc/pacman.d/mirrorlist
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tự động cập nhật mirrors (systemd timer)</span>
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> reflector.timer
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thủ công: Sửa /etc/pacman.d/mirrorlist</span>
</span></span><span class=line><span class=cl><span class=c1># Uncomment mirrors ưu tiên, đặt lên đầu</span></span></span></code></pre></div><hr><h2 class=heading-element id=tóm-tắt-nhanh><span>TÓM TẮT NHANH</span>
<a href=#t%c3%b3m-t%e1%ba%aft-nhanh class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=bảng-cheatsheet-đa-distro><span>Bảng Cheatsheet Đa Distro</span>
<a href=#b%e1%ba%a3ng-cheatsheet-%c4%91a-distro class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><table><thead><tr><th>Hành động</th><th>APT (Deb/Ubu)</th><th>DNF (Fed/RHEL)</th><th>Pacman (Arch)</th><th>Zypper (SUSE)</th></tr></thead><tbody><tr><td>Cập nhật index</td><td>apt update</td><td>dnf check-update</td><td>pacman -Sy</td><td>zypper ref</td></tr><tr><td>Nâng cấp tất cả</td><td>apt upgrade</td><td>dnf upgrade</td><td>pacman -Su</td><td>zypper up</td></tr><tr><td>Cập nhật + nâng</td><td>apt update &&</td><td>dnf upgrade</td><td>pacman -Syu</td><td>zypper ref &&</td></tr><tr><td>cấp</td><td>apt upgrade</td><td></td><td></td><td>zypper up</td></tr><tr><td>Tìm kiếm</td><td>apt search X</td><td>dnf search X</td><td>pacman -Ss X</td><td>zypper se X</td></tr><tr><td>Thông tin</td><td>apt show X</td><td>dnf info X</td><td>pacman -Si X</td><td>zypper if X</td></tr><tr><td>Cài đặt</td><td>apt install X</td><td>dnf install X</td><td>pacman -S X</td><td>zypper in X</td></tr><tr><td>Gỡ bỏ</td><td>apt remove X</td><td>dnf remove X</td><td>pacman -R X</td><td>zypper rm X</td></tr><tr><td>Gỡ + deps</td><td>apt autoremove</td><td>dnf autoremove</td><td>pacman -Rs X</td><td>zypper rm -u X</td></tr><tr><td>Gỡ + config</td><td>apt purge X</td><td>dnf remove X</td><td>pacman -Rns X</td><td>zypper rm X</td></tr><tr><td>Liệt kê đã cài</td><td>apt list &ndash;inst</td><td>dnf list inst</td><td>pacman -Q</td><td>zypper pa -i</td></tr><tr><td>Liệt kê files</td><td>dpkg -L X</td><td>rpm -ql X</td><td>pacman -Ql X</td><td>rpm -ql X</td></tr><tr><td>Tìm gói sở hữu</td><td>dpkg -S /path</td><td>rpm -qf /path</td><td>pacman -Qo /path</td><td>zypper se -f /p</td></tr><tr><td>Dọn cache</td><td>apt clean</td><td>dnf clean all</td><td>pacman -Sc</td><td>zypper clean</td></tr><tr><td>Sửa deps</td><td>apt install -f</td><td>dnf distro-sync</td><td>(N/A)</td><td>zypper verify</td></tr><tr><td>Giữ gói</td><td>apt-mark hold X</td><td>dnf versionlock</td><td>IgnorePkg trong</td><td>zypper al X</td></tr><tr><td></td><td></td><td>add X</td><td>pacman.conf</td><td></td></tr></tbody></table><h3 class=heading-element id=công-cụ-cấp-thấp><span>Công Cụ Cấp Thấp</span>
<a href=#c%c3%b4ng-c%e1%bb%a5-c%e1%ba%a5p-th%e1%ba%a5p class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><table><thead><tr><th>Hành động</th><th>dpkg (Debian)</th><th>rpm (RHEL)</th></tr></thead><tbody><tr><td>Cài cục bộ</td><td>dpkg -i X.deb</td><td>rpm -ivh X.rpm</td></tr><tr><td>Gỡ bỏ</td><td>dpkg -r X</td><td>rpm -e X</td></tr><tr><td>Liệt kê đã cài</td><td>dpkg -l</td><td>rpm -qa</td></tr><tr><td>Liệt kê files</td><td>dpkg -L X</td><td>rpm -ql X</td></tr><tr><td>Thông tin gói</td><td>dpkg -s X</td><td>rpm -qi X</td></tr><tr><td>Tìm gói sở hữu</td><td>dpkg -S /path</td><td>rpm -qf /path</td></tr><tr><td>Xác minh</td><td>dpkg -V</td><td>rpm -V X</td></tr><tr><td>Nội dung gói</td><td>dpkg -c X.deb</td><td>rpm -qlp X.rpm</td></tr><tr><td>Giải nén</td><td>dpkg-deb -x</td><td>rpm2cpio | cpio</td></tr></tbody></table><h3 class=heading-element id=gói-universal><span>Gói Universal</span>
<a href=#g%c3%b3i-universal class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Flatpak</span>
</span></span><span class=line><span class=cl>flatpak install flathub org.app.Name
</span></span><span class=line><span class=cl>flatpak run org.app.Name
</span></span><span class=line><span class=cl>flatpak update
</span></span><span class=line><span class=cl>flatpak uninstall org.app.Name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Snap</span>
</span></span><span class=line><span class=cl>snap install app-name
</span></span><span class=line><span class=cl>snap run app-name
</span></span><span class=line><span class=cl>snap refresh
</span></span><span class=line><span class=cl>snap remove app-name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># AppImage</span>
</span></span><span class=line><span class=cl>chmod +x App.AppImage
</span></span><span class=line><span class=cl>./App.AppImage</span></span></code></pre></div><h3 class=heading-element id=alpine-apk><span>Alpine APK</span>
<a href=#alpine-apk class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apk update                              <span class=c1># Cập nhật index</span>
</span></span><span class=line><span class=cl>apk upgrade                             <span class=c1># Nâng cấp tất cả</span>
</span></span><span class=line><span class=cl>apk add X                               <span class=c1># Cài đặt</span>
</span></span><span class=line><span class=cl>apk del X                               <span class=c1># Gỡ bỏ</span>
</span></span><span class=line><span class=cl>apk search X                            <span class=c1># Tìm kiếm</span>
</span></span><span class=line><span class=cl>apk info X                              <span class=c1># Thông tin</span>
</span></span><span class=line><span class=cl>apk info -L X                           <span class=c1># Liệt kê files</span></span></span></code></pre></div><h3 class=heading-element id=rpm-ostree-immutable><span>rpm-ostree (Immutable)</span>
<a href=#rpm-ostree-immutable class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rpm-ostree status                       <span class=c1># Deployments hiện tại</span>
</span></span><span class=line><span class=cl>rpm-ostree upgrade                      <span class=c1># Nâng cấp hệ thống</span>
</span></span><span class=line><span class=cl>rpm-ostree install X                    <span class=c1># Layer gói</span>
</span></span><span class=line><span class=cl>rpm-ostree uninstall X                  <span class=c1># Gỡ layer</span>
</span></span><span class=line><span class=cl>rpm-ostree rollback                     <span class=c1># Quay về trước</span>
</span></span><span class=line><span class=cl><span class=c1># Cần reboot sau khi thay đổi!</span></span></span></code></pre></div></div><hr class=awesome-hr><h2 id=see-also>Nội dung liên quan</h2><ul><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ title="Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux">Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux</a></li><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/user-group/ title="Những Câu Lệnh Quản Lý Người Dùng">Những Câu Lệnh Quản Lý Người Dùng</a></li><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/storage/ title="Những Câu Lệnh Về Hệ Thống Tệp, Ổ Đĩa Và Lưu Trữ">Những Câu Lệnh Về Hệ Thống Tệp, Ổ Đĩa Và Lưu Trữ</a></li><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/regex-awk-sed/ title="Những Câu Lệnh Quản Lý Đầu Vào/Ra Tiêu Chuẩn (Stdin/Stdout) Trong Linux">Những Câu Lệnh Quản Lý Đầu Vào/Ra Tiêu Chuẩn (Stdin/Stdout) Trong Linux</a></li><li><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/process-service-log/ title="Những Câu Lệnh Quản Lý Tiến Trình, Dịch Vụ Và Nhật Ký">Những Câu Lệnh Quản Lý Tiến Trình, Dịch Vụ Và Nhật Ký</a></li></ul><div class=collection-card><div class="collection-title text-secondary">Trong <a href=/collections/linux-cli/><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i> <span>Bộ sưu tập・Linux Cli</span></span></a> 12</div><div class=collection-nav><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ class=collection-nav-item rel=prev title="Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i><span>Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux</span>
</a><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/selinux/ class=collection-nav-item rel=next title="Kiểm Soát Truy Cập Bắt Buộc - SElinux & Apparmor"><span>Kiểm Soát Truy Cập Bắt Buộc - SElinux & Apparmor</span><i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Cập nhật ngày 2026-01-12 11:04:48">Cập nhật ngày 2026-01-12&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Chia sẻ trên X" data-sharer=twitter data-url=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/package-manager/ data-title="Những Câu Lệnh Quản Lý Gói Và Phần Mềm" data-hashtags="ai generated post"><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Chia sẻ trên Facebook" data-sharer=facebook data-url=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/package-manager/ data-hashtag="ai generated post"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Chia sẻ trên 微博" data-sharer=weibo data-url=https://vanvuvuong.github.io/bai-viet/khoa-hoc-may-tinh/linux-cli/package-manager/ data-title="Những Câu Lệnh Quản Lý Gói Và Phần Mềm"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/ai-generated-post/ class=post-tag title="Nhãn - Ai Generated Post">Ai Generated Post</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Quay lại</a></span>&nbsp;|&nbsp;<span><a href=/>Trang chủ</a></span></section></div><div class=post-nav><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/user-group/ class=post-nav-item rel=prev title="Những Câu Lệnh Quản Lý Người Dùng"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Những Câu Lệnh Quản Lý Người Dùng</a><a href=/bai-viet/khoa-hoc-may-tinh/linux-cli/encryption-and-security/ class=post-nav-item rel=next title="Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux">Những Câu Lệnh Mã Hoá Và Bảo Mật Trong Linux<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article><aside class=toc id=toc-auto aria-label="Nội dung"><h2 class=toc-title>Nội dung&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><dialog id=toc-dialog aria-labelledby=toc-dialog-title role=dialog><div class=toc><h2 class=toc-title>Nội dung</h2><div class=toc-content id=toc-content-drawer><nav><ul><li><ul><li><a href=#phần-1-nền-tảng-package-management>PHẦN 1: NỀN TẢNG PACKAGE MANAGEMENT</a><ul><li><a href=#11-kiến-trúc-package-manager>1.1 Kiến Trúc Package Manager</a></li><li><a href=#12-định-dạng-gói>1.2 Định Dạng Gói</a></li><li><a href=#13-giải-quyết-phụ-thuộc>1.3 Giải Quyết Phụ Thuộc</a></li><li><a href=#14-cấu-trúc-repository>1.4 Cấu Trúc Repository</a></li></ul></li><li><a href=#phần-2-debianubuntu---apt--dpkg>PHẦN 2: DEBIAN/UBUNTU - APT & DPKG</a><ul><li><a href=#21-dpkg---công-cụ-cấp-thấp>2.1 dpkg - Công Cụ Cấp Thấp</a></li><li><a href=#22-apt-vs-apt-get-vs-apt-cache>2.2 apt vs apt-get vs apt-cache</a></li><li><a href=#23-apt---các-thao-tác-phổ-biến>2.3 apt - Các Thao Tác Phổ Biến</a></li><li><a href=#24-cấu-hình-repository>2.4 Cấu Hình Repository</a></li><li><a href=#25-cấu-hình-apt--proxy>2.5 Cấu Hình APT & Proxy</a></li></ul></li><li><a href=#phần-3-rhelfedora---dnf--rpm>PHẦN 3: RHEL/FEDORA - DNF & RPM</a><ul><li><a href=#31-rpm---công-cụ-cấp-thấp>3.1 rpm - Công Cụ Cấp Thấp</a></li><li><a href=#32-dnf-dandified-yum>3.2 DNF (Dandified YUM)</a></li><li><a href=#33-cấu-hình-repository-dnf>3.3 Cấu Hình Repository DNF</a></li><li><a href=#34-cấu-hình-dnf>3.4 Cấu Hình DNF</a></li><li><a href=#35-yum-legacy>3.5 YUM (Legacy)</a></li></ul></li><li><a href=#phần-4-arch-linux---pacman>PHẦN 4: ARCH LINUX - PACMAN</a><ul><li><a href=#41-cơ-bản-pacman>4.1 Cơ Bản Pacman</a></li><li><a href=#42-cấu-hình-pacman>4.2 Cấu Hình Pacman</a></li><li><a href=#43-aur-arch-user-repository>4.3 AUR (Arch User Repository)</a></li></ul></li><li><a href=#phần-5-opensuse---zypper>PHẦN 5: OPENSUSE - ZYPPER</a><ul><li><a href=#51-cơ-bản-zypper>5.1 Cơ Bản Zypper</a></li><li><a href=#52-quản-lý-repository-zypper>5.2 Quản Lý Repository Zypper</a></li></ul></li><li><a href=#phần-6-alpine---apk>PHẦN 6: ALPINE - APK</a><ul><li><a href=#61-cơ-bản-apk>6.1 Cơ Bản APK</a></li><li><a href=#62-cấu-hình-repository-apk>6.2 Cấu Hình Repository APK</a></li><li><a href=#63-apk-trong-docker>6.3 APK trong Docker</a></li></ul></li><li><a href=#phần-7-hệ-thống-immutable---rpm-ostree>PHẦN 7: HỆ THỐNG IMMUTABLE - RPM-OSTREE</a><ul><li><a href=#71-khái-niệm-os-immutable>7.1 Khái Niệm OS Immutable</a></li><li><a href=#72-các-lệnh-rpm-ostree>7.2 Các Lệnh rpm-ostree</a></li><li><a href=#73-flatpak-cho-ứng-dụng>7.3 Flatpak cho Ứng Dụng</a></li></ul></li><li><a href=#phần-8-gói-universal>PHẦN 8: GÓI UNIVERSAL</a><ul><li><a href=#81-so-sánh-định-dạng-gói>8.1 So Sánh Định Dạng Gói</a></li><li><a href=#82-flatpak>8.2 Flatpak</a></li><li><a href=#83-snap>8.3 Snap</a></li><li><a href=#84-appimage>8.4 AppImage</a></li></ul></li><li><a href=#phần-9-từ-mã-nguồn--thủ-công>PHẦN 9: TỪ MÃ NGUỒN & THỦ CÔNG</a><ul><li><a href=#91-build-từ-mã-nguồn>9.1 Build Từ Mã Nguồn</a></li><li><a href=#92-checkinstall---theo-dõi-cài-đặt-thủ-công>9.2 checkinstall - Theo Dõi Cài Đặt Thủ Công</a></li><li><a href=#93-quản-lý-usrlocal>9.3 Quản Lý /usr/local</a></li></ul></li><li><a href=#phần-10-best-practices--khắc-phục-sự-cố>PHẦN 10: BEST PRACTICES & KHẮC PHỤC SỰ CỐ</a><ul><li><a href=#101-best-practices-bảo-mật>10.1 Best Practices Bảo Mật</a></li><li><a href=#102-vấn-đề-thường-gặp--giải-pháp>10.2 Vấn Đề Thường Gặp & Giải Pháp</a></li><li><a href=#103-cấu-hình-mirror>10.3 Cấu Hình Mirror</a></li></ul></li><li><a href=#tóm-tắt-nhanh>TÓM TẮT NHANH</a><ul><li><a href=#bảng-cheatsheet-đa-distro>Bảng Cheatsheet Đa Distro</a></li><li><a href=#công-cụ-cấp-thấp>Công Cụ Cấp Thấp</a></li><li><a href=#gói-universal>Gói Universal</a></li><li><a href=#alpine-apk>Alpine APK</a></li><li><a href=#rpm-ostree-immutable>rpm-ostree (Immutable)</a></li></ul></li></ul></li></ul></nav></div></div></dialog></main><footer class=footer><div class=footer-container><div class="footer-line powered">Cung cấp bởi <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.152.0"><img class=hugo-icon src=/images/hugo.min.svg alt="Hugo logo"> Hugo</a> | Chủ đề - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.4.0-alpha.2"><img class=fixit-icon src=/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2026</span></div></div></footer></div><div class=widgets><div class=fixed-buttons><div class="fixed-button back-to-top animate__faster" role=button aria-label="Lên trên"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><svg viewBox="0 0 100 100"><circle class="bg" cx="50" cy="50" r="50"/><circle class="progress" cx="50" cy="50" r="50"/></svg></div><div id=toc-drawer-button class="fixed-button toc-drawer-button" role=button aria-label="Nội dung"><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></div></div><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#000;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>Trang web này hoạt động tốt nhất khi JavaScript được kích hoạt.</div></noscript></div><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-minimal.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/instant-page/instantpage.min.js async defer type=module></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/lib/pace/pace.min.js async defer></script><script src=/bai-viet/khoa-hoc-may-tinh/linux-cli/package-manager/config/page.js defer></script><script src=/js/theme.min.js defer></script></body></html>